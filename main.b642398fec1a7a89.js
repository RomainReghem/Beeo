(self.webpackChunkbeeo=self.webpackChunkbeeo||[]).push([[179],{907:(B,q,P)=>{"use strict";function Q(e){return"function"==typeof e}function f(e){const n=e(i=>{Error.call(i),i.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const m=f(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function w(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class M{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:i}=this;if(Q(i))try{i()}catch(s){t=s instanceof m?s.errors:[s]}const{_teardowns:r}=this;if(r){this._teardowns=null;for(const s of r)try{V(s)}catch(l){t=null!=t?t:[],l instanceof m?t=[...t,...l.errors]:t.push(l)}}if(t)throw new m(t)}}add(t){var n;if(t&&t!==this)if(this.closed)V(t);else{if(t instanceof M){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._teardowns=null!==(n=this._teardowns)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&w(n,t)}remove(t){const{_teardowns:n}=this;n&&w(n,t),t instanceof M&&t._removeParent(this)}}M.EMPTY=(()=>{const e=new M;return e.closed=!0,e})();const O=M.EMPTY;function z(e){return e instanceof M||e&&"closed"in e&&Q(e.remove)&&Q(e.add)&&Q(e.unsubscribe)}function V(e){Q(e)?e():e.unsubscribe()}const Z={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ve={setTimeout(...e){const{delegate:t}=ve;return((null==t?void 0:t.setTimeout)||setTimeout)(...e)},clearTimeout(e){const{delegate:t}=ve;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function co(e){ve.setTimeout(()=>{const{onUnhandledError:t}=Z;if(!t)throw e;t(e)})}function fn(){}const Re=ho("C",void 0,void 0);function ho(e,t,n){return{kind:e,value:t,error:n}}let rt=null;function Ai(e){if(Z.useDeprecatedSynchronousErrorHandling){const t=!rt;if(t&&(rt={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:i}=rt;if(rt=null,n)throw i}}else e()}class Ni extends M{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,z(t)&&t.add(this)):this.destination=st}static create(t,n,i){return new po(t,n,i)}next(t){this.isStopped?_o(function Vl(e){return ho("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?_o(function Vs(e){return ho("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?_o(Re,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class po extends Ni{constructor(t,n,i){let r;if(super(),Q(t))r=t;else if(t){let s;({next:r,error:n,complete:i}=t),this&&Z.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe()):s=t,r=null==r?void 0:r.bind(s),n=null==n?void 0:n.bind(s),i=null==i?void 0:i.bind(s)}this.destination={next:r?go(r):fn,error:go(null!=n?n:mo),complete:i?go(i):fn}}}function go(e,t){return(...n)=>{try{e(...n)}catch(i){Z.useDeprecatedSynchronousErrorHandling?function fo(e){Z.useDeprecatedSynchronousErrorHandling&&rt&&(rt.errorThrown=!0,rt.error=e)}(i):co(i)}}}function mo(e){throw e}function _o(e,t){const{onStoppedNotification:n}=Z;n&&ve.setTimeout(()=>n(e,t))}const st={closed:!0,next:fn,error:mo,complete:fn},at="function"==typeof Symbol&&Symbol.observable||"@@observable";function zs(e){return e}let Pe=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const i=new e;return i.source=this,i.operator=n,i}subscribe(n,i,r){const s=function Us(e){return e&&e instanceof Ni||function ee(e){return e&&Q(e.next)&&Q(e.error)&&Q(e.complete)}(e)&&z(e)}(n)?n:new po(n,i,r);return Ai(()=>{const{operator:l,source:c}=this;s.add(l?l.call(s,c):c?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return new(i=mi(i))((r,s)=>{let l;l=this.subscribe(c=>{try{n(c)}catch(d){s(d),null==l||l.unsubscribe()}},s,r)})}_subscribe(n){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(n)}[at](){return this}pipe(...n){return function js(e){return 0===e.length?zs:1===e.length?e[0]:function(n){return e.reduce((i,r)=>r(i),n)}}(n)(this)}toPromise(n){return new(n=mi(n))((i,r)=>{let s;this.subscribe(l=>s=l,l=>r(l),()=>i(s))})}}return e.create=t=>new e(t),e})();function mi(e){var t;return null!==(t=null!=e?e:Z.Promise)&&void 0!==t?t:Promise}const ye=f(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Se=(()=>{class e extends Pe{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const i=new St(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new ye}next(n){Ai(()=>{if(this._throwIfClosed(),!this.isStopped){const i=this.observers.slice();for(const r of i)r.next(n)}})}error(n){Ai(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){Ai(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:i,isStopped:r,observers:s}=this;return i||r?O:(s.push(n),new M(()=>w(s,n)))}_checkFinalizedStatuses(n){const{hasError:i,thrownError:r,isStopped:s}=this;i?n.error(r):s&&n.complete()}asObservable(){const n=new Pe;return n.source=this,n}}return e.create=(t,n)=>new St(t,n),e})();class St extends Se{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,i;null===(i=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===i||i.call(n,t)}error(t){var n,i;null===(i=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===i||i.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,i;return null!==(i=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==i?i:O}}function Oe(e){return t=>{if(function ht(e){return Q(null==e?void 0:e.lift)}(t))return t.lift(function(n){try{return e(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}class we extends Ni{constructor(t,n,i,r,s){super(t),this.onFinalize=s,this._next=n?function(l){try{n(l)}catch(c){t.error(c)}}:super._next,this._error=r?function(l){try{r(l)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}function Ie(e,t){return Oe((n,i)=>{let r=0;n.subscribe(new we(i,s=>{i.next(e.call(t,s,r++))}))})}function zt(e){return this instanceof zt?(this.v=e,this):new zt(e)}function Ul(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),s=[];return r={},l("next"),l("throw"),l("return"),r[Symbol.asyncIterator]=function(){return this},r;function l(D){i[D]&&(r[D]=function(b){return new Promise(function(E,S){s.push([D,b,E,S])>1||c(D,b)})})}function c(D,b){try{!function d(D){D.value instanceof zt?Promise.resolve(D.value.v).then(p,_):v(s[0][2],D)}(i[D](b))}catch(E){v(s[0][3],E)}}function p(D){c("next",D)}function _(D){c("throw",D)}function v(D,b){D(b),s.shift(),s.length&&c(s[0][0],s[0][1])}}function Pr(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function Ri(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(s){n[s]=e[s]&&function(l){return new Promise(function(c,d){!function r(s,l,c,d){Promise.resolve(d).then(function(p){s({value:p,done:c})},l)}(c,d,(l=e[s](l)).done,l.value)})}}}const wo=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function Do(e){return Q(null==e?void 0:e.then)}function kr(e){return Q(e[at])}function bt(e){return Symbol.asyncIterator&&Q(null==e?void 0:e[Symbol.asyncIterator])}function Jn(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Ks=function ql(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function pn(e){return Q(null==e?void 0:e[Ks])}function jt(e){return Ul(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:i,done:r}=yield zt(n.read());if(r)return yield zt(void 0);yield yield zt(i)}}finally{n.releaseLock()}})}function Ut(e){return Q(null==e?void 0:e.getReader)}function Qn(e){if(e instanceof Pe)return e;if(null!=e){if(kr(e))return function Yl(e){return new Pe(t=>{const n=e[at]();if(Q(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(wo(e))return function kn(e){return new Pe(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(Do(e))return function yi(e){return new Pe(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,co)})}(e);if(bt(e))return Fi(e);if(pn(e))return function Js(e){return new Pe(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(Ut(e))return function bo(e){return Fi(jt(e))}(e)}throw Jn(e)}function Fi(e){return new Pe(t=>{(function Qt(e,t){var n,i,r,s;return function zl(e,t,n,i){return new(n||(n=Promise))(function(s,l){function c(_){try{p(i.next(_))}catch(v){l(v)}}function d(_){try{p(i.throw(_))}catch(v){l(v)}}function p(_){_.done?s(_.value):function r(s){return s instanceof n?s:new n(function(l){l(s)})}(_.value).then(c,d)}p((i=i.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=Pr(e);!(i=yield n.next()).done;)if(t.next(i.value),t.closed)return}catch(l){r={error:l}}finally{try{i&&!i.done&&(s=n.return)&&(yield s.call(n))}finally{if(r)throw r.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function On(e,t,n,i=0,r=!1){const s=t.schedule(function(){n(),r?e.add(this.schedule(null,i)):this.unsubscribe()},i);if(e.add(s),!r)return s}function vi(e,t,n=1/0){return Q(t)?vi((i,r)=>Ie((s,l)=>t(i,s,r,l))(Qn(e(i,r))),n):("number"==typeof t&&(n=t),Oe((i,r)=>function Or(e,t,n,i,r,s,l,c){const d=[];let p=0,_=0,v=!1;const D=()=>{v&&!d.length&&!p&&t.complete()},b=S=>p<i?E(S):d.push(S),E=S=>{s&&t.next(S),p++;let R=!1;Qn(n(S,_++)).subscribe(new we(t,N=>{null==r||r(N),s?b(N):t.next(N)},()=>{R=!0},void 0,()=>{if(R)try{for(p--;d.length&&p<i;){const N=d.shift();l?On(t,l,()=>E(N)):E(N)}D()}catch(N){t.error(N)}}))};return e.subscribe(new we(t,b,()=>{v=!0,D()})),()=>{null==c||c()}}(i,r,e,n)))}const Bi=new Pe(e=>e.complete());function Nr(e){return e[e.length-1]}function Xs(e){return function Kl(e){return e&&Q(e.schedule)}(Nr(e))?e.pop():void 0}function Rr(e,t=0){return Oe((n,i)=>{n.subscribe(new we(i,r=>On(i,e,()=>i.next(r),t),()=>On(i,e,()=>i.complete(),t),r=>On(i,e,()=>i.error(r),t)))})}function Co(e,t=0){return Oe((n,i)=>{i.add(e.schedule(()=>n.subscribe(i),t))})}function Xn(e,t){if(!e)throw new Error("Iterable cannot be null");return new Pe(n=>{On(n,t,()=>{const i=e[Symbol.asyncIterator]();On(n,t,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function Vi(e,t){return t?function tu(e,t){if(null!=e){if(kr(e))return function Ql(e,t){return Qn(e).pipe(Co(t),Rr(t))}(e,t);if(wo(e))return function Eo(e,t){return new Pe(n=>{let i=0;return t.schedule(function(){i===e.length?n.complete():(n.next(e[i++]),n.closed||this.schedule())})})}(e,t);if(Do(e))return function Xl(e,t){return Qn(e).pipe(Co(t),Rr(t))}(e,t);if(bt(e))return Xn(e,t);if(pn(e))return function Mo(e,t){return new Pe(n=>{let i;return On(n,t,()=>{i=e[Ks](),On(n,t,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(l){return void n.error(l)}s?n.complete():n.next(r)},0,!0)}),()=>Q(null==i?void 0:i.return)&&i.return()})}(e,t);if(Ut(e))return function eu(e,t){return Xn(jt(e),t)}(e,t)}throw Jn(e)}(e,t):Qn(e)}function ei(e,t,...n){return!0===t?(e(),null):!1===t?null:t(...n).pipe(function ea(e){return e<=0?()=>Bi:Oe((t,n)=>{let i=0;t.subscribe(new we(n,r=>{++i<=e&&(n.next(r),e<=i&&n.complete())}))})}(1)).subscribe(()=>e())}function G(e){for(let t in e)if(e[t]===G)return t;throw Error("Could not find renamed property on target object.")}function De(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(De).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function An(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const wi=G({__forward_ref__:G});function ji(e){return e.__forward_ref__=ji,e.toString=function(){return De(this())},e}function F(e){return function Fe(e){return"function"==typeof e&&e.hasOwnProperty(wi)&&e.__forward_ref__===ji}(e)?e():e}class pe extends Error{constructor(t,n){super(function ft(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function te(e){return"string"==typeof e?e:null==e?"":String(e)}function qe(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():te(e)}function Nn(e,t){const n=t?` in ${t}`:"";throw new pe(-201,`No provider for ${qe(e)} found${n}`)}function Be(e,t){null==e&&function X(e,t,n,i){throw new Error(`ASSERTION ERROR: ${e}`+(null==i?"":` [Expected=> ${n} ${i} ${t} <=Actual]`))}(t,e,null,"!=")}function Ce(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Xt(e){return{providers:e.providers||[],imports:e.imports||[]}}function ii(e){return Ct(e,Zi)||Ct(e,Lo)}function Ct(e,t){return e.hasOwnProperty(t)?e[t]:null}function da(e){return e&&(e.hasOwnProperty(Gi)||e.hasOwnProperty(Vr))?e[Gi]:null}const Zi=G({\u0275prov:G}),Gi=G({\u0275inj:G}),Lo=G({ngInjectableDef:G}),Vr=G({ngInjectorDef:G});var ne=(()=>((ne=ne||{})[ne.Default=0]="Default",ne[ne.Host=1]="Host",ne[ne.Self=2]="Self",ne[ne.SkipSelf=4]="SkipSelf",ne[ne.Optional=8]="Optional",ne))();let zr;function ae(e){const t=zr;return zr=e,t}function fa(e,t,n){const i=ii(e);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:n&ne.Optional?null:void 0!==t?t:void Nn(De(e),"Injector")}function kt(e){return{toString:e}.toString()}var Ot=(()=>((Ot=Ot||{})[Ot.OnPush=0]="OnPush",Ot[Ot.Default=1]="Default",Ot))(),tn=(()=>{return(e=tn||(tn={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",tn;var e})();const ga="undefined"!=typeof globalThis&&globalThis,ou="undefined"!=typeof window&&window,jr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,ce=ga||"undefined"!=typeof global&&global||ou||jr,oi={},Le=[],nn=G({\u0275cmp:G}),To=G({\u0275dir:G}),xo=G({\u0275pipe:G}),ma=G({\u0275mod:G}),mn=G({\u0275fac:G}),ri=G({__NG_ELEMENT_ID__:G});let su=0;function bi(e){return kt(()=>{const n={},i={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===Ot.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||Le,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||tn.Emulated,id:"c",styles:e.styles||Le,_:null,setInput:null,schemas:e.schemas||null,tView:null},r=e.directives,s=e.features,l=e.pipes;return i.id+=su++,i.inputs=Ur(e.inputs,n),i.outputs=Ur(e.outputs),s&&s.forEach(c=>c(i)),i.directiveDefs=r?()=>("function"==typeof r?r():r).map($i):null,i.pipeDefs=l?()=>("function"==typeof l?l():l).map(Rn):null,i})}function $i(e){return lt(e)||function on(e){return e[To]||null}(e)}function Rn(e){return function yn(e){return e[xo]||null}(e)}const ya={};function Gt(e){return kt(()=>{const t={type:e.type,bootstrap:e.bootstrap||Le,declarations:e.declarations||Le,imports:e.imports||Le,exports:e.exports||Le,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(ya[e.id]=e.type),t})}function Ur(e,t){if(null==e)return oi;const n={};for(const i in e)if(e.hasOwnProperty(i)){let r=e[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),n[r]=i,t&&(t[r]=s)}return n}function lt(e){return e[nn]||null}function Nt(e,t){const n=e[ma]||null;if(!n&&!0===t)throw new Error(`Type ${De(e)} does not have '\u0275mod' property.`);return n}function dt(e){return Array.isArray(e)&&"object"==typeof e[1]}function _t(e){return Array.isArray(e)&&!0===e[1]}function Yi(e){return 0!=(8&e.flags)}function ko(e){return 1==(1&e.flags)}function yt(e){return null!==e.template}function au(e){return 0!=(512&e[2])}function sn(e,t){return e.hasOwnProperty(mn)?e[mn]:null}class eo{constructor(t,n,i){this.previousValue=t,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}}function Gr(e){return e.type.prototype.ngOnChanges&&(e.setInput=wa),pu}function pu(){const e=Wr(this),t=null==e?void 0:e.current;if(t){const n=e.previous;if(n===oi)e.previous=t;else for(let i in t)n[i]=t[i];e.current=null,this.ngOnChanges(t)}}function wa(e,t,n,i){const r=Wr(e)||function Da(e,t){return e[$r]=t}(e,{previous:oi,current:null}),s=r.current||(r.current={}),l=r.previous,c=this.declaredInputs[n],d=l[c];s[c]=new eo(d&&d.currentValue,t,l===oi),e[i]=t}const $r="__ngSimpleChanges__";function Wr(e){return e[$r]||null}let a;function y(e){return!!e.listen}const C={createRenderer:(e,t)=>function h(){return void 0!==a?a:"undefined"!=typeof document?document:void 0}()};function x(e){for(;Array.isArray(e);)e=e[0];return e}function ie(e,t){return x(t[e.index])}function ze(e,t){const n=t[e];return dt(n)?n:n[0]}function Fo(e){return 4==(4&e[2])}function qr(e){return 128==(128&e[2])}function Vn(e,t){return null==t?null:e[t]}function Yr(e){e[18]=0}function Kr(e,t){e[5]+=t;let n=e,i=e[3];for(;null!==i&&(1===t&&1===n[5]||-1===t&&0===n[5]);)i[5]+=t,n=i,i=i[3]}const K={lFrame:bh(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ea(){return K.bindingsEnabled}function A(){return K.lFrame.lView}function be(){return K.lFrame.tView}function tt(){let e=mh();for(;null!==e&&64===e.type;)e=e.parent;return e}function mh(){return K.lFrame.currentTNode}function zn(e,t){const n=K.lFrame;n.currentTNode=e,n.isParent=t}function yu(){return K.lFrame.isParent}function La(){return K.isInCheckNoChangesMode}function Ta(e){K.isInCheckNoChangesMode=e}function Iy(e,t){const n=K.lFrame;n.bindingIndex=n.bindingRootIndex=e,wu(t)}function wu(e){K.lFrame.currentDirectiveIndex=e}function vh(){return K.lFrame.currentQueryIndex}function bu(e){K.lFrame.currentQueryIndex=e}function ky(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function wh(e,t,n){if(n&ne.SkipSelf){let r=t,s=e;for(;!(r=r.parent,null!==r||n&ne.Host||(r=ky(s),null===r||(s=s[15],10&r.type))););if(null===r)return!1;t=r,e=s}const i=K.lFrame=Dh();return i.currentTNode=t,i.lView=e,!0}function xa(e){const t=Dh(),n=e[1];K.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Dh(){const e=K.lFrame,t=null===e?null:e.child;return null===t?bh(e):t}function bh(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Ch(){const e=K.lFrame;return K.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Eh=Ch;function Pa(){const e=Ch();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Tt(){return K.lFrame.selectedIndex}function Li(e){K.lFrame.selectedIndex=e}function Ia(e,t){for(let n=t.directiveStart,i=t.directiveEnd;n<i;n++){const s=e.data[n].type.prototype,{ngAfterContentInit:l,ngAfterContentChecked:c,ngAfterViewInit:d,ngAfterViewChecked:p,ngOnDestroy:_}=s;l&&(e.contentHooks||(e.contentHooks=[])).push(-n,l),c&&((e.contentHooks||(e.contentHooks=[])).push(n,c),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,c)),d&&(e.viewHooks||(e.viewHooks=[])).push(-n,d),p&&((e.viewHooks||(e.viewHooks=[])).push(n,p),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,p)),null!=_&&(e.destroyHooks||(e.destroyHooks=[])).push(n,_)}}function Sa(e,t,n){Mh(e,t,3,n)}function ka(e,t,n,i){(3&e[2])===n&&Mh(e,t,n,i)}function Cu(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function Mh(e,t,n,i){const s=null!=i?i:-1,l=t.length-1;let c=0;for(let d=void 0!==i?65535&e[18]:0;d<l;d++)if("number"==typeof t[d+1]){if(c=t[d],null!=i&&c>=i)break}else t[d]<0&&(e[18]+=65536),(c<s||-1==s)&&(zy(e,n,t,d),e[18]=(4294901760&e[18])+d+2),d++}function zy(e,t,n,i){const r=n[i]<0,s=n[i+1],c=e[r?-n[i]:n[i]];if(r){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{s.call(c)}finally{}}}else try{s.call(c)}finally{}}class Xr{constructor(t,n,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}}function Oa(e,t,n){const i=y(e);let r=0;for(;r<n.length;){const s=n[r];if("number"==typeof s){if(0!==s)break;r++;const l=n[r++],c=n[r++],d=n[r++];i?e.setAttribute(t,c,d,l):t.setAttributeNS(l,c,d)}else{const l=s,c=n[++r];Mu(l)?i&&e.setProperty(t,l,c):i?e.setAttribute(t,l,c):t.setAttribute(l,c),r++}}return r}function Lh(e){return 3===e||4===e||6===e}function Mu(e){return 64===e.charCodeAt(0)}function Aa(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?n=r:0===n||Th(e,n,r,null,-1===n||2===n?t[++i]:null)}}return e}function Th(e,t,n,i,r){let s=0,l=e.length;if(-1===t)l=-1;else for(;s<e.length;){const c=e[s++];if("number"==typeof c){if(c===t){l=-1;break}if(c>t){l=s-1;break}}}for(;s<e.length;){const c=e[s];if("number"==typeof c)break;if(c===n){if(null===i)return void(null!==r&&(e[s+1]=r));if(i===e[s+1])return void(e[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==l&&(e.splice(l,0,t),s=l+1),e.splice(s++,0,n),null!==i&&e.splice(s++,0,i),null!==r&&e.splice(s++,0,r)}function xh(e){return-1!==e}function Vo(e){return 32767&e}function zo(e,t){let n=function $y(e){return e>>16}(e),i=t;for(;n>0;)i=i[15],n--;return i}let Lu=!0;function Na(e){const t=Lu;return Lu=e,t}let Wy=0;function ts(e,t){const n=xu(e,t);if(-1!==n)return n;const i=t[1];i.firstCreatePass&&(e.injectorIndex=t.length,Tu(i.data,e),Tu(t,null),Tu(i.blueprint,null));const r=Ra(e,t),s=e.injectorIndex;if(xh(r)){const l=Vo(r),c=zo(r,t),d=c[1].data;for(let p=0;p<8;p++)t[s+p]=c[l+p]|d[l+p]}return t[s+8]=r,s}function Tu(e,t){e.push(0,0,0,0,0,0,0,0,t)}function xu(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Ra(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,i=null,r=t;for(;null!==r;){const s=r[1],l=s.type;if(i=2===l?s.declTNode:1===l?r[6]:null,null===i)return-1;if(n++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|n<<16}return-1}function Fa(e,t,n){!function qy(e,t,n){let i;"string"==typeof n?i=n.charCodeAt(0)||0:n.hasOwnProperty(ri)&&(i=n[ri]),null==i&&(i=n[ri]=Wy++);const r=255&i;t.data[e+(r>>5)]|=1<<r}(e,t,n)}function Sh(e,t,n){if(n&ne.Optional)return e;Nn(t,"NodeInjector")}function kh(e,t,n,i){if(n&ne.Optional&&void 0===i&&(i=null),0==(n&(ne.Self|ne.Host))){const r=e[9],s=ae(void 0);try{return r?r.get(t,i,n&ne.Optional):fa(t,i,n&ne.Optional)}finally{ae(s)}}return Sh(i,t,n)}function Oh(e,t,n,i=ne.Default,r){if(null!==e){const s=function Qy(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(ri)?e[ri]:void 0;return"number"==typeof t?t>=0?255&t:Ky:t}(n);if("function"==typeof s){if(!wh(t,e,i))return i&ne.Host?Sh(r,n,i):kh(t,n,i,r);try{const l=s(i);if(null!=l||i&ne.Optional)return l;Nn(n)}finally{Eh()}}else if("number"==typeof s){let l=null,c=xu(e,t),d=-1,p=i&ne.Host?t[16][6]:null;for((-1===c||i&ne.SkipSelf)&&(d=-1===c?Ra(e,t):t[c+8],-1!==d&&Rh(i,!1)?(l=t[1],c=Vo(d),t=zo(d,t)):c=-1);-1!==c;){const _=t[1];if(Nh(s,c,_.data)){const v=Jy(c,t,n,l,i,p);if(v!==Ah)return v}d=t[c+8],-1!==d&&Rh(i,t[1].data[c+8]===p)&&Nh(s,c,t)?(l=_,c=Vo(d),t=zo(d,t)):c=-1}}}return kh(t,n,i,r)}const Ah={};function Ky(){return new jo(tt(),A())}function Jy(e,t,n,i,r,s){const l=t[1],c=l.data[e+8],_=Ba(c,l,n,null==i?function Ki(e){return 2==(2&e.flags)}(c)&&Lu:i!=l&&0!=(3&c.type),r&ne.Host&&s===c);return null!==_?ns(t,l,_,c):Ah}function Ba(e,t,n,i,r){const s=e.providerIndexes,l=t.data,c=1048575&s,d=e.directiveStart,_=s>>20,D=r?c+_:e.directiveEnd;for(let b=i?c:c+_;b<D;b++){const E=l[b];if(b<d&&n===E||b>=d&&E.type===n)return b}if(r){const b=l[d];if(b&&yt(b)&&b.type===n)return d}return null}function ns(e,t,n,i){let r=e[n];const s=t.data;if(function jy(e){return e instanceof Xr}(r)){const l=r;l.resolving&&function ti(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new pe(-200,`Circular dependency in DI detected for ${e}${n}`)}(qe(s[n]));const c=Na(l.canSeeViewProviders);l.resolving=!0;const d=l.injectImpl?ae(l.injectImpl):null;wh(e,i,ne.Default);try{r=e[n]=l.factory(void 0,s,e,i),t.firstCreatePass&&n>=i.directiveStart&&function Vy(e,t,n){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=t.type.prototype;if(i){const l=Gr(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,l),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,l)}r&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,r),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,s))}(n,s[n],t)}finally{null!==d&&ae(d),Na(c),l.resolving=!1,Eh()}}return r}function Nh(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function Rh(e,t){return!(e&ne.Self||e&ne.Host&&t)}class jo{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,i){return Oh(this._tNode,this._lView,t,i,n)}}const Zo="__parameters__";function $o(e,t,n){return kt(()=>{const i=function Su(e){return function(...n){if(e){const i=e(...n);for(const r in i)this[r]=i[r]}}}(t);function r(...s){if(this instanceof r)return i.apply(this,s),this;const l=new r(...s);return c.annotation=l,c;function c(d,p,_){const v=d.hasOwnProperty(Zo)?d[Zo]:Object.defineProperty(d,Zo,{value:[]})[Zo];for(;v.length<=_;)v.push(null);return(v[_]=v[_]||[]).push(l),d}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r})}class Me{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Ce({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}function an(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let i=e[n];Array.isArray(i)?(t===e&&(t=e.slice(0,n)),an(i,t)):t!==e&&t.push(i)}return t}function jn(e,t){e.forEach(n=>Array.isArray(n)?jn(n,t):t(n))}function Bh(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Ha(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}const ss={},Nu="__NG_DI_FLAG__",za="ngTempTokenPath",cv=/\n/gm,Uh="__source",hv=G({provide:String,useValue:G});let as;function Zh(e){const t=as;return as=e,t}function fv(e,t=ne.Default){if(void 0===as)throw new pe(203,"");return null===as?fa(e,void 0,t):as.get(e,t&ne.Optional?null:void 0,t)}function ge(e,t=ne.Default){return(function ha(){return zr}()||fv)(F(e),t)}function Ru(e){const t=[];for(let n=0;n<e.length;n++){const i=F(e[n]);if(Array.isArray(i)){if(0===i.length)throw new pe(900,"");let r,s=ne.Default;for(let l=0;l<i.length;l++){const c=i[l],d=pv(c);"number"==typeof d?-1===d?r=c.token:s|=d:r=c}t.push(ge(r,s))}else t.push(ge(i))}return t}function ls(e,t){return e[Nu]=t,e.prototype[Nu]=t,e}function pv(e){return e[Nu]}const ja=ls($o("Inject",e=>({token:e})),-1),qo=ls($o("Optional"),8),us=ls($o("SkipSelf"),4),df="__ngContext__";function vt(e,t){e[df]=t}function Gu(e){const t=function ps(e){return e[df]||null}(e);return t?Array.isArray(t)?t:t.lView:null}function Wu(e){return e.ngOriginalError}function sw(e,...t){e.error(...t)}class Jo{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t),i=function rw(e){return e&&e.ngErrorLogger||sw}(t);i(this._console,"ERROR",t),n&&i(this._console,"ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&Wu(t);for(;n&&Wu(n);)n=Wu(n);return n||null}}const mf=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(ce))();function Zn(e){return e instanceof Function?e():e}var qt=(()=>((qt=qt||{})[qt.Important=1]="Important",qt[qt.DashCase=2]="DashCase",qt))();function Yu(e,t){return undefined(e,t)}function gs(e){const t=e[3];return _t(t)?t[3]:t}function Ku(e){return Df(e[13])}function Ju(e){return Df(e[4])}function Df(e){for(;null!==e&&!_t(e);)e=e[4];return e}function Xo(e,t,n,i,r){if(null!=i){let s,l=!1;_t(i)?s=i:dt(i)&&(l=!0,i=i[0]);const c=x(i);0===e&&null!==n?null==r?Tf(t,n,c):no(t,n,c,r||null,!0):1===e&&null!==n?no(t,n,c,r||null,!0):2===e?function Af(e,t,n){const i=qa(e,t);i&&function Pw(e,t,n,i){y(e)?e.removeChild(t,n,i):t.removeChild(n)}(e,i,t,n)}(t,c,l):3===e&&t.destroyNode(c),null!=s&&function kw(e,t,n,i,r){const s=n[7];s!==x(n)&&Xo(t,e,i,s,r);for(let c=10;c<n.length;c++){const d=n[c];ms(d[1],d,e,t,i,s)}}(t,e,s,n,r)}}function Xu(e,t,n){return y(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Cf(e,t){const n=e[9],i=n.indexOf(t),r=t[3];1024&t[2]&&(t[2]&=-1025,Kr(r,-1)),n.splice(i,1)}function ec(e,t){if(e.length<=10)return;const n=10+t,i=e[n];if(i){const r=i[17];null!==r&&r!==e&&Cf(r,i),t>0&&(e[n-1][4]=i[4]);const s=Ha(e,10+t);!function Dw(e,t){ms(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(i[1],i);const l=s[19];null!==l&&l.detachView(s[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function Ef(e,t){if(!(256&t[2])){const n=t[11];y(n)&&n.destroyNode&&ms(e,t,n,3,null,null),function Ew(e){let t=e[13];if(!t)return tc(e[1],e);for(;t;){let n=null;if(dt(t))n=t[13];else{const i=t[10];i&&(n=i)}if(!n){for(;t&&!t[4]&&t!==e;)dt(t)&&tc(t[1],t),t=t[3];null===t&&(t=e),dt(t)&&tc(t[1],t),n=t&&t[4]}t=n}}(t)}}function tc(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function xw(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let i=0;i<n.length;i+=2){const r=t[n[i]];if(!(r instanceof Xr)){const s=n[i+1];if(Array.isArray(s))for(let l=0;l<s.length;l+=2){const c=r[s[l]],d=s[l+1];try{d.call(c)}finally{}}else try{s.call(r)}finally{}}}}(e,t),function Tw(e,t){const n=e.cleanup,i=t[7];let r=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const l=n[s+1],c="function"==typeof l?l(t):x(t[l]),d=i[r=n[s+2]],p=n[s+3];"boolean"==typeof p?c.removeEventListener(n[s],d,p):p>=0?i[r=p]():i[r=-p].unsubscribe(),s+=2}else{const l=i[r=n[s+1]];n[s].call(l)}if(null!==i){for(let s=r+1;s<i.length;s++)i[s]();t[7]=null}}(e,t),1===t[1].type&&y(t[11])&&t[11].destroy();const n=t[17];if(null!==n&&_t(t[3])){n!==t[3]&&Cf(n,t);const i=t[19];null!==i&&i.detachView(e)}}}function Mf(e,t,n){return function Lf(e,t,n){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return n[0];if(2&i.flags){const r=e.data[i.directiveStart].encapsulation;if(r===tn.None||r===tn.Emulated)return null}return ie(i,n)}(e,t.parent,n)}function no(e,t,n,i,r){y(e)?e.insertBefore(t,n,i,r):t.insertBefore(n,i,r)}function Tf(e,t,n){y(e)?e.appendChild(t,n):t.appendChild(n)}function xf(e,t,n,i,r){null!==i?no(e,t,n,i,r):Tf(e,t,n)}function qa(e,t){return y(e)?e.parentNode(t):t.parentNode}let Sf=function If(e,t,n){return 40&e.type?ie(e,n):null};function Ya(e,t,n,i){const r=Mf(e,i,t),s=t[11],c=function Pf(e,t,n){return Sf(e,t,n)}(i.parent||t[6],i,t);if(null!=r)if(Array.isArray(n))for(let d=0;d<n.length;d++)xf(s,r,n[d],c,!1);else xf(s,r,n,c,!1)}function Ka(e,t){if(null!==t){const n=t.type;if(3&n)return ie(t,e);if(4&n)return ic(-1,e[t.index]);if(8&n){const i=t.child;if(null!==i)return Ka(e,i);{const r=e[t.index];return _t(r)?ic(-1,r):x(r)}}if(32&n)return Yu(t,e)()||x(e[t.index]);{const i=Of(e,t);return null!==i?Array.isArray(i)?i[0]:Ka(gs(e[16]),i):Ka(e,t.next)}}return null}function Of(e,t){return null!==t?e[16][6].projection[t.projection]:null}function ic(e,t){const n=10+e+1;if(n<t.length){const i=t[n],r=i[1].firstChild;if(null!==r)return Ka(i,r)}return t[7]}function oc(e,t,n,i,r,s,l){for(;null!=n;){const c=i[n.index],d=n.type;if(l&&0===t&&(c&&vt(x(c),i),n.flags|=4),64!=(64&n.flags))if(8&d)oc(e,t,n.child,i,r,s,!1),Xo(t,e,r,c,s);else if(32&d){const p=Yu(n,i);let _;for(;_=p();)Xo(t,e,r,_,s);Xo(t,e,r,c,s)}else 16&d?Nf(e,t,i,n,r,s):Xo(t,e,r,c,s);n=l?n.projectionNext:n.next}}function ms(e,t,n,i,r,s){oc(n,i,e.firstChild,t,r,s,!1)}function Nf(e,t,n,i,r,s){const l=n[16],d=l[6].projection[i.projection];if(Array.isArray(d))for(let p=0;p<d.length;p++)Xo(t,e,r,d[p],s);else oc(e,t,d,l[3],r,s,!0)}function Rf(e,t,n){y(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function rc(e,t,n){y(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function Ff(e,t,n){let i=e.length;for(;;){const r=e.indexOf(t,n);if(-1===r)return r;if(0===r||e.charCodeAt(r-1)<=32){const s=t.length;if(r+s===i||e.charCodeAt(r+s)<=32)return r}n=r+1}}const Bf="ng-template";function Aw(e,t,n){let i=0;for(;i<e.length;){let r=e[i++];if(n&&"class"===r){if(r=e[i],-1!==Ff(r.toLowerCase(),t,0))return!0}else if(1===r){for(;i<e.length&&"string"==typeof(r=e[i++]);)if(r.toLowerCase()===t)return!0;return!1}}return!1}function Hf(e){return 4===e.type&&e.value!==Bf}function Nw(e,t,n){return t===(4!==e.type||n?e.value:Bf)}function Rw(e,t,n){let i=4;const r=e.attrs||[],s=function Hw(e){for(let t=0;t<e.length;t++)if(Lh(e[t]))return t;return e.length}(r);let l=!1;for(let c=0;c<t.length;c++){const d=t[c];if("number"!=typeof d){if(!l)if(4&i){if(i=2|1&i,""!==d&&!Nw(e,d,n)||""===d&&1===t.length){if(bn(i))return!1;l=!0}}else{const p=8&i?d:t[++c];if(8&i&&null!==e.attrs){if(!Aw(e.attrs,p,n)){if(bn(i))return!1;l=!0}continue}const v=Fw(8&i?"class":d,r,Hf(e),n);if(-1===v){if(bn(i))return!1;l=!0;continue}if(""!==p){let D;D=v>s?"":r[v+1].toLowerCase();const b=8&i?D:null;if(b&&-1!==Ff(b,p,0)||2&i&&p!==D){if(bn(i))return!1;l=!0}}}}else{if(!l&&!bn(i)&&!bn(d))return!1;if(l&&bn(d))continue;l=!1,i=d|1&i}}return bn(i)||l}function bn(e){return 0==(1&e)}function Fw(e,t,n,i){if(null===t)return-1;let r=0;if(i||!n){let s=!1;for(;r<t.length;){const l=t[r];if(l===e)return r;if(3===l||6===l)s=!0;else{if(1===l||2===l){let c=t[++r];for(;"string"==typeof c;)c=t[++r];continue}if(4===l)break;if(0===l){r+=4;continue}}r+=s?1:2}return-1}return function Vw(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const i=e[n];if("number"==typeof i)return-1;if(i===t)return n;n++}return-1}(t,e)}function Vf(e,t,n=!1){for(let i=0;i<t.length;i++)if(Rw(e,t[i],n))return!0;return!1}function zf(e,t){return e?":not("+t.trim()+")":t}function jw(e){let t=e[0],n=1,i=2,r="",s=!1;for(;n<e.length;){let l=e[n];if("string"==typeof l)if(2&i){const c=e[++n];r+="["+l+(c.length>0?'="'+c+'"':"")+"]"}else 8&i?r+="."+l:4&i&&(r+=" "+l);else""!==r&&!bn(l)&&(t+=zf(s,r),r=""),i=l,s=s||!bn(i);n++}return""!==r&&(t+=zf(s,r)),t}const oe={};function Ja(e){jf(be(),A(),Tt()+e,La())}function jf(e,t,n,i){if(!i)if(3==(3&t[2])){const s=e.preOrderCheckHooks;null!==s&&Sa(t,s,n)}else{const s=e.preOrderHooks;null!==s&&ka(t,s,0,n)}Li(n)}function Xf(e,t){const n=e.contentQueries;if(null!==n)for(let i=0;i<n.length;i+=2){const r=n[i],s=n[i+1];if(-1!==s){const l=e.data[s];bu(r),l.contentQueries(2,t[s],s)}}}function _s(e,t,n,i,r,s,l,c,d,p){const _=t.blueprint.slice();return _[0]=r,_[2]=140|i,Yr(_),_[3]=_[15]=e,_[8]=n,_[10]=l||e&&e[10],_[11]=c||e&&e[11],_[12]=d||e&&e[12]||null,_[9]=p||e&&e[9]||null,_[6]=s,_[16]=2==t.type?e[16]:_,_}function er(e,t,n,i,r){let s=e.data[t];if(null===s)s=function _c(e,t,n,i,r){const s=mh(),l=yu(),d=e.data[t]=function sD(e,t,n,i,r,s){return{type:n,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,l?s:s&&s.parent,n,t,i,r);return null===e.firstChild&&(e.firstChild=d),null!==s&&(l?null==s.child&&null!==d.parent&&(s.child=d):null===s.next&&(s.next=d)),d}(e,t,n,i,r),function Py(){return K.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=i,s.attrs=r;const l=function Qr(){const e=K.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();s.injectorIndex=null===l?-1:l.injectorIndex}return zn(s,!0),s}function tr(e,t,n,i){if(0===n)return-1;const r=t.length;for(let s=0;s<n;s++)t.push(i),e.blueprint.push(i),e.data.push(null);return r}function ys(e,t,n){xa(t);try{const i=e.viewQuery;null!==i&&Lc(1,i,n);const r=e.template;null!==r&&ep(e,t,r,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Xf(e,t),e.staticViewQueries&&Lc(2,e.viewQuery,n);const s=e.components;null!==s&&function iD(e,t){for(let n=0;n<t.length;n++)ED(e,t[n])}(t,s)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),i}finally{t[2]&=-5,Pa()}}function nr(e,t,n,i){const r=t[2];if(256==(256&r))return;xa(t);const s=La();try{Yr(t),function _h(e){return K.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&ep(e,t,n,2,i);const l=3==(3&r);if(!s)if(l){const p=e.preOrderCheckHooks;null!==p&&Sa(t,p,null)}else{const p=e.preOrderHooks;null!==p&&ka(t,p,0,null),Cu(t,0)}if(function bD(e){for(let t=Ku(e);null!==t;t=Ju(t)){if(!t[2])continue;const n=t[9];for(let i=0;i<n.length;i++){const r=n[i],s=r[3];0==(1024&r[2])&&Kr(s,1),r[2]|=1024}}}(t),function DD(e){for(let t=Ku(e);null!==t;t=Ju(t))for(let n=10;n<t.length;n++){const i=t[n],r=i[1];qr(i)&&nr(r,i,r.template,i[8])}}(t),null!==e.contentQueries&&Xf(e,t),!s)if(l){const p=e.contentCheckHooks;null!==p&&Sa(t,p)}else{const p=e.contentHooks;null!==p&&ka(t,p,1),Cu(t,1)}!function tD(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let i=0;i<n.length;i++){const r=n[i];if(r<0)Li(~r);else{const s=r,l=n[++i],c=n[++i];Iy(l,s),c(2,t[s])}}}finally{Li(-1)}}(e,t);const c=e.components;null!==c&&function nD(e,t){for(let n=0;n<t.length;n++)CD(e,t[n])}(t,c);const d=e.viewQuery;if(null!==d&&Lc(2,d,i),!s)if(l){const p=e.viewCheckHooks;null!==p&&Sa(t,p)}else{const p=e.viewHooks;null!==p&&ka(t,p,2),Cu(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),s||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Kr(t[3],-1))}finally{Pa()}}function oD(e,t,n,i){const r=t[10],s=!La(),l=Fo(t);try{s&&!l&&r.begin&&r.begin(),l&&ys(e,t,i),nr(e,t,n,i)}finally{s&&!l&&r.end&&r.end()}}function ep(e,t,n,i,r){const s=Tt(),l=2&i;try{Li(-1),l&&t.length>20&&jf(e,t,20,La()),n(i,r)}finally{Li(s)}}function np(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=tl(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function tl(e,t,n,i,r,s,l,c,d,p){const _=20+i,v=_+r,D=function rD(e,t){const n=[];for(let i=0;i<t;i++)n.push(i<e?null:oe);return n}(_,v),b="function"==typeof p?p():p;return D[1]={type:e,blueprint:D,template:n,queries:null,viewQuery:c,declTNode:t,data:D.slice().fill(null,_),bindingStartIndex:_,expandoStartIndex:v,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof l?l():l,firstChild:null,schemas:d,consts:b,incompleteFirstPass:!1}}function rp(e,t,n,i){const r=gp(t);null===n?r.push(i):(r.push(n),e.firstCreatePass&&mp(e).push(i,r.length-1))}function sp(e,t,n){for(let i in e)if(e.hasOwnProperty(i)){const r=e[i];(n=null===n?{}:n).hasOwnProperty(i)?n[i].push(t,r):n[i]=[t,r]}return n}function lp(e,t,n,i,r,s){const l=s.hostBindings;if(l){let c=e.hostBindingOpCodes;null===c&&(c=e.hostBindingOpCodes=[]);const d=~t.index;(function hD(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(c)!=d&&c.push(d),c.push(i,r,l)}}function up(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function cp(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function _D(e,t,n){if(n){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)n[t.exportAs[i]]=e;yt(t)&&(n[""]=e)}}function dp(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function hp(e,t,n,i,r){e.data[i]=r;const s=r.factory||(r.factory=sn(r.type)),l=new Xr(s,yt(r),null);e.blueprint[i]=l,n[i]=l,lp(e,t,0,i,tr(e,n,r.hostVars,oe),r)}function yD(e,t,n){const i=ie(t,e),r=np(n),s=e[10],l=nl(e,_s(e,r,null,n.onPush?64:16,i,t,s,s.createRenderer(i,n),null,null));e[t.index]=l}function vD(e,t,n,i,r,s){const l=s[t];if(null!==l){const c=i.setInput;for(let d=0;d<l.length;){const p=l[d++],_=l[d++],v=l[d++];null!==c?i.setInput(n,v,p,_):n[_]=v}}}function wD(e,t){let n=null,i=0;for(;i<t.length;){const r=t[i];if(0!==r)if(5!==r){if("number"==typeof r)break;e.hasOwnProperty(r)&&(null===n&&(n=[]),n.push(r,e[r],t[i+1])),i+=2}else i+=2;else i+=4}return n}function CD(e,t){const n=ze(t,e);if(qr(n)){const i=n[1];80&n[2]?nr(i,n,i.template,n[8]):n[5]>0&&bc(n)}}function bc(e){for(let i=Ku(e);null!==i;i=Ju(i))for(let r=10;r<i.length;r++){const s=i[r];if(1024&s[2]){const l=s[1];nr(l,s,l.template,s[8])}else s[5]>0&&bc(s)}const n=e[1].components;if(null!==n)for(let i=0;i<n.length;i++){const r=ze(n[i],e);qr(r)&&r[5]>0&&bc(r)}}function ED(e,t){const n=ze(t,e),i=n[1];(function MD(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(i,n),ys(i,n,n[8])}function nl(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function Cc(e){for(;e;){e[2]|=64;const t=gs(e);if(au(e)&&!t)return e;e=t}return null}function Mc(e,t,n){const i=t[10];i.begin&&i.begin();try{nr(e,t,e.template,n)}catch(r){throw yp(t,r),r}finally{i.end&&i.end()}}function pp(e){!function Ec(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],i=Gu(n),r=i[1];oD(r,i,r.template,n)}}(e[8])}function Lc(e,t,n){bu(0),t(e,n)}const PD=(()=>Promise.resolve(null))();function gp(e){return e[7]||(e[7]=[])}function mp(e){return e.cleanup||(e.cleanup=[])}function yp(e,t){const n=e[9],i=n?n.get(Jo,null):null;i&&i.handleError(t)}function di(e,t,n){const i=function $(e,t){return x(t[e])}(t,e);!function bf(e,t,n){y(e)?e.setValue(t,n):t.textContent=n}(e[11],i,n)}function il(e,t,n){let i=n?e.styles:null,r=n?e.classes:null,s=0;if(null!==t)for(let l=0;l<t.length;l++){const c=t[l];"number"==typeof c?s=c:1==s?r=An(r,c):2==s&&(i=An(i,c+": "+t[++l]+";"))}n?e.styles=i:e.stylesWithoutHost=i,n?e.classes=r:e.classesWithoutHost=r}const Tc=new Me("INJECTOR",-1);class wp{get(t,n=ss){if(n===ss){const i=new Error(`NullInjectorError: No provider for ${De(t)}!`);throw i.name="NullInjectorError",i}return n}}const xc=new Me("Set Injector scope."),vs={},kD={};let Pc;function Dp(){return void 0===Pc&&(Pc=new wp),Pc}function bp(e,t=null,n=null,i){const r=Cp(e,t,n,i);return r._resolveInjectorDefTypes(),r}function Cp(e,t=null,n=null,i){return new OD(e,n,t||Dp(),i)}class OD{constructor(t,n,i,r=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];n&&jn(n,c=>this.processProvider(c,t,n)),jn([t],c=>this.processInjectorType(c,[],s)),this.records.set(Tc,ir(void 0,this));const l=this.records.get(xc);this.scope=null!=l?l.value:null,this.source=r||("object"==typeof t?null:De(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,n=ss,i=ne.Default){this.assertNotDestroyed();const r=Zh(this),s=ae(void 0);try{if(!(i&ne.SkipSelf)){let c=this.records.get(t);if(void 0===c){const d=function zD(e){return"function"==typeof e||"object"==typeof e&&e instanceof Me}(t)&&ii(t);c=d&&this.injectableDefInScope(d)?ir(Ic(t),vs):null,this.records.set(t,c)}if(null!=c)return this.hydrate(t,c)}return(i&ne.Self?Dp():this.parent).get(t,n=i&ne.Optional&&n===ss?null:n)}catch(l){if("NullInjectorError"===l.name){if((l[za]=l[za]||[]).unshift(De(t)),r)throw l;return function gv(e,t,n,i){const r=e[za];throw t[Uh]&&r.unshift(t[Uh]),e.message=function mv(e,t,n,i=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let r=De(t);if(Array.isArray(t))r=t.map(De).join(" -> ");else if("object"==typeof t){let s=[];for(let l in t)if(t.hasOwnProperty(l)){let c=t[l];s.push(l+":"+("string"==typeof c?JSON.stringify(c):De(c)))}r=`{${s.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${e.replace(cv,"\n  ")}`}("\n"+e.message,r,n,i),e.ngTokenPath=r,e[za]=null,e}(l,t,"R3InjectorError",this.source)}throw l}finally{ae(s),Zh(r)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((i,r)=>t.push(De(r))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new pe(205,"")}processInjectorType(t,n,i){if(!(t=F(t)))return!1;let r=da(t);const s=null==r&&t.ngModule||void 0,l=void 0===s?t:s,c=-1!==i.indexOf(l);if(void 0!==s&&(r=da(s)),null==r)return!1;if(null!=r.imports&&!c){let _;i.push(l);try{jn(r.imports,v=>{this.processInjectorType(v,n,i)&&(void 0===_&&(_=[]),_.push(v))})}finally{}if(void 0!==_)for(let v=0;v<_.length;v++){const{ngModule:D,providers:b}=_[v];jn(b,E=>this.processProvider(E,D,b||Le))}}this.injectorDefTypes.add(l);const d=sn(l)||(()=>new l);this.records.set(l,ir(d,vs));const p=r.providers;if(null!=p&&!c){const _=t;jn(p,v=>this.processProvider(v,_,p))}return void 0!==s&&void 0!==t.providers}processProvider(t,n,i){let r=or(t=F(t))?t:F(t&&t.provide);const s=function ND(e,t,n){return Mp(e)?ir(void 0,e.useValue):ir(function Ep(e,t,n){let i;if(or(e)){const r=F(e);return sn(r)||Ic(r)}if(Mp(e))i=()=>F(e.useValue);else if(function FD(e){return!(!e||!e.useFactory)}(e))i=()=>e.useFactory(...Ru(e.deps||[]));else if(function RD(e){return!(!e||!e.useExisting)}(e))i=()=>ge(F(e.useExisting));else{const r=F(e&&(e.useClass||e.provide));if(!function HD(e){return!!e.deps}(e))return sn(r)||Ic(r);i=()=>new r(...Ru(e.deps))}return i}(e),vs)}(t);if(or(t)||!0!==t.multi)this.records.get(r);else{let l=this.records.get(r);l||(l=ir(void 0,vs,!0),l.factory=()=>Ru(l.multi),this.records.set(r,l)),r=t,l.multi.push(t)}this.records.set(r,s)}hydrate(t,n){return n.value===vs&&(n.value=kD,n.value=n.factory()),"object"==typeof n.value&&n.value&&function VD(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this.onDestroy.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=F(t.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function Ic(e){const t=ii(e),n=null!==t?t.factory:sn(e);if(null!==n)return n;if(e instanceof Me)throw new pe(204,"");if(e instanceof Function)return function AD(e){const t=e.length;if(t>0)throw function rs(e,t){const n=[];for(let i=0;i<e;i++)n.push(t);return n}(t,"?"),new pe(204,"");const n=function gn(e){const t=e&&(e[Zi]||e[Lo]);if(t){const n=function ca(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new pe(204,"")}function ir(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Mp(e){return null!==e&&"object"==typeof e&&hv in e}function or(e){return"function"==typeof e}let Kt=(()=>{class e{static create(n,i){var r;if(Array.isArray(n))return bp({name:""},i,n,"");{const s=null!==(r=n.name)&&void 0!==r?r:"";return bp({name:s},n.parent,n.providers,s)}}}return e.THROW_IF_NOT_FOUND=ss,e.NULL=new wp,e.\u0275prov=Ce({token:e,providedIn:"any",factory:()=>ge(Tc)}),e.__NG_ELEMENT_ID__=-1,e})();function YD(e,t){Ia(Gu(e)[1],tt())}let ol=null;function rr(){if(!ol){const e=ce.Symbol;if(e&&e.iterator)ol=e.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<t.length;++n){const i=t[n];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(ol=i)}}}return ol}function ws(e){return!!Ac(e)&&(Array.isArray(e)||!(e instanceof Map)&&rr()in e)}function Ac(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function ar(e,t,n,i){return function wt(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}(e,function Ho(){return K.lFrame.bindingIndex++}(),n)?t+te(n)+i:oe}function de(e,t=ne.Default){const n=A();return null===n?ge(e,t):Oh(tt(),n,F(e),t)}function Hc(e,t,n,i,r){const l=r?"class":"style";!function vp(e,t,n,i,r){for(let s=0;s<n.length;){const l=n[s++],c=n[s++],d=t[l],p=e.data[l];null!==p.setInput?p.setInput(d,r,i,c):d[c]=r}}(e,n,t.inputs[l],l,i)}function me(e,t,n,i){const r=A(),s=be(),l=20+e,c=r[11],d=r[l]=Xu(c,t,function Hy(){return K.lFrame.currentNamespace}()),p=s.firstCreatePass?function Ib(e,t,n,i,r,s,l){const c=t.consts,p=er(t,e,2,r,Vn(c,s));return function wc(e,t,n,i){let r=!1;if(Ea()){const s=function gD(e,t,n){const i=e.directiveRegistry;let r=null;if(i)for(let s=0;s<i.length;s++){const l=i[s];Vf(n,l.selectors,!1)&&(r||(r=[]),Fa(ts(n,t),e,l.type),yt(l)?(cp(e,n),r.unshift(l)):r.push(l))}return r}(e,t,n),l=null===i?null:{"":-1};if(null!==s){r=!0,dp(n,e.data.length,s.length);for(let _=0;_<s.length;_++){const v=s[_];v.providersResolver&&v.providersResolver(v)}let c=!1,d=!1,p=tr(e,t,s.length,null);for(let _=0;_<s.length;_++){const v=s[_];n.mergedAttrs=Aa(n.mergedAttrs,v.hostAttrs),hp(e,n,t,p,v),_D(p,v,l),null!==v.contentQueries&&(n.flags|=8),(null!==v.hostBindings||null!==v.hostAttrs||0!==v.hostVars)&&(n.flags|=128);const D=v.type.prototype;!c&&(D.ngOnChanges||D.ngOnInit||D.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),c=!0),!d&&(D.ngOnChanges||D.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),d=!0),p++}!function aD(e,t){const i=t.directiveEnd,r=e.data,s=t.attrs,l=[];let c=null,d=null;for(let p=t.directiveStart;p<i;p++){const _=r[p],v=_.inputs,D=null===s||Hf(t)?null:wD(v,s);l.push(D),c=sp(v,p,c),d=sp(_.outputs,p,d)}null!==c&&(c.hasOwnProperty("class")&&(t.flags|=16),c.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=l,t.inputs=c,t.outputs=d}(e,n)}l&&function mD(e,t,n){if(t){const i=e.localNames=[];for(let r=0;r<t.length;r+=2){const s=n[t[r+1]];if(null==s)throw new pe(-301,`Export of name '${t[r+1]}' not found!`);i.push(t[r],s)}}}(n,i,l)}return n.mergedAttrs=Aa(n.mergedAttrs,n.attrs),r}(t,n,p,Vn(c,l)),null!==p.attrs&&il(p,p.attrs,!1),null!==p.mergedAttrs&&il(p,p.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,p),p}(l,s,r,0,t,n,i):s.data[l];zn(p,!0);const _=p.mergedAttrs;null!==_&&Oa(c,d,_);const v=p.classes;null!==v&&rc(c,d,v);const D=p.styles;null!==D&&Rf(c,d,D),64!=(64&p.flags)&&Ya(s,r,d,p),0===function Bo(){return K.lFrame.elementDepthCount}()&&vt(d,r),function mu(){K.lFrame.elementDepthCount++}(),ko(p)&&(function yc(e,t,n){!Ea()||(function fD(e,t,n,i){const r=n.directiveStart,s=n.directiveEnd;e.firstCreatePass||ts(n,t),vt(i,t);const l=n.initialInputs;for(let c=r;c<s;c++){const d=e.data[c],p=yt(d);p&&yD(t,n,d);const _=ns(t,e,c,n);vt(_,t),null!==l&&vD(0,c-r,_,d,0,l),p&&(ze(n.index,t)[8]=_)}}(e,t,n,ie(n,t)),128==(128&n.flags)&&function pD(e,t,n){const i=n.directiveStart,r=n.directiveEnd,l=n.index,c=function Sy(){return K.lFrame.currentDirectiveIndex}();try{Li(l);for(let d=i;d<r;d++){const p=e.data[d],_=t[d];wu(d),(null!==p.hostBindings||0!==p.hostVars||null!==p.hostAttrs)&&up(p,_)}}finally{Li(-1),wu(c)}}(e,t,n))}(s,r,p),function tp(e,t,n){if(Yi(t)){const r=t.directiveEnd;for(let s=t.directiveStart;s<r;s++){const l=e.data[s];l.contentQueries&&l.contentQueries(1,n[s],s)}}}(s,p,r)),null!==i&&function vc(e,t,n=ie){const i=t.localNames;if(null!==i){let r=t.index+1;for(let s=0;s<i.length;s+=2){const l=i[s+1],c=-1===l?n(t,e):e[l];e[r++]=c}}}(r,p)}function _e(){let e=tt();yu()?function vu(){K.lFrame.isParent=!1}():(e=e.parent,zn(e,!1));const t=e;!function _u(){K.lFrame.elementDepthCount--}();const n=be();n.firstCreatePass&&(Ia(n,e),Yi(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function Zy(e){return 0!=(16&e.flags)}(t)&&Hc(n,t,A(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function Gy(e){return 0!=(32&e.flags)}(t)&&Hc(n,t,A(),t.stylesWithoutHost,!1)}function un(e,t,n,i){me(e,t,n,i),_e()}function Vc(e){return!!e&&"function"==typeof e.then}const Ab=function lg(e){return!!e&&"function"==typeof e.subscribe};function cn(e,t,n,i){const r=A(),s=be(),l=tt();return function cg(e,t,n,i,r,s,l,c){const d=ko(i),_=e.firstCreatePass&&mp(e),v=t[8],D=gp(t);let b=!0;if(3&i.type||c){const R=ie(i,t),N=c?c(R):R,I=D.length,W=c?se=>c(x(se[i.index])):i.index;if(y(n)){let se=null;if(!c&&d&&(se=function Nb(e,t,n,i){const r=e.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const l=r[s];if(l===n&&r[s+1]===i){const c=t[7],d=r[s+2];return c.length>d?c[d]:null}"string"==typeof l&&(s+=2)}return null}(e,t,r,i.index)),null!==se)(se.__ngLastListenerFn__||se).__ngNextListenerFn__=s,se.__ngLastListenerFn__=s,b=!1;else{s=zc(i,t,v,s,!1);const Ee=n.listen(N,r,s);D.push(s,Ee),_&&_.push(r,W,I,I+1)}}else s=zc(i,t,v,s,!0),N.addEventListener(r,s,l),D.push(s),_&&_.push(r,W,I,l)}else s=zc(i,t,v,s,!1);const E=i.outputs;let S;if(b&&null!==E&&(S=E[r])){const R=S.length;if(R)for(let N=0;N<R;N+=2){const Jt=t[S[N]][S[N+1]].subscribe(s),uo=D.length;D.push(s,Jt),_&&_.push(r,i.index,uo,-(uo+1))}}}(s,r,r[11],l,e,t,!!n,i),cn}function dg(e,t,n,i){try{return!1!==n(i)}catch(r){return yp(e,r),!1}}function zc(e,t,n,i,r){return function s(l){if(l===Function)return i;const c=2&e.flags?ze(e.index,t):t;0==(32&t[2])&&Cc(c);let d=dg(t,0,i,l),p=s.__ngNextListenerFn__;for(;p;)d=dg(t,0,p,l)&&d,p=p.__ngNextListenerFn__;return r&&!1===d&&(l.preventDefault(),l.returnValue=!1),d}}function Ue(e,t=""){const n=A(),i=be(),r=e+20,s=i.firstCreatePass?er(i,r,1,t,null):i.data[r],l=n[r]=function Qu(e,t){return y(e)?e.createText(t):e.createTextNode(t)}(n[11],t);Ya(i,n,l,s),zn(s,!1)}function ll(e){return ul("",e,""),ll}function ul(e,t,n){const i=A(),r=ar(i,e,t,n);return r!==oe&&di(i,Tt(),r),ul}const oo=void 0;var CC=["en",[["a","p"],["AM","PM"],oo],[["AM","PM"],oo,oo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],oo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],oo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",oo,"{1} 'at' {0}",oo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function bC(e){const n=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===i?1:5}];let _r={};function nm(e){return e in _r||(_r[e]=ce.ng&&ce.ng.common&&ce.ng.common.locales&&ce.ng.common.locales[e]),_r[e]}var U=(()=>((U=U||{})[U.LocaleId=0]="LocaleId",U[U.DayPeriodsFormat=1]="DayPeriodsFormat",U[U.DayPeriodsStandalone=2]="DayPeriodsStandalone",U[U.DaysFormat=3]="DaysFormat",U[U.DaysStandalone=4]="DaysStandalone",U[U.MonthsFormat=5]="MonthsFormat",U[U.MonthsStandalone=6]="MonthsStandalone",U[U.Eras=7]="Eras",U[U.FirstDayOfWeek=8]="FirstDayOfWeek",U[U.WeekendRange=9]="WeekendRange",U[U.DateFormat=10]="DateFormat",U[U.TimeFormat=11]="TimeFormat",U[U.DateTimeFormat=12]="DateTimeFormat",U[U.NumberSymbols=13]="NumberSymbols",U[U.NumberFormats=14]="NumberFormats",U[U.CurrencyCode=15]="CurrencyCode",U[U.CurrencySymbol=16]="CurrencySymbol",U[U.CurrencyName=17]="CurrencyName",U[U.Currencies=18]="Currencies",U[U.Directionality=19]="Directionality",U[U.PluralCase=20]="PluralCase",U[U.ExtraData=21]="ExtraData",U))();const cl="en-US";let im=cl;class xm{}class LE{resolveComponentFactory(t){throw function ME(e){const t=Error(`No component factory found for ${De(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(t)}}let Ts=(()=>{class e{}return e.NULL=new LE,e})();function TE(){return vr(tt(),A())}function vr(e,t){return new wr(ie(e,t))}let wr=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=TE,e})();function xE(e){return e instanceof wr?e.nativeElement:e}class Im{}let SE=(()=>{class e{}return e.\u0275prov=Ce({token:e,providedIn:"root",factory:()=>null}),e})();class Kc{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const kE=new Kc("13.1.3"),Jc={};function gl(e,t,n,i,r=!1){for(;null!==n;){const s=t[n.index];if(null!==s&&i.push(x(s)),_t(s))for(let c=10;c<s.length;c++){const d=s[c],p=d[1].firstChild;null!==p&&gl(d[1],d,p,i)}const l=n.type;if(8&l)gl(e,t,n.child,i);else if(32&l){const c=Yu(n,t);let d;for(;d=c();)i.push(d)}else if(16&l){const c=Of(t,n);if(Array.isArray(c))i.push(...c);else{const d=gs(t[16]);gl(d[1],d,c,i,!0)}}n=r?n.projectionNext:n.next}return i}class xs{constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,n=t[1];return gl(n,t,n.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(_t(t)){const n=t[8],i=n?n.indexOf(this):-1;i>-1&&(ec(t,i),Ha(n,i))}this._attachedToViewContainer=!1}Ef(this._lView[1],this._lView)}onDestroy(t){rp(this._lView[1],this._lView,null,t)}markForCheck(){Cc(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Mc(this._lView[1],this._lView,this.context)}checkNoChanges(){!function TD(e,t,n){Ta(!0);try{Mc(e,t,n)}finally{Ta(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new pe(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Cw(e,t){ms(e,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new pe(902,"");this._appRef=t}}class OE extends xs{constructor(t){super(t),this._view=t}detectChanges(){pp(this._view)}checkNoChanges(){!function xD(e){Ta(!0);try{pp(e)}finally{Ta(!1)}}(this._view)}get context(){return null}}class km extends Ts{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=lt(t);return new Qc(n,this.ngModule)}}function Om(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}const NE=new Me("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>mf});class Qc extends xm{constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function Uw(e){return e.map(jw).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return Om(this.componentDef.inputs)}get outputs(){return Om(this.componentDef.outputs)}create(t,n,i,r){const s=(r=r||this.ngModule)?function RE(e,t){return{get:(n,i,r)=>{const s=e.get(n,Jc,r);return s!==Jc||i===Jc?s:t.get(n,i,r)}}}(t,r.injector):t,l=s.get(Im,C),c=s.get(SE,null),d=l.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",_=i?function op(e,t,n){if(y(e))return e.selectRootElement(t,n===tn.ShadowDom);let i="string"==typeof t?e.querySelector(t):t;return i.textContent="",i}(d,i,this.componentDef.encapsulation):Xu(l.createRenderer(null,this.componentDef),p,function AE(e){const t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(p)),v=this.componentDef.onPush?576:528,D=function Rp(e,t){return{components:[],scheduler:e||mf,clean:PD,playerHandler:t||null,flags:0}}(),b=tl(0,null,null,1,0,null,null,null,null,null),E=_s(null,b,D,v,null,null,l,d,c,s);let S,R;xa(E);try{const N=function Ap(e,t,n,i,r,s){const l=n[1];n[20]=e;const d=er(l,20,2,"#host",null),p=d.mergedAttrs=t.hostAttrs;null!==p&&(il(d,p,!0),null!==e&&(Oa(r,e,p),null!==d.classes&&rc(r,e,d.classes),null!==d.styles&&Rf(r,e,d.styles)));const _=i.createRenderer(e,t),v=_s(n,np(t),null,t.onPush?64:16,n[20],d,i,_,s||null,null);return l.firstCreatePass&&(Fa(ts(d,n),l,t.type),cp(l,d),dp(d,n.length,1)),nl(n,v),n[20]=v}(_,this.componentDef,E,l,d);if(_)if(i)Oa(d,_,["ng-version",kE.full]);else{const{attrs:I,classes:W}=function Zw(e){const t=[],n=[];let i=1,r=2;for(;i<e.length;){let s=e[i];if("string"==typeof s)2===r?""!==s&&t.push(s,e[++i]):8===r&&n.push(s);else{if(!bn(r))break;r=s}i++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);I&&Oa(d,_,I),W&&W.length>0&&rc(d,_,W.join(" "))}if(R=function wn(e,t){return e.data[t]}(b,20),void 0!==n){const I=R.projection=[];for(let W=0;W<this.ngContentSelectors.length;W++){const se=n[W];I.push(null!=se?Array.from(se):null)}}S=function Np(e,t,n,i,r){const s=n[1],l=function dD(e,t,n){const i=tt();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),hp(e,i,t,tr(e,t,1,null),n));const r=ns(t,e,i.directiveStart,i);vt(r,t);const s=ie(i,t);return s&&vt(s,t),r}(s,n,t);if(i.components.push(l),e[8]=l,r&&r.forEach(d=>d(l,t)),t.contentQueries){const d=tt();t.contentQueries(1,l,d.directiveStart)}const c=tt();return!s.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Li(c.index),lp(n[1],c,0,c.directiveStart,c.directiveEnd,t),up(t,l)),l}(N,this.componentDef,E,D,[YD]),ys(b,E,null)}finally{Pa()}return new BE(this.componentType,S,vr(R,E),E,R)}}class BE extends class EE{}{constructor(t,n,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new OE(r),this.componentType=t}get injector(){return new jo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}class Dr{}const br=new Map;class Rm extends Dr{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new km(this);const i=Nt(t);this._bootstrapComponents=Zn(i.bootstrap),this._r3Injector=Cp(t,n,[{provide:Dr,useValue:this},{provide:Ts,useValue:this.componentFactoryResolver}],De(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,n=Kt.THROW_IF_NOT_FOUND,i=ne.Default){return t===Kt||t===Dr||t===Tc?this:this._r3Injector.get(t,n,i)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Xc extends class VE{}{constructor(t){super(),this.moduleType=t,null!==Nt(t)&&function zE(e){const t=new Set;!function n(i){const r=Nt(i,!0),s=r.id;null!==s&&(function Am(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${De(t)} vs ${De(t.name)}`)}(s,br.get(s),i),br.set(s,i));const l=Zn(r.imports);for(const c of l)t.has(c)||(t.add(c),n(c))}(e)}(t)}create(t){return new Rm(this.moduleType,t)}}function ed(e){return t=>{setTimeout(e,void 0,t)}}const hi=class s0 extends Se{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,i){var r,s,l;let c=t,d=n||(()=>null),p=i;if(t&&"object"==typeof t){const v=t;c=null===(r=v.next)||void 0===r?void 0:r.bind(v),d=null===(s=v.error)||void 0===s?void 0:s.bind(v),p=null===(l=v.complete)||void 0===l?void 0:l.bind(v)}this.__isAsync&&(d=ed(d),c&&(c=ed(c)),p&&(p=ed(p)));const _=super.subscribe({next:c,error:d,complete:p});return t instanceof M&&t.add(_),_}};function a0(){return this._results[rr()]()}class td{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=rr(),i=td.prototype;i[n]||(i[n]=a0)}get changes(){return this._changes||(this._changes=new hi)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const i=this;i.dirty=!1;const r=an(t);(this._changesDetected=!function tv(e,t,n){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],s=t[i];if(n&&(r=n(r),s=n(s)),s!==r)return!1}return!0}(i._results,r,n))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let fi=(()=>{class e{}return e.__NG_ELEMENT_ID__=c0,e})();const l0=fi,u0=class extends l0{constructor(t,n,i){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=i}createEmbeddedView(t){const n=this._declarationTContainer.tViews,i=_s(this._declarationLView,n,t,16,null,n.declTNode,null,null,null,null);i[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(i[19]=s.createEmbeddedView(n)),ys(n,i,t),new xs(i)}};function c0(){return ml(tt(),A())}function ml(e,t){return 4&e.type?new u0(t,e,vr(e,t)):null}let Yn=(()=>{class e{}return e.__NG_ELEMENT_ID__=d0,e})();function d0(){return Zm(tt(),A())}const h0=Yn,jm=class extends h0{constructor(t,n,i){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=i}get element(){return vr(this._hostTNode,this._hostLView)}get injector(){return new jo(this._hostTNode,this._hostLView)}get parentInjector(){const t=Ra(this._hostTNode,this._hostLView);if(xh(t)){const n=zo(t,this._hostLView),i=Vo(t);return new jo(n[1].data[i+8],n)}return new jo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=Um(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,n,i){const r=t.createEmbeddedView(n||{});return this.insert(r,i),r}createComponent(t,n,i,r,s){const l=t&&!function os(e){return"function"==typeof e}(t);let c;if(l)c=n;else{const v=n||{};c=v.index,i=v.injector,r=v.projectableNodes,s=v.ngModuleRef}const d=l?t:new Qc(lt(t)),p=i||this.parentInjector;if(!s&&null==d.ngModule&&p){const v=p.get(Dr,null);v&&(s=v)}const _=d.create(p,r,void 0,s);return this.insert(_.hostView,c),_}insert(t,n){const i=t._lView,r=i[1];if(function gu(e){return _t(e[3])}(i)){const _=this.indexOf(t);if(-1!==_)this.detach(_);else{const v=i[3],D=new jm(v,v[6],v[3]);D.detach(D.indexOf(t))}}const s=this._adjustIndex(n),l=this._lContainer;!function Mw(e,t,n,i){const r=10+i,s=n.length;i>0&&(n[r-1][4]=t),i<s-10?(t[4]=n[r],Bh(n,10+i,t)):(n.push(t),t[4]=null),t[3]=n;const l=t[17];null!==l&&n!==l&&function Lw(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(l,t);const c=t[19];null!==c&&c.insertView(e),t[2]|=128}(r,i,l,s);const c=ic(s,l),d=i[11],p=qa(d,l[7]);return null!==p&&function bw(e,t,n,i,r,s){i[0]=r,i[6]=t,ms(e,i,n,1,r,s)}(r,l[6],d,i,p,c),t.attachToViewContainerRef(),Bh(nd(l),s,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=Um(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),i=ec(this._lContainer,n);i&&(Ha(nd(this._lContainer),n),Ef(i[1],i))}detach(t){const n=this._adjustIndex(t,-1),i=ec(this._lContainer,n);return i&&null!=Ha(nd(this._lContainer),n)?new xs(i):null}_adjustIndex(t,n=0){return null==t?this.length+n:t}};function Um(e){return e[8]}function nd(e){return e[8]||(e[8]=[])}function Zm(e,t){let n;const i=t[e.index];if(_t(i))n=i;else{let r;if(8&e.type)r=x(i);else{const s=t[11];r=s.createComment("");const l=ie(e,t);no(s,qa(s,l),r,function Iw(e,t){return y(e)?e.nextSibling(t):t.nextSibling}(s,l),!1)}t[e.index]=n=function fp(e,t,n,i){return new Array(e,!0,!1,t,null,0,i,n,null,null)}(i,t,r,e),nl(t,n)}return new jm(n,e,t)}class id{constructor(t){this.queryList=t,this.matches=null}clone(){return new id(this.queryList)}setDirty(){this.queryList.setDirty()}}class od{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const i=null!==t.contentQueries?t.contentQueries[0]:n.length,r=[];for(let s=0;s<i;s++){const l=n.getByIndex(s);r.push(this.queries[l.indexInDeclarationView].clone())}return new od(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==Ym(t,n).matches&&this.queries[n].setDirty()}}class Gm{constructor(t,n,i=null){this.predicate=t,this.flags=n,this.read=i}}class rd{constructor(t=[]){this.queries=t}elementStart(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let i=0;i<this.length;i++){const r=null!==n?n.length:0,s=this.getByIndex(i).embeddedTView(t,r);s&&(s.indexInDeclarationView=i,null!==n?n.push(s):n=[s])}return null!==n?new rd(n):null}template(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class sd{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new sd(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==n;)i=i.parent;return n===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const s=i[r];this.matchTNodeWithReadOption(t,n,g0(n,s)),this.matchTNodeWithReadOption(t,n,Ba(n,t,s,!1,!1))}else i===fi?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Ba(n,t,i,!1,!1))}matchTNodeWithReadOption(t,n,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===wr||r===Yn||r===fi&&4&n.type)this.addMatch(n.index,-2);else{const s=Ba(n,t,r,!1,!1);null!==s&&this.addMatch(n.index,s)}else this.addMatch(n.index,i)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function g0(e,t){const n=e.localNames;if(null!==n)for(let i=0;i<n.length;i+=2)if(n[i]===t)return n[i+1];return null}function _0(e,t,n,i){return-1===n?function m0(e,t){return 11&e.type?vr(e,t):4&e.type?ml(e,t):null}(t,e):-2===n?function y0(e,t,n){return n===wr?vr(t,e):n===fi?ml(t,e):n===Yn?Zm(t,e):void 0}(e,t,i):ns(e,e[1],n,t)}function $m(e,t,n,i){const r=t[19].queries[i];if(null===r.matches){const s=e.data,l=n.matches,c=[];for(let d=0;d<l.length;d+=2){const p=l[d];c.push(p<0?null:_0(t,s[p],l[d+1],n.metadata.read))}r.matches=c}return r.matches}function ad(e,t,n,i){const r=e.queries.getByIndex(n),s=r.matches;if(null!==s){const l=$m(e,t,r,n);for(let c=0;c<s.length;c+=2){const d=s[c];if(d>0)i.push(l[c/2]);else{const p=s[c+1],_=t[-d];for(let v=10;v<_.length;v++){const D=_[v];D[17]===D[3]&&ad(D[1],D,p,i)}if(null!==_[9]){const v=_[9];for(let D=0;D<v.length;D++){const b=v[D];ad(b[1],b,p,i)}}}}}return i}function ro(e){const t=A(),n=be(),i=vh();bu(i+1);const r=Ym(n,i);if(e.dirty&&Fo(t)===(2==(2&r.metadata.flags))){if(null===r.matches)e.reset([]);else{const s=r.crossesNgTemplate?ad(n,t,i,[]):$m(n,t,r,i);e.reset(s,xE),e.notifyOnChanges()}return!0}return!1}function so(e,t,n){const i=be();i.firstCreatePass&&(function qm(e,t,n){null===e.queries&&(e.queries=new rd),e.queries.track(new sd(t,n))}(i,new Gm(e,t,n),-1),2==(2&t)&&(i.staticViewQueries=!0)),function Wm(e,t,n){const i=new td(4==(4&n));rp(e,t,i,i.destroy),null===t[19]&&(t[19]=new od),t[19].queries.push(new id(i))}(i,A(),t)}function ao(){return function w0(e,t){return e[19].queries[t].queryList}(A(),vh())}function Ym(e,t){return e.queries.getByIndex(t)}function vl(...e){}const fd=new Me("Application Initializer");let Er=(()=>{class e{constructor(n){this.appInits=n,this.resolve=vl,this.reject=vl,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const n=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const s=this.appInits[r]();if(Vc(s))n.push(s);else if(Ab(s)){const l=new Promise((c,d)=>{s.subscribe({complete:c,error:d})});n.push(l)}}Promise.all(n).then(()=>{i()}).catch(r=>{this.reject(r)}),0===n.length&&i(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(ge(fd,8))},e.\u0275prov=Ce({token:e,factory:e.\u0275fac}),e})();const ks=new Me("AppId"),V0={provide:ks,useFactory:function H0(){return`${pd()}${pd()}${pd()}`},deps:[]};function pd(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const h_=new Me("Platform Initializer"),wl=new Me("Platform ID"),z0=new Me("appBootstrapListener");let j0=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ce({token:e,factory:e.\u0275fac}),e})();const Si=new Me("LocaleId"),f_=new Me("DefaultCurrencyCode");class U0{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let p_=(()=>{class e{compileModuleSync(n){return new Xc(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const i=this.compileModuleSync(n),s=Zn(Nt(n).declarations).reduce((l,c)=>{const d=lt(c);return d&&l.push(new Qc(d)),l},[]);return new U0(i,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ce({token:e,factory:e.\u0275fac}),e})();const G0=(()=>Promise.resolve(0))();function gd(e){"undefined"==typeof Zone?G0.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Dt{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new hi(!1),this.onMicrotaskEmpty=new hi(!1),this.onStable=new hi(!1),this.onError=new hi(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&n,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function $0(){let e=ce.requestAnimationFrame,t=ce.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function Y0(e){const t=()=>{!function q0(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(ce,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,_d(e),e.isCheckStableRunning=!0,md(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),_d(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,r,s,l,c)=>{try{return g_(e),n.invokeTask(r,s,l,c)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&t(),m_(e)}},onInvoke:(n,i,r,s,l,c,d)=>{try{return g_(e),n.invoke(r,s,l,c,d)}finally{e.shouldCoalesceRunChangeDetection&&t(),m_(e)}},onHasTask:(n,i,r,s)=>{n.hasTask(r,s),i===r&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,_d(e),md(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,i,r,s)=>(n.handleError(r,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Dt.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Dt.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,n,i){return this._inner.run(t,n,i)}runTask(t,n,i,r){const s=this._inner,l=s.scheduleEventTask("NgZoneEvent: "+r,t,W0,vl,vl);try{return s.runTask(l,n,i)}finally{s.cancelTask(l)}}runGuarded(t,n,i){return this._inner.runGuarded(t,n,i)}runOutsideAngular(t){return this._outer.run(t)}}const W0={};function md(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function _d(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function g_(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function m_(e){e._nesting--,md(e)}class K0{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new hi,this.onMicrotaskEmpty=new hi,this.onStable=new hi,this.onError=new hi}run(t,n,i){return t.apply(n,i)}runGuarded(t,n,i){return t.apply(n,i)}runOutsideAngular(t){return t()}runTask(t,n,i,r){return t.apply(n,i)}}let yd=(()=>{class e{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Dt.assertNotInAngularZone(),gd(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())gd(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(n)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(l=>l.timeoutId!==s),n(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:r})}whenStable(n,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,i,r){return[]}}return e.\u0275fac=function(n){return new(n||e)(ge(Dt))},e.\u0275prov=Ce({token:e,factory:e.\u0275fac}),e})(),__=(()=>{class e{constructor(){this._applications=new Map,vd.addToWindow(this)}registerApplication(n,i){this._applications.set(n,i)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,i=!0){return vd.findTestabilityInTree(this,n,i)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ce({token:e,factory:e.\u0275fac}),e})();class J0{addToWindow(t){}findTestabilityInTree(t,n,i){return null}}let Tn,vd=new J0;const y_=new Me("AllowMultipleToken");function v_(e,t,n=[]){const i=`Platform: ${t}`,r=new Me(i);return(s=[])=>{let l=w_();if(!l||l.injector.get(y_,!1))if(e)e(n.concat(s).concat({provide:r,useValue:!0}));else{const c=n.concat(s).concat({provide:r,useValue:!0},{provide:xc,useValue:"platform"});!function tM(e){if(Tn&&!Tn.destroyed&&!Tn.injector.get(y_,!1))throw new pe(400,"");Tn=e.get(D_);const t=e.get(h_,null);t&&t.forEach(n=>n())}(Kt.create({providers:c,name:i}))}return function nM(e){const t=w_();if(!t)throw new pe(401,"");return t}()}}function w_(){return Tn&&!Tn.destroyed?Tn:null}let D_=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,i){const c=function iM(e,t){let n;return n="noop"===e?new K0:("zone.js"===e?void 0:e)||new Dt({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),n}(i?i.ngZone:void 0,{ngZoneEventCoalescing:i&&i.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:i&&i.ngZoneRunCoalescing||!1}),d=[{provide:Dt,useValue:c}];return c.run(()=>{const p=Kt.create({providers:d,parent:this.injector,name:n.moduleType.name}),_=n.create(p),v=_.injector.get(Jo,null);if(!v)throw new pe(402,"");return c.runOutsideAngular(()=>{const D=c.onError.subscribe({next:b=>{v.handleError(b)}});_.onDestroy(()=>{wd(this._modules,_),D.unsubscribe()})}),function oM(e,t,n){try{const i=n();return Vc(i)?i.catch(r=>{throw t.runOutsideAngular(()=>e.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>e.handleError(i)),i}}(v,c,()=>{const D=_.injector.get(Er);return D.runInitializers(),D.donePromise.then(()=>(function xC(e){Be(e,"Expected localeId to be defined"),"string"==typeof e&&(im=e.toLowerCase().replace(/_/g,"-"))}(_.injector.get(Si,cl)||cl),this._moduleDoBootstrap(_),_))})})}bootstrapModule(n,i=[]){const r=b_({},i);return function X0(e,t,n){const i=new Xc(n);return Promise.resolve(i)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(n){const i=n.injector.get(Dl);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!n.instance.ngDoBootstrap)throw new pe(403,"");n.instance.ngDoBootstrap(i)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new pe(404,"");this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(ge(Kt))},e.\u0275prov=Ce({token:e,factory:e.\u0275fac}),e})();function b_(e,t){return Array.isArray(t)?t.reduce(b_,e):Object.assign(Object.assign({},e),t)}let Dl=(()=>{class e{constructor(n,i,r,s,l){this._zone=n,this._injector=i,this._exceptionHandler=r,this._componentFactoryResolver=s,this._initStatus=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new Pe(p=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{p.next(this._stable),p.complete()})}),d=new Pe(p=>{let _;this._zone.runOutsideAngular(()=>{_=this._zone.onStable.subscribe(()=>{Dt.assertNotInAngularZone(),gd(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,p.next(!0))})})});const v=this._zone.onUnstable.subscribe(()=>{Dt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{p.next(!1)}))});return()=>{_.unsubscribe(),v.unsubscribe()}});this.isStable=function zi(...e){const t=Xs(e),n=function Jl(e,t){return"number"==typeof Nr(e)?e.pop():t}(e,1/0),i=e;return i.length?1===i.length?Qn(i[0]):function Ar(e=1/0){return vi(zs,e)}(n)(Vi(i,t)):Bi}(c,d.pipe(function ta(e={}){const{connector:t=(()=>new Se),resetOnError:n=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=e;return s=>{let l=null,c=null,d=null,p=0,_=!1,v=!1;const D=()=>{null==c||c.unsubscribe(),c=null},b=()=>{D(),l=d=null,_=v=!1},E=()=>{const S=l;b(),null==S||S.unsubscribe()};return Oe((S,R)=>{p++,!v&&!_&&D();const N=d=null!=d?d:t();R.add(()=>{p--,0===p&&!v&&!_&&(c=ei(E,r))}),N.subscribe(R),l||(l=new po({next:I=>N.next(I),error:I=>{v=!0,D(),c=ei(b,n,I),N.error(I)},complete:()=>{_=!0,D(),c=ei(b,i),N.complete()}}),Vi(S).subscribe(l))})(s)}}()))}bootstrap(n,i){if(!this._initStatus.done)throw new pe(405,"");let r;r=n instanceof xm?n:this._componentFactoryResolver.resolveComponentFactory(n),this.componentTypes.push(r.componentType);const s=function eM(e){return e.isBoundToModule}(r)?void 0:this._injector.get(Dr),c=r.create(Kt.NULL,[],i||r.selector,s),d=c.location.nativeElement,p=c.injector.get(yd,null),_=p&&c.injector.get(__);return p&&_&&_.registerApplication(d,p),c.onDestroy(()=>{this.detachView(c.hostView),wd(this.components,c),_&&_.unregisterApplication(d)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new pe(101,"");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){const i=n;wd(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(z0,[]).concat(this._bootstrapListeners).forEach(r=>r(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(n){return new(n||e)(ge(Dt),ge(Kt),ge(Jo),ge(Ts),ge(Er))},e.\u0275prov=Ce({token:e,factory:e.\u0275fac}),e})();function wd(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}let E_=!0;class S_{constructor(){}supports(t){return ws(t)}create(t){return new gM(t)}}const pM=(e,t)=>t;class gM{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||pM}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,i=this._removalsHead,r=0,s=null;for(;n||i;){const l=!i||n&&n.currentIndex<O_(i,r,s)?n:i,c=O_(l,r,s),d=l.currentIndex;if(l===i)r--,i=i._nextRemoved;else if(n=n._next,null==l.previousIndex)r++;else{s||(s=[]);const p=c-r,_=d-r;if(p!=_){for(let D=0;D<p;D++){const b=D<s.length?s[D]:s[D]=0,E=b+D;_<=E&&E<p&&(s[D]=b+1)}s[l.previousIndex]=_-p}}c!==d&&t(l,c,d)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!ws(t))throw new pe(900,"");return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,s,l,n=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let c=0;c<this.length;c++)s=t[c],l=this._trackByFn(c,s),null!==n&&Object.is(n.trackById,l)?(i&&(n=this._verifyReinsertion(n,s,l,c)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,l,c),i=!0),n=n._next}else r=0,function rb(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[rr()]();let i;for(;!(i=n.next()).done;)t(i.value)}}(t,c=>{l=this._trackByFn(r,c),null!==n&&Object.is(n.trackById,l)?(i&&(n=this._verifyReinsertion(n,c,l,r)),Object.is(n.item,c)||this._addIdentityChange(n,c)):(n=this._mismatch(n,c,l,r),i=!0),n=n._next,r++}),this.length=r;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,i,r){let s;return null===t?s=this._itTail:(s=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,s,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,s,r)):t=this._addAfter(new mM(n,i),s,r),t}_verifyReinsertion(t,n,i,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==s?t=this._reinsertAfter(s,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,s=t._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(t,n,i),this._addToMoves(t,i),t}_moveAfter(t,n,i){return this._unlink(t),this._insertAfter(t,n,i),this._addToMoves(t,i),t}_addAfter(t,n,i){return this._insertAfter(t,n,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,i){const r=null===n?this._itHead:n._next;return t._next=r,t._prev=n,null===r?this._itTail=t:r._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new k_),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,i=t._next;return null===n?this._itHead=i:n._next=i,null===i?this._itTail=n:i._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new k_),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class mM{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class _M{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===n||n<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const n=t._prevDup,i=t._nextDup;return null===n?this._head=i:n._nextDup=i,null===i?this._tail=n:i._prevDup=n,null===this._head}}class k_{constructor(){this.map=new Map}put(t){const n=t.trackById;let i=this.map.get(n);i||(i=new _M,this.map.set(n,i)),i.add(t)}get(t,n){const r=this.map.get(t);return r?r.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function O_(e,t,n){const i=e.previousIndex;if(null===i)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+t+r}class A_{constructor(){}supports(t){return t instanceof Map||Ac(t)}create(){return new yM}}class yM{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||Ac(t)))throw new pe(900,"")}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(n&&n.key===r)this._maybeAddToChanges(n,i),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(r,i);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let i=n;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const i=t._prev;return n._next=t,n._prev=i,t._prev=n,i&&(i._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,n);const s=r._prev,l=r._next;return s&&(s._next=l),l&&(l._prev=s),r._next=null,r._prev=null,r}const i=new vM(t);return this._records.set(t,i),i.currentValue=n,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(i=>n(t[i],i))}}class vM{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function N_(){return new Os([new S_])}let Os=(()=>{class e{constructor(n){this.factories=n}static create(n,i){if(null!=i){const r=i.factories.slice();n=n.concat(r)}return new e(n)}static extend(n){return{provide:e,useFactory:i=>e.create(n,i||N_()),deps:[[e,new us,new qo]]}}find(n){const i=this.factories.find(r=>r.supports(n));if(null!=i)return i;throw new pe(901,"")}}return e.\u0275prov=Ce({token:e,providedIn:"root",factory:N_}),e})();function R_(){return new Mr([new A_])}let Mr=(()=>{class e{constructor(n){this.factories=n}static create(n,i){if(i){const r=i.factories.slice();n=n.concat(r)}return new e(n)}static extend(n){return{provide:e,useFactory:i=>e.create(n,i||R_()),deps:[[e,new us,new qo]]}}find(n){const i=this.factories.find(s=>s.supports(n));if(i)return i;throw new pe(901,"")}}return e.\u0275prov=Ce({token:e,providedIn:"root",factory:R_}),e})();const wM=[new A_],bM=new Os([new S_]),CM=new Mr(wM),EM=v_(null,"core",[{provide:wl,useValue:"unknown"},{provide:D_,deps:[Kt]},{provide:__,deps:[]},{provide:j0,deps:[]}]),PM=[{provide:Dl,useClass:Dl,deps:[Dt,Kt,Jo,Ts,Er]},{provide:NE,deps:[Dt],useFactory:function IM(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(n){t.push(n)}}},{provide:Er,useClass:Er,deps:[[new qo,fd]]},{provide:p_,useClass:p_,deps:[]},V0,{provide:Os,useFactory:function MM(){return bM},deps:[]},{provide:Mr,useFactory:function LM(){return CM},deps:[]},{provide:Si,useFactory:function TM(e){return e||function xM(){return"undefined"!=typeof $localize&&$localize.locale||cl}()},deps:[[new ja(Si),new qo,new us]]},{provide:f_,useValue:"USD"}];let SM=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(ge(Dl))},e.\u0275mod=Gt({type:e}),e.\u0275inj=Xt({providers:PM}),e})(),Cl=null;function As(){return Cl}const xn=new Me("DocumentToken");var Je=(()=>((Je=Je||{})[Je.Zero=0]="Zero",Je[Je.One=1]="One",Je[Je.Two=2]="Two",Je[Je.Few=3]="Few",Je[Je.Many=4]="Many",Je[Je.Other=5]="Other",Je))();const ZM=function tm(e){return function Pt(e){const t=function EC(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=nm(t);if(n)return n;const i=t.split("-")[0];if(n=nm(i),n)return n;if("en"===i)return CC;throw new Error(`Missing locale data for the locale "${e}".`)}(e)[U.PluralCase]};class Ol{}let vL=(()=>{class e extends Ol{constructor(n){super(),this.locale=n}getPluralCategory(n,i){switch(ZM(i||this.locale)(n)){case Je.Zero:return"zero";case Je.One:return"one";case Je.Two:return"two";case Je.Few:return"few";case Je.Many:return"many";default:return"other"}}}return e.\u0275fac=function(n){return new(n||e)(ge(Si))},e.\u0275prov=Ce({token:e,factory:e.\u0275fac}),e})();function W_(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const i=n.indexOf("="),[r,s]=-1==i?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}let QL=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Gt({type:e}),e.\u0275inj=Xt({providers:[{provide:Ol,useClass:vL}]}),e})();class ey{}class Fd extends class iT extends class AM{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function OM(e){Cl||(Cl=e)}(new Fd)}onAndCancel(t,n,i){return t.addEventListener(n,i,!1),()=>{t.removeEventListener(n,i,!1)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function oT(){return Fs=Fs||document.querySelector("base"),Fs?Fs.getAttribute("href"):null}();return null==n?null:function rT(e){Al=Al||document.createElement("a"),Al.setAttribute("href",e);const t=Al.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){Fs=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return W_(document.cookie,t)}}let Al,Fs=null;const ty=new Me("TRANSITION_ID"),aT=[{provide:fd,useFactory:function sT(e,t,n){return()=>{n.get(Er).donePromise.then(()=>{const i=As(),r=t.querySelectorAll(`style[ng-transition="${e}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[ty,xn,Kt],multi:!0}];class Bd{static init(){!function Q0(e){vd=e}(new Bd)}addToWindow(t){ce.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},ce.getAllAngularTestabilities=()=>t.getAllTestabilities(),ce.getAllAngularRootElements=()=>t.getAllRootElements(),ce.frameworkStabilizers||(ce.frameworkStabilizers=[]),ce.frameworkStabilizers.push(i=>{const r=ce.getAllAngularTestabilities();let s=r.length,l=!1;const c=function(d){l=l||d,s--,0==s&&i(l)};r.forEach(function(d){d.whenStable(c)})})}findTestabilityInTree(t,n,i){if(null==n)return null;const r=t.getTestability(n);return null!=r?r:i?As().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null}}let lT=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ce({token:e,factory:e.\u0275fac}),e})();const Nl=new Me("EventManagerPlugins");let Rl=(()=>{class e{constructor(n,i){this._zone=i,this._eventNameToPlugin=new Map,n.forEach(r=>r.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,i,r){return this._findPluginFor(i).addEventListener(n,i,r)}addGlobalEventListener(n,i,r){return this._findPluginFor(i).addGlobalEventListener(n,i,r)}getZone(){return this._zone}_findPluginFor(n){const i=this._eventNameToPlugin.get(n);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const l=r[s];if(l.supports(n))return this._eventNameToPlugin.set(n,l),l}throw new Error(`No event manager plugin found for event ${n}`)}}return e.\u0275fac=function(n){return new(n||e)(ge(Nl),ge(Dt))},e.\u0275prov=Ce({token:e,factory:e.\u0275fac}),e})();class ny{constructor(t){this._doc=t}addGlobalEventListener(t,n,i){const r=As().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${n}`);return this.addEventListener(r,n,i)}}let iy=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(n){const i=new Set;n.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ce({token:e,factory:e.\u0275fac}),e})(),Bs=(()=>{class e extends iy{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,i,r){n.forEach(s=>{const l=this._doc.createElement("style");l.textContent=s,r.push(i.appendChild(l))})}addHost(n){const i=[];this._addStylesToHost(this._stylesSet,n,i),this._hostNodes.set(n,i)}removeHost(n){const i=this._hostNodes.get(n);i&&i.forEach(oy),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(n,r,i)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(oy))}}return e.\u0275fac=function(n){return new(n||e)(ge(xn))},e.\u0275prov=Ce({token:e,factory:e.\u0275fac}),e})();function oy(e){As().remove(e)}const Hd={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Vd=/%COMP%/g;function Fl(e,t,n){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?Fl(e,r,n):(r=r.replace(Vd,e),n.push(r))}return n}function ay(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let zd=(()=>{class e{constructor(n,i,r){this.eventManager=n,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new jd(n)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;switch(i.encapsulation){case tn.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new pT(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(n),r}case 1:case tn.ShadowDom:return new gT(this.eventManager,this.sharedStylesHost,n,i);default:if(!this.rendererByCompId.has(i.id)){const r=Fl(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(n){return new(n||e)(ge(Rl),ge(Bs),ge(ks))},e.\u0275prov=Ce({token:e,factory:e.\u0275fac}),e})();class jd{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?document.createElementNS(Hd[n]||n,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,n){t.appendChild(n)}insertBefore(t,n,i){t&&t.insertBefore(n,i)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return n||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,i,r){if(r){n=r+":"+n;const s=Hd[r];s?t.setAttributeNS(s,n,i):t.setAttribute(n,i)}else t.setAttribute(n,i)}removeAttribute(t,n,i){if(i){const r=Hd[i];r?t.removeAttributeNS(r,n):t.removeAttribute(`${i}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,i,r){r&(qt.DashCase|qt.Important)?t.style.setProperty(n,i,r&qt.Important?"important":""):t.style[n]=i}removeStyle(t,n,i){i&qt.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,i){t[n]=i}setValue(t,n){t.nodeValue=n}listen(t,n,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,n,ay(i)):this.eventManager.addEventListener(t,n,ay(i))}}class pT extends jd{constructor(t,n,i,r){super(t),this.component=i;const s=Fl(r+"-"+i.id,i.styles,[]);n.addStyles(s),this.contentAttr=function dT(e){return"_ngcontent-%COMP%".replace(Vd,e)}(r+"-"+i.id),this.hostAttr=function hT(e){return"_nghost-%COMP%".replace(Vd,e)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,n){const i=super.createElement(t,n);return super.setAttribute(i,this.contentAttr,""),i}}class gT extends jd{constructor(t,n,i,r){super(t),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Fl(r.id,r.styles,[]);for(let l=0;l<s.length;l++){const c=document.createElement("style");c.textContent=s[l],this.shadowRoot.appendChild(c)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,i){return super.insertBefore(this.nodeOrShadowRoot(t),n,i)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let mT=(()=>{class e extends ny{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,r){return n.addEventListener(i,r,!1),()=>this.removeEventListener(n,i,r)}removeEventListener(n,i,r){return n.removeEventListener(i,r)}}return e.\u0275fac=function(n){return new(n||e)(ge(xn))},e.\u0275prov=Ce({token:e,factory:e.\u0275fac}),e})();const uy=["alt","control","meta","shift"],yT={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},cy={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},vT={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let wT=(()=>{class e extends ny{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,i,r){const s=e.parseEventName(i),l=e.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>As().onAndCancel(n,s.domEventName,l))}static parseEventName(n){const i=n.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=e._normalizeKey(i.pop());let l="";if(uy.forEach(d=>{const p=i.indexOf(d);p>-1&&(i.splice(p,1),l+=d+".")}),l+=s,0!=i.length||0===s.length)return null;const c={};return c.domEventName=r,c.fullKey=l,c}static getEventFullKey(n){let i="",r=function DT(e){let t=e.key;if(null==t){if(t=e.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&cy.hasOwnProperty(t)&&(t=cy[t]))}return yT[t]||t}(n);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),uy.forEach(s=>{s!=r&&vT[s](n)&&(i+=s+".")}),i+=r,i}static eventCallback(n,i,r){return s=>{e.getEventFullKey(s)===n&&r.runGuarded(()=>i(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return e.\u0275fac=function(n){return new(n||e)(ge(xn))},e.\u0275prov=Ce({token:e,factory:e.\u0275fac}),e})();const MT=v_(EM,"browser",[{provide:wl,useValue:"browser"},{provide:h_,useValue:function bT(){Fd.makeCurrent(),Bd.init()},multi:!0},{provide:xn,useFactory:function ET(){return function u(e){a=e}(document),document},deps:[]}]),LT=[{provide:xc,useValue:"root"},{provide:Jo,useFactory:function CT(){return new Jo},deps:[]},{provide:Nl,useClass:mT,multi:!0,deps:[xn,Dt,wl]},{provide:Nl,useClass:wT,multi:!0,deps:[xn]},{provide:zd,useClass:zd,deps:[Rl,Bs,ks]},{provide:Im,useExisting:zd},{provide:iy,useExisting:Bs},{provide:Bs,useClass:Bs,deps:[xn]},{provide:yd,useClass:yd,deps:[Dt]},{provide:Rl,useClass:Rl,deps:[Nl,Dt]},{provide:ey,useClass:lT,deps:[]}];let TT=(()=>{class e{constructor(n){if(n)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(n){return{ngModule:e,providers:[{provide:ks,useValue:n.appId},{provide:ty,useExisting:ks},aT]}}}return e.\u0275fac=function(n){return new(n||e)(ge(e,12))},e.\u0275mod=Gt({type:e}),e.\u0275inj=Xt({providers:LT,imports:[QL,SM]}),e})();"undefined"!=typeof window&&window;var Bl=P(407);P(690),P(556);class fy{}class py{}class gi{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(n=>{const i=n.indexOf(":");if(i>0){const r=n.slice(0,i),s=r.toLowerCase(),l=n.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(l):this.headers.set(s,[l])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(n=>{let i=t[n];const r=n.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(n,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof gi?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){const n=new gi;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof gi?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){const n=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,n);const r=("a"===t.op?this.headers.get(n):void 0)||[];r.push(...i),this.headers.set(n,r);break;case"d":const s=t.value;if(s){let l=this.headers.get(n);if(!l)return;l=l.filter(c=>-1===s.indexOf(c)),0===l.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,l)}else this.headers.delete(n),this.normalizedNames.delete(n)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}}class zT{encodeKey(t){return gy(t)}encodeValue(t){return gy(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const UT=/%(\d[a-f0-9])/gi,ZT={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function gy(e){return encodeURIComponent(e).replace(UT,(t,n)=>{var i;return null!==(i=ZT[n])&&void 0!==i?i:t})}function my(e){return`${e}`}class Oi{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new zT,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function jT(e,t){const n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[l,c]=-1==s?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],d=n.get(l)||[];d.push(c),n.set(l,d)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{const i=t.fromObject[n];this.map.set(n,Array.isArray(i)?i:[i])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){const n=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(s=>{n.push({param:i,value:s,op:"a"})}):n.push({param:i,value:r,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const n=this.encoder.encodeKey(t);return this.map.get(t).map(i=>n+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const n=new Oi({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const n=("a"===t.op?this.map.get(t.param):void 0)||[];n.push(my(t.value)),this.map.set(t.param,n);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(my(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class GT{constructor(){this.map=new Map}set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function _y(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function yy(e){return"undefined"!=typeof Blob&&e instanceof Blob}function vy(e){return"undefined"!=typeof FormData&&e instanceof FormData}class Hs{constructor(t,n,i,r){let s;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function $T(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new gi),this.context||(this.context=new GT),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=n;else{const c=n.indexOf("?");this.urlWithParams=n+(-1===c?"?":c<n.length-1?"&":"")+l}}else this.params=new Oi,this.urlWithParams=n}serializeBody(){return null===this.body?null:_y(this.body)||yy(this.body)||vy(this.body)||function WT(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Oi?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||vy(this.body)?null:yy(this.body)?this.body.type||null:_y(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Oi?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var n;const i=t.method||this.method,r=t.url||this.url,s=t.responseType||this.responseType,l=void 0!==t.body?t.body:this.body,c=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,d=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let p=t.headers||this.headers,_=t.params||this.params;const v=null!==(n=t.context)&&void 0!==n?n:this.context;return void 0!==t.setHeaders&&(p=Object.keys(t.setHeaders).reduce((D,b)=>D.set(b,t.setHeaders[b]),p)),t.setParams&&(_=Object.keys(t.setParams).reduce((D,b)=>D.set(b,t.setParams[b]),_)),new Hs(i,r,l,{params:_,headers:p,context:v,reportProgress:d,responseType:s,withCredentials:c})}}var Xe=(()=>((Xe=Xe||{})[Xe.Sent=0]="Sent",Xe[Xe.UploadProgress=1]="UploadProgress",Xe[Xe.ResponseHeader=2]="ResponseHeader",Xe[Xe.DownloadProgress=3]="DownloadProgress",Xe[Xe.Response=4]="Response",Xe[Xe.User=5]="User",Xe))();class Zd{constructor(t,n=200,i="OK"){this.headers=t.headers||new gi,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Gd extends Zd{constructor(t={}){super(t),this.type=Xe.ResponseHeader}clone(t={}){return new Gd({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Hl extends Zd{constructor(t={}){super(t),this.type=Xe.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Hl({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class wy extends Zd{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function $d(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let Dy=(()=>{class e{constructor(n){this.handler=n}request(n,i,r={}){let s;if(n instanceof Hs)s=n;else{let d,p;d=r.headers instanceof gi?r.headers:new gi(r.headers),r.params&&(p=r.params instanceof Oi?r.params:new Oi({fromObject:r.params})),s=new Hs(n,i,void 0!==r.body?r.body:null,{headers:d,context:r.context,params:p,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const l=function BT(...e){return Vi(e,Xs(e))}(s).pipe(function HT(e,t){return Q(t)?vi(e,t,1):vi(e,1)}(d=>this.handler.handle(d)));if(n instanceof Hs||"events"===r.observe)return l;const c=l.pipe(function VT(e,t){return Oe((n,i)=>{let r=0;n.subscribe(new we(i,s=>e.call(t,s,r++)&&i.next(s)))})}(d=>d instanceof Hl));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return c.pipe(Ie(d=>{if(null!==d.body&&!(d.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return d.body}));case"blob":return c.pipe(Ie(d=>{if(null!==d.body&&!(d.body instanceof Blob))throw new Error("Response is not a Blob.");return d.body}));case"text":return c.pipe(Ie(d=>{if(null!==d.body&&"string"!=typeof d.body)throw new Error("Response is not a string.");return d.body}));default:return c.pipe(Ie(d=>d.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(n,i={}){return this.request("DELETE",n,i)}get(n,i={}){return this.request("GET",n,i)}head(n,i={}){return this.request("HEAD",n,i)}jsonp(n,i){return this.request("JSONP",n,{params:(new Oi).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,i={}){return this.request("OPTIONS",n,i)}patch(n,i,r={}){return this.request("PATCH",n,$d(r,i))}post(n,i,r={}){return this.request("POST",n,$d(r,i))}put(n,i,r={}){return this.request("PUT",n,$d(r,i))}}return e.\u0275fac=function(n){return new(n||e)(ge(fy))},e.\u0275prov=Ce({token:e,factory:e.\u0275fac}),e})();class by{constructor(t,n){this.next=t,this.interceptor=n}handle(t){return this.interceptor.intercept(t,this.next)}}const Cy=new Me("HTTP_INTERCEPTORS");let qT=(()=>{class e{intercept(n,i){return i.handle(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ce({token:e,factory:e.\u0275fac}),e})();const YT=/^\)\]\}',?\n/;let Ey=(()=>{class e{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Pe(i=>{const r=this.xhrFactory.build();if(r.open(n.method,n.urlWithParams),n.withCredentials&&(r.withCredentials=!0),n.headers.forEach((b,E)=>r.setRequestHeader(b,E.join(","))),n.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const b=n.detectContentTypeHeader();null!==b&&r.setRequestHeader("Content-Type",b)}if(n.responseType){const b=n.responseType.toLowerCase();r.responseType="json"!==b?b:"text"}const s=n.serializeBody();let l=null;const c=()=>{if(null!==l)return l;const b=1223===r.status?204:r.status,E=r.statusText||"OK",S=new gi(r.getAllResponseHeaders()),R=function KT(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(r)||n.url;return l=new Gd({headers:S,status:b,statusText:E,url:R}),l},d=()=>{let{headers:b,status:E,statusText:S,url:R}=c(),N=null;204!==E&&(N=void 0===r.response?r.responseText:r.response),0===E&&(E=N?200:0);let I=E>=200&&E<300;if("json"===n.responseType&&"string"==typeof N){const W=N;N=N.replace(YT,"");try{N=""!==N?JSON.parse(N):null}catch(se){N=W,I&&(I=!1,N={error:se,text:N})}}I?(i.next(new Hl({body:N,headers:b,status:E,statusText:S,url:R||void 0})),i.complete()):i.error(new wy({error:N,headers:b,status:E,statusText:S,url:R||void 0}))},p=b=>{const{url:E}=c(),S=new wy({error:b,status:r.status||0,statusText:r.statusText||"Unknown Error",url:E||void 0});i.error(S)};let _=!1;const v=b=>{_||(i.next(c()),_=!0);let E={type:Xe.DownloadProgress,loaded:b.loaded};b.lengthComputable&&(E.total=b.total),"text"===n.responseType&&!!r.responseText&&(E.partialText=r.responseText),i.next(E)},D=b=>{let E={type:Xe.UploadProgress,loaded:b.loaded};b.lengthComputable&&(E.total=b.total),i.next(E)};return r.addEventListener("load",d),r.addEventListener("error",p),r.addEventListener("timeout",p),r.addEventListener("abort",p),n.reportProgress&&(r.addEventListener("progress",v),null!==s&&r.upload&&r.upload.addEventListener("progress",D)),r.send(s),i.next({type:Xe.Sent}),()=>{r.removeEventListener("error",p),r.removeEventListener("abort",p),r.removeEventListener("load",d),r.removeEventListener("timeout",p),n.reportProgress&&(r.removeEventListener("progress",v),null!==s&&r.upload&&r.upload.removeEventListener("progress",D)),r.readyState!==r.DONE&&r.abort()}})}}return e.\u0275fac=function(n){return new(n||e)(ge(ey))},e.\u0275prov=Ce({token:e,factory:e.\u0275fac}),e})();const Wd=new Me("XSRF_COOKIE_NAME"),qd=new Me("XSRF_HEADER_NAME");class My{}let JT=(()=>{class e{constructor(n,i,r){this.doc=n,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=W_(n,this.cookieName),this.lastCookieString=n),this.lastToken}}return e.\u0275fac=function(n){return new(n||e)(ge(xn),ge(wl),ge(Wd))},e.\u0275prov=Ce({token:e,factory:e.\u0275fac}),e})(),Yd=(()=>{class e{constructor(n,i){this.tokenService=n,this.headerName=i}intercept(n,i){const r=n.url.toLowerCase();if("GET"===n.method||"HEAD"===n.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(n);const s=this.tokenService.getToken();return null!==s&&!n.headers.has(this.headerName)&&(n=n.clone({headers:n.headers.set(this.headerName,s)})),i.handle(n)}}return e.\u0275fac=function(n){return new(n||e)(ge(My),ge(qd))},e.\u0275prov=Ce({token:e,factory:e.\u0275fac}),e})(),QT=(()=>{class e{constructor(n,i){this.backend=n,this.injector=i,this.chain=null}handle(n){if(null===this.chain){const i=this.injector.get(Cy,[]);this.chain=i.reduceRight((r,s)=>new by(r,s),this.backend)}return this.chain.handle(n)}}return e.\u0275fac=function(n){return new(n||e)(ge(py),ge(Kt))},e.\u0275prov=Ce({token:e,factory:e.\u0275fac}),e})(),XT=(()=>{class e{static disable(){return{ngModule:e,providers:[{provide:Yd,useClass:qT}]}}static withOptions(n={}){return{ngModule:e,providers:[n.cookieName?{provide:Wd,useValue:n.cookieName}:[],n.headerName?{provide:qd,useValue:n.headerName}:[]]}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Gt({type:e}),e.\u0275inj=Xt({providers:[Yd,{provide:Cy,useExisting:Yd,multi:!0},{provide:My,useClass:JT},{provide:Wd,useValue:"XSRF-TOKEN"},{provide:qd,useValue:"X-XSRF-TOKEN"}]}),e})(),ex=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Gt({type:e}),e.\u0275inj=Xt({providers:[Dy,{provide:fy,useClass:QT},Ey,{provide:py,useExisting:Ey}],imports:[[XT.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),e})(),Ly=(()=>{class e{constructor(n){this.http=n,this.pollusolIcon=L.icon({iconUrl:"../../assets/pollu.png",iconSize:[36,42]}),this.userRange=1e3,this.greenData="../../assets/greenZonesTarnFull.json",this.pollusolData="https://api.jsonbin.io/b/620bc6fcca70c44b6e99153b",this.inst_indusData="https://api.jsonbin.io/b/620e8f741b38ee4b33bfed2b/1",this.farmsData="../../assets/farmsData.json",this.riversData="../../assets/riversDataTarn.json",this.greenZones=L.layerGroup(),this.pollusolLayer=L.deflate({minSize:100,markerOptions:{icon:this.pollusolIcon}}),this.inst_indusLayer=L.layerGroup(),this.editableLayers=new L.FeatureGroup,this.farmsLayer=L.layerGroup(),this.riversLayer=L.layerGroup(),this.userLayer=new L.layerGroup,this.areMarkersActivated=!1,this.customMarker=L.Icon.extend({options:{shadowUrl:null,iconAnchor:new L.Point(12,12),iconSize:new L.Point(24,24),iconUrl:"https://emassi.fr/wp-content/uploads/2017/10/Map-Marker-PNG-File.png"}})}style(n){return{fillColor:"#25633D",opacity:.8,weight:1,color:"white",fillOpacity:.7}}styleRed(n){return{fillColor:"#d15249",opacity:.8,weight:1,color:"white",fillOpacity:.7}}initmap(n){this.map=n,this.drawPolygons(),n.addLayer(this.editableLayers),n.on("click",i=>{this.areMarkersActivated&&(new L.marker(i.latlng,{icon:L.icon({iconUrl:"https://emassi.fr/wp-content/uploads/2017/10/Map-Marker-PNG-File.png",iconSize:[12,12]})}).addTo(this.userLayer),L.circle(i.latlng,{radius:this.userRange}).addTo(this.userLayer).addTo(this.userLayer))}),this.userLayer.addTo(n)}drawPolygons(){this.http.get(this.greenData).subscribe(n=>{for(const i of n.data)i.geometry&&L.geoJSON(i.geometry,{style:this.style}).addTo(this.greenZones).bindPopup("<center><h1>Exploitation biologique</h1><img style='width:100%;'src='https://i.imgur.com/2X88trj.jpeg'/><p>Type de culture :"+i.properties.LBL_CULTU+"</p><p>Surface : "+i.properties.SURFACE_HA+" hectares</p></center>")}),this.http.get(this.pollusolData).subscribe(n=>{for(const i of n.data)L.geoJSON(i,{style:this.styleRed}).addTo(this.pollusolLayer).bindPopup("<center><h1>Zone pollu\xe9e</h1><img style='width:100%;'src='../../assets/pollu1.png'/></center>")}),this.http.get(this.inst_indusData).subscribe(n=>{for(const i of n.data)L.geoJSON(i.geometry,{pointToLayer:function(s,l){return L.marker(l,{icon:L.icon({iconUrl:"../../assets/indus.png",iconSize:[36,42]})})}}).addTo(this.inst_indusLayer).bindPopup("<center><h1>Installation industrielle</h1><img style='width:50%;'src='../../assets/indus1.png'/><p>Type d'industrie : "+i.properties.lib_naf+"</p><p>Site class\xe9 "+i.properties.lib_seveso+"</p><a target=_blank href='"+i.properties.url_fiche+"'>Cliquer pour plus d'infos<a></center>")}),this.http.get(this.farmsData).subscribe(n=>{for(const i of n.data)L.geoJSON(i.geometry,{pointToLayer:function(s,l){return L.marker(l,{icon:L.icon({iconUrl:"../../assets/farm.png",iconSize:[36,42]})})}}).addTo(this.farmsLayer).bindPopup("<center><h1>Ferme</h1><img style='width:50%;'src='../../assets/farm1.png'/><p>Nom : "+i.properties.Nom+"</p><p>Ville "+i.properties.Ville+"<p> Adresse: "+i.properties.Address+"</p><p> Produits: "+i.properties.Produits+"</p></p><a target=_blank href='"+i.properties.Location+"'>lien maps<a></center>")}),this.http.get(this.riversData).subscribe(n=>{for(const i of n.data)L.geoJSON(i.geometry,{pointToLayer:function(s,l){return L.marker(l,{icon:L.icon({iconUrl:"../../assets/river.png",iconSize:[36,42]})})}}).addTo(this.riversLayer).bindPopup("<center><h1>Rivi\xe8re</h1><img style='width:50%;'src='../../assets/river1.png'/><p>Libelle : "+i.properties.Libelle+"</p><p>Commune:  "+i.properties.Commune+"<p> Localisation: "+i.properties.Localisation+"</p><p> Resultat: "+i.properties.Resultat+"  "+this.calculateRiverNote(i.properties.Resultat)+"</p><p> <a href='http://adour-garonne.eaufrance.fr'>Ressource</a></p>")})}greenZonesDisplay(){this.greenZones.addTo(this.map)}greenZonesHide(){this.greenZones.removeFrom(this.map)}pollusolDisplay(){this.pollusolLayer.addTo(this.map)}pollusolHide(){this.pollusolLayer.removeFrom(this.map)}inst_indusDisplay(){this.inst_indusLayer.addTo(this.map)}inst_indusHide(){this.inst_indusLayer.removeFrom(this.map)}farmsDisplay(){this.farmsLayer.addTo(this.map)}farmsHide(){this.farmsLayer.removeFrom(this.map)}riversDisplay(){this.riversLayer.addTo(this.map)}riversHide(){this.riversLayer.removeFrom(this.map)}rangeChangedByUser(n){this.userRange=n}resetUserLayer(){this.userLayer.clearLayers()}calculateRiverNote(n){let i="";return n>=17&&(i="<span class='noteDiv' style='background-color:rgb(113, 230, 253)';>Tr\xe8s Bonne</div>"),n<17&&14.5<=n&&(i="<span class='noteDiv' style='background-color:rgb(69, 231, 118)';>Bonne</div>"),n<14.5&&10.5<=n&&(i="<span class='noteDiv' style='background-color:yellow';>Moyenne</div>"),n<10.5&&6<=n&&(i="<span class='noteDiv' style='background-color:orange';>M\xe9diocre</div>"),n<6&&(i="<span class='noteDiv' style='background-color:red';>Mauvaise</div>"),i}}return e.\u0275fac=function(n){return new(n||e)(ge(Dy))},e.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),tx=(()=>{class e{constructor(n){this.mapService=n}ngAfterViewInit(){this.initMap(),this.mapService.initmap(this.map)}initMap(){let n=0,i=0;navigator.geolocation.getCurrentPosition(s=>{let l=s.coords;n=l.latitude,i=l.longitude,Bl.marker([n,i],{icon:Bl.icon({iconUrl:"https://tinyimg.io/i/yPFowhA.png",iconSize:[36,36]})}).addTo(this.map),this.map.setView([n,i],11)},s=>{s.code==s.PERMISSION_DENIED?this.map.setView([43.606214,2.241295],11):alert("Unable to find your position, try again later.")},{timeout:1e4}),this.map=Bl.map("map",{preferCanvas:!0}),Bl.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:18,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}).addTo(this.map)}}return e.\u0275fac=function(n){return new(n||e)(de(Ly))},e.\u0275cmp=bi({type:e,selectors:[["app-map"]],decls:2,vars:0,consts:[[1,"map-container"],["id","map"]],template:function(n,i){1&n&&(me(0,"div",0),un(1,"div",1),_e())},styles:[".map-container[_ngcontent-%COMP%]{width:100%;height:100%}#map[_ngcontent-%COMP%]{height:100%}@media screen and (max-width: 1100px){.map-container[_ngcontent-%COMP%]{height:75%}}"]}),e})();const nx=["layer1"],ix=["layer2"],ox=["layer3"],rx=["layer4"],sx=["layer5"],ax=["range"];let lx=(()=>{class e{constructor(n){this.mapService=n,this.n=3e3,this.markerMsg="Activer les marqueurs",this.pMsg="Les marqueurs sont d\xe9sactiv\xe9s"}layer1check(){var n;(null===(n=this.layer1)||void 0===n?void 0:n.nativeElement.checked)?this.mapService.greenZonesDisplay():this.mapService.greenZonesHide()}layer2check(){var n;(null===(n=this.layer2)||void 0===n?void 0:n.nativeElement.checked)?this.mapService.pollusolDisplay():this.mapService.pollusolHide()}layer3check(){var n;(null===(n=this.layer3)||void 0===n?void 0:n.nativeElement.checked)?this.mapService.inst_indusDisplay():this.mapService.inst_indusHide()}layer4check(){var n;(null===(n=this.layer4)||void 0===n?void 0:n.nativeElement.checked)?this.mapService.farmsDisplay():this.mapService.farmsHide()}layer5check(){var n;(null===(n=this.layer5)||void 0===n?void 0:n.nativeElement.checked)?this.mapService.riversDisplay():this.mapService.riversHide()}rangeChanged(n){this.range&&(this.n=n.target.value),this.mapService.rangeChangedByUser(this.n)}reset(){this.mapService.resetUserLayer()}activateMarkers(){this.mapService.areMarkersActivated=!this.mapService.areMarkersActivated,"Activer les marqueurs"==this.markerMsg?(this.markerMsg="D\xe9sactiver les marqueurs",this.pMsg="Cliquez sur la carte pour placer une zone de ce rayon"):(this.markerMsg="Activer les marqueurs",this.pMsg="Les marqueurs sont d\xe9sactiv\xe9s")}formDisplay(){document.querySelector(".form").classList.toggle("active")}}return e.\u0275fac=function(n){return new(n||e)(de(Ly))},e.\u0275cmp=bi({type:e,selectors:[["app-sidebar"]],viewQuery:function(n,i){if(1&n&&(so(nx,5),so(ix,5),so(ox,5),so(rx,5),so(sx,5),so(ax,5)),2&n){let r;ro(r=ao())&&(i.layer1=r.first),ro(r=ao())&&(i.layer2=r.first),ro(r=ao())&&(i.layer3=r.first),ro(r=ao())&&(i.layer4=r.first),ro(r=ao())&&(i.layer5=r.first),ro(r=ao())&&(i.range=r.first)}},decls:64,vars:3,consts:[[1,"sidebar"],["id","lorem"],[1,"slidecontainer"],["type","range","min","1000","max","6000","value","3000","id","myRange",1,"slider",3,"input"],["range",""],["number",""],["id","slideButtonsContainer"],[3,"click"],["src","../../assets/marker.png"],["src","../../assets/cross.png"],["type","checkbox","id","layer1","name","layer1","value","bio",3,"click"],["layer1",""],["for","layer1"],[1,"LayerDescription"],["type","checkbox","id","layer4","name","layer4","value","ferms",3,"click"],["layer4",""],["for","layer4"],["type","checkbox","id","layer2","name","layer2","value","indus",3,"click"],["layer2",""],["for","layer2"],["type","checkbox","id","layer3","name","layer3","value","insectes",3,"click"],["layer3",""],["for","layer3"],["type","checkbox","id","layer5","name","layer5","value","Rivers",3,"click"],["layer5",""],["id","questionnaire",3,"click"]],template:function(n,i){1&n&&(me(0,"div",0),me(1,"h1"),Ue(2,"GeoBeeo"),_e(),me(3,"p",1),Ue(4," Beeo est une application d'abord cr\xe9\xe9e pour aider les apiculteurs bio \xe0 trouver des endroits adapt\xe9s pour poser leurs ruches. "),_e(),me(5,"div",2),me(6,"h3"),Ue(7,"Placer un marqueur"),_e(),me(8,"input",3,4),cn("input",function(s){return i.rangeChanged(s)}),_e(),me(10,"p"),Ue(11," Rayon de butinage : "),me(12,"span",null,5),Ue(14),_e(),Ue(15),_e(),me(16,"div",6),me(17,"button",7),cn("click",function(){return i.activateMarkers()}),un(18,"img",8),me(19,"span"),Ue(20),_e(),_e(),me(21,"button",7),cn("click",function(){return i.reset()}),un(22,"img",9),Ue(23,"Reset"),_e(),_e(),_e(),un(24,"br"),me(25,"h3"),Ue(26,"S\xe9lection des calques"),_e(),me(27,"input",10,11),cn("click",function(){return i.layer1check()}),_e(),me(29,"label",12),Ue(30,"Zones bios"),_e(),un(31,"br"),me(32,"p",13),Ue(33," Correspond aux parcelles en Agriculture Biologique (AB) d\xe9clar\xe9es \xe0 la PAC "),_e(),me(34,"input",14,15),cn("click",function(){return i.layer4check()}),_e(),me(36,"label",16),Ue(37,"Fermes Bio"),_e(),un(38,"br"),me(39,"p",13),Ue(40," Correspond aux fermes bio avec leur emplacement exact "),_e(),me(41,"input",17,18),cn("click",function(){return i.layer2check()}),_e(),me(43,"label",19),Ue(44,"Zones pollu\xe9es"),_e(),un(45,"br"),me(46,"p",13),Ue(47," Correspond aux sites et sols pollu\xe9s (ou potentiellement pollu\xe9s) appelant une action des pouvoirs publics, \xe0 titre pr\xe9ventif ou curatif (ex BASOL). "),_e(),me(48,"input",20,21),cn("click",function(){return i.layer3check()}),_e(),me(50,"label",22),Ue(51,"Installations industrielles"),_e(),un(52,"br"),me(53,"p",13),Ue(54," Correspond aux Installations class\xe9es pour la protection de l'environnement (ICPE) soumises \xe0 autorisation ou \xe0 enregistrement (en construction, en fonctionnement ou en cessation d'activit\xe9) "),_e(),me(55,"input",23,24),cn("click",function(){return i.layer5check()}),_e(),me(57,"label",16),Ue(58,"Rivi\xe8res"),_e(),un(59,"br"),me(60,"p",13),Ue(61," Correspond aux qualit\xe9 des rivi\xe8res avec l'emplacement de la station de mesure. "),_e(),me(62,"button",25),cn("click",function(){return i.formDisplay()}),Ue(63,"Afficher le questionnaire"),_e(),_e()),2&n&&(Ja(14),ll(i.n),Ja(1),ul(" m\xe8tres (",i.pMsg,") "),Ja(5),ll(i.markerMsg))},styles:['@import"https://fonts.googleapis.com/css2?family=Alata&display=swap";.leaflet-pane[_ngcontent-%COMP%], .leaflet-tile[_ngcontent-%COMP%], .leaflet-marker-icon[_ngcontent-%COMP%], .leaflet-marker-shadow[_ngcontent-%COMP%], .leaflet-tile-container[_ngcontent-%COMP%], .leaflet-pane[_ngcontent-%COMP%] > svg[_ngcontent-%COMP%], .leaflet-pane[_ngcontent-%COMP%] > canvas[_ngcontent-%COMP%], .leaflet-zoom-box[_ngcontent-%COMP%], .leaflet-image-layer[_ngcontent-%COMP%], .leaflet-layer[_ngcontent-%COMP%]{position:absolute;left:0;top:0}.leaflet-container[_ngcontent-%COMP%]{overflow:hidden}.leaflet-tile[_ngcontent-%COMP%], .leaflet-marker-icon[_ngcontent-%COMP%], .leaflet-marker-shadow[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;-webkit-user-drag:none}.leaflet-tile[_ngcontent-%COMP%]::selection{background:transparent}.leaflet-safari[_ngcontent-%COMP%]   .leaflet-tile[_ngcontent-%COMP%]{image-rendering:-webkit-optimize-contrast}.leaflet-safari[_ngcontent-%COMP%]   .leaflet-tile-container[_ngcontent-%COMP%]{width:1600px;height:1600px;-webkit-transform-origin:0 0}.leaflet-marker-icon[_ngcontent-%COMP%], .leaflet-marker-shadow[_ngcontent-%COMP%]{display:block}.leaflet-container[_ngcontent-%COMP%]   .leaflet-overlay-pane[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .leaflet-container[_ngcontent-%COMP%]   .leaflet-marker-pane[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .leaflet-container[_ngcontent-%COMP%]   .leaflet-shadow-pane[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .leaflet-container[_ngcontent-%COMP%]   .leaflet-tile-pane[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .leaflet-container[_ngcontent-%COMP%]   img.leaflet-image-layer[_ngcontent-%COMP%], .leaflet-container[_ngcontent-%COMP%]   .leaflet-tile[_ngcontent-%COMP%]{max-width:none!important;max-height:none!important}.leaflet-container.leaflet-touch-zoom[_ngcontent-%COMP%]{touch-action:pan-x pan-y}.leaflet-container.leaflet-touch-drag[_ngcontent-%COMP%]{touch-action:none;touch-action:pinch-zoom}.leaflet-container.leaflet-touch-drag.leaflet-touch-zoom[_ngcontent-%COMP%]{touch-action:none}.leaflet-container[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent}.leaflet-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{-webkit-tap-highlight-color:rgba(51,181,229,.4)}.leaflet-tile[_ngcontent-%COMP%]{filter:inherit;visibility:hidden}.leaflet-tile-loaded[_ngcontent-%COMP%]{visibility:inherit}.leaflet-zoom-box[_ngcontent-%COMP%]{width:0;height:0;box-sizing:border-box;z-index:800}.leaflet-overlay-pane[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{-moz-user-select:none}.leaflet-pane[_ngcontent-%COMP%]{z-index:400}.leaflet-tile-pane[_ngcontent-%COMP%]{z-index:200}.leaflet-overlay-pane[_ngcontent-%COMP%]{z-index:400}.leaflet-shadow-pane[_ngcontent-%COMP%]{z-index:500}.leaflet-marker-pane[_ngcontent-%COMP%]{z-index:600}.leaflet-tooltip-pane[_ngcontent-%COMP%]{z-index:650}.leaflet-popup-pane[_ngcontent-%COMP%]{z-index:700}.leaflet-map-pane[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{z-index:100}.leaflet-map-pane[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{z-index:200}.leaflet-vml-shape[_ngcontent-%COMP%]{width:1px;height:1px}.lvml[_ngcontent-%COMP%]{behavior:url(#default#VML);display:inline-block;position:absolute}.leaflet-control[_ngcontent-%COMP%]{position:relative;z-index:800;pointer-events:visiblePainted;pointer-events:auto}.leaflet-top[_ngcontent-%COMP%], .leaflet-bottom[_ngcontent-%COMP%]{position:absolute;z-index:1000;pointer-events:none}.leaflet-top[_ngcontent-%COMP%]{top:0}.leaflet-right[_ngcontent-%COMP%]{right:0}.leaflet-bottom[_ngcontent-%COMP%]{bottom:0}.leaflet-left[_ngcontent-%COMP%]{left:0}.leaflet-control[_ngcontent-%COMP%]{float:left;clear:both}.leaflet-right[_ngcontent-%COMP%]   .leaflet-control[_ngcontent-%COMP%]{float:right}.leaflet-top[_ngcontent-%COMP%]   .leaflet-control[_ngcontent-%COMP%]{margin-top:10px}.leaflet-bottom[_ngcontent-%COMP%]   .leaflet-control[_ngcontent-%COMP%]{margin-bottom:10px}.leaflet-left[_ngcontent-%COMP%]   .leaflet-control[_ngcontent-%COMP%]{margin-left:10px}.leaflet-right[_ngcontent-%COMP%]   .leaflet-control[_ngcontent-%COMP%]{margin-right:10px}.leaflet-fade-anim[_ngcontent-%COMP%]   .leaflet-tile[_ngcontent-%COMP%]{will-change:opacity}.leaflet-fade-anim[_ngcontent-%COMP%]   .leaflet-popup[_ngcontent-%COMP%]{opacity:0;transition:opacity .2s linear}.leaflet-fade-anim[_ngcontent-%COMP%]   .leaflet-map-pane[_ngcontent-%COMP%]   .leaflet-popup[_ngcontent-%COMP%]{opacity:1}.leaflet-zoom-animated[_ngcontent-%COMP%]{transform-origin:0 0}.leaflet-zoom-anim[_ngcontent-%COMP%]   .leaflet-zoom-animated[_ngcontent-%COMP%]{will-change:transform}.leaflet-zoom-anim[_ngcontent-%COMP%]   .leaflet-zoom-animated[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.25,1)}.leaflet-zoom-anim[_ngcontent-%COMP%]   .leaflet-tile[_ngcontent-%COMP%], .leaflet-pan-anim[_ngcontent-%COMP%]   .leaflet-tile[_ngcontent-%COMP%]{transition:none}.leaflet-zoom-anim[_ngcontent-%COMP%]   .leaflet-zoom-hide[_ngcontent-%COMP%]{visibility:hidden}.leaflet-interactive[_ngcontent-%COMP%]{cursor:pointer}.leaflet-grab[_ngcontent-%COMP%]{cursor:grab}.leaflet-crosshair[_ngcontent-%COMP%], .leaflet-crosshair[_ngcontent-%COMP%]   .leaflet-interactive[_ngcontent-%COMP%]{cursor:crosshair}.leaflet-popup-pane[_ngcontent-%COMP%], .leaflet-control[_ngcontent-%COMP%]{cursor:auto}.leaflet-dragging[_ngcontent-%COMP%]   .leaflet-grab[_ngcontent-%COMP%], .leaflet-dragging[_ngcontent-%COMP%]   .leaflet-grab[_ngcontent-%COMP%]   .leaflet-interactive[_ngcontent-%COMP%], .leaflet-dragging[_ngcontent-%COMP%]   .leaflet-marker-draggable[_ngcontent-%COMP%]{cursor:move;cursor:grabbing}.leaflet-marker-icon[_ngcontent-%COMP%], .leaflet-marker-shadow[_ngcontent-%COMP%], .leaflet-image-layer[_ngcontent-%COMP%], .leaflet-pane[_ngcontent-%COMP%] > svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%], .leaflet-tile-container[_ngcontent-%COMP%]{pointer-events:none}.leaflet-marker-icon.leaflet-interactive[_ngcontent-%COMP%], .leaflet-image-layer.leaflet-interactive[_ngcontent-%COMP%], .leaflet-pane[_ngcontent-%COMP%] > svg[_ngcontent-%COMP%]   path.leaflet-interactive[_ngcontent-%COMP%], svg.leaflet-image-layer.leaflet-interactive[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{pointer-events:visiblePainted;pointer-events:auto}.leaflet-container[_ngcontent-%COMP%]{background:#ddd;outline:0}.leaflet-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#0078a8}.leaflet-container[_ngcontent-%COMP%]   a.leaflet-active[_ngcontent-%COMP%]{outline:2px solid orange}.leaflet-zoom-box[_ngcontent-%COMP%]{border:2px dotted #38f;background:rgba(255,255,255,.5)}.leaflet-container[_ngcontent-%COMP%]{font:12px/1.5 Helvetica Neue,Arial,Helvetica,sans-serif}.leaflet-bar[_ngcontent-%COMP%]{box-shadow:0 1px 5px #000000a6;border-radius:4px}.leaflet-bar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .leaflet-bar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#fff;border-bottom:1px solid #ccc;width:26px;height:26px;line-height:26px;display:block;text-align:center;text-decoration:none;color:#000}.leaflet-bar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .leaflet-control-layers-toggle[_ngcontent-%COMP%]{background-position:50% 50%;background-repeat:no-repeat;display:block}.leaflet-bar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#f4f4f4}.leaflet-bar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:first-child{border-top-left-radius:4px;border-top-right-radius:4px}.leaflet-bar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:last-child{border-bottom-left-radius:4px;border-bottom-right-radius:4px;border-bottom:none}.leaflet-bar[_ngcontent-%COMP%]   a.leaflet-disabled[_ngcontent-%COMP%]{cursor:default;background-color:#f4f4f4;color:#bbb}.leaflet-touch[_ngcontent-%COMP%]   .leaflet-bar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:30px;height:30px;line-height:30px}.leaflet-touch[_ngcontent-%COMP%]   .leaflet-bar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:first-child{border-top-left-radius:2px;border-top-right-radius:2px}.leaflet-touch[_ngcontent-%COMP%]   .leaflet-bar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:last-child{border-bottom-left-radius:2px;border-bottom-right-radius:2px}.leaflet-control-zoom-in[_ngcontent-%COMP%], .leaflet-control-zoom-out[_ngcontent-%COMP%]{font:700 18px Lucida Console,Monaco,monospace;text-indent:1px}.leaflet-touch[_ngcontent-%COMP%]   .leaflet-control-zoom-in[_ngcontent-%COMP%], .leaflet-touch[_ngcontent-%COMP%]   .leaflet-control-zoom-out[_ngcontent-%COMP%]{font-size:22px}.leaflet-control-layers[_ngcontent-%COMP%]{box-shadow:0 1px 5px #0006;background:#fff;border-radius:5px}.leaflet-control-layers-toggle[_ngcontent-%COMP%]{background-image:url(layers.ef6db8722c2c3f9a.png);width:36px;height:36px}.leaflet-retina[_ngcontent-%COMP%]   .leaflet-control-layers-toggle[_ngcontent-%COMP%]{background-image:url(layers-2x.9859cd1231006a4a.png);background-size:26px 26px}.leaflet-touch[_ngcontent-%COMP%]   .leaflet-control-layers-toggle[_ngcontent-%COMP%]{width:44px;height:44px}.leaflet-control-layers[_ngcontent-%COMP%]   .leaflet-control-layers-list[_ngcontent-%COMP%], .leaflet-control-layers-expanded[_ngcontent-%COMP%]   .leaflet-control-layers-toggle[_ngcontent-%COMP%]{display:none}.leaflet-control-layers-expanded[_ngcontent-%COMP%]   .leaflet-control-layers-list[_ngcontent-%COMP%]{display:block;position:relative}.leaflet-control-layers-expanded[_ngcontent-%COMP%]{padding:6px 10px 6px 6px;color:#333;background:#fff}.leaflet-control-layers-scrollbar[_ngcontent-%COMP%]{overflow-y:scroll;overflow-x:hidden;padding-right:5px}.leaflet-control-layers-selector[_ngcontent-%COMP%]{margin-top:2px;position:relative;top:1px}.leaflet-control-layers[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block}.leaflet-control-layers-separator[_ngcontent-%COMP%]{height:0;border-top:1px solid #ddd;margin:5px -10px 5px -6px}.leaflet-default-icon-path[_ngcontent-%COMP%]{background-image:url(marker-icon.d577052aa271e13f.png)}.leaflet-container[_ngcontent-%COMP%]   .leaflet-control-attribution[_ngcontent-%COMP%]{background:#fff;background:rgba(255,255,255,.7);margin:0}.leaflet-control-attribution[_ngcontent-%COMP%], .leaflet-control-scale-line[_ngcontent-%COMP%]{padding:0 5px;color:#333}.leaflet-control-attribution[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.leaflet-control-attribution[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.leaflet-container[_ngcontent-%COMP%]   .leaflet-control-attribution[_ngcontent-%COMP%], .leaflet-container[_ngcontent-%COMP%]   .leaflet-control-scale[_ngcontent-%COMP%]{font-size:11px}.leaflet-left[_ngcontent-%COMP%]   .leaflet-control-scale[_ngcontent-%COMP%]{margin-left:5px}.leaflet-bottom[_ngcontent-%COMP%]   .leaflet-control-scale[_ngcontent-%COMP%]{margin-bottom:5px}.leaflet-control-scale-line[_ngcontent-%COMP%]{border:2px solid #777;border-top:none;line-height:1.1;padding:2px 5px 1px;font-size:11px;white-space:nowrap;overflow:hidden;box-sizing:border-box;background:#fff;background:rgba(255,255,255,.5)}.leaflet-control-scale-line[_ngcontent-%COMP%]:not(:first-child){border-top:2px solid #777;border-bottom:none;margin-top:-2px}.leaflet-control-scale-line[_ngcontent-%COMP%]:not(:first-child):not(:last-child){border-bottom:2px solid #777}.leaflet-touch[_ngcontent-%COMP%]   .leaflet-control-attribution[_ngcontent-%COMP%], .leaflet-touch[_ngcontent-%COMP%]   .leaflet-control-layers[_ngcontent-%COMP%], .leaflet-touch[_ngcontent-%COMP%]   .leaflet-bar[_ngcontent-%COMP%]{box-shadow:none}.leaflet-touch[_ngcontent-%COMP%]   .leaflet-control-layers[_ngcontent-%COMP%], .leaflet-touch[_ngcontent-%COMP%]   .leaflet-bar[_ngcontent-%COMP%]{border:2px solid rgba(0,0,0,.2);background-clip:padding-box}.leaflet-popup[_ngcontent-%COMP%]{position:absolute;text-align:center;margin-bottom:20px}.leaflet-popup-content-wrapper[_ngcontent-%COMP%]{padding:1px;text-align:left;border-radius:12px}.leaflet-popup-content[_ngcontent-%COMP%]{margin:13px 19px;line-height:1.4}.leaflet-popup-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:18px 0}.leaflet-popup-tip-container[_ngcontent-%COMP%]{width:40px;height:20px;position:absolute;left:50%;margin-left:-20px;overflow:hidden;pointer-events:none}.leaflet-popup-tip[_ngcontent-%COMP%]{width:17px;height:17px;padding:1px;margin:-10px auto 0;transform:rotate(45deg)}.leaflet-popup-content-wrapper[_ngcontent-%COMP%], .leaflet-popup-tip[_ngcontent-%COMP%]{background:white;color:#333;box-shadow:0 3px 14px #0006}.leaflet-container[_ngcontent-%COMP%]   a.leaflet-popup-close-button[_ngcontent-%COMP%]{position:absolute;top:0;right:0;padding:4px 4px 0 0;border:none;text-align:center;width:18px;height:14px;font:16px/14px Tahoma,Verdana,sans-serif;color:#c3c3c3;text-decoration:none;font-weight:700;background:transparent}.leaflet-container[_ngcontent-%COMP%]   a.leaflet-popup-close-button[_ngcontent-%COMP%]:hover{color:#999}.leaflet-popup-scrolled[_ngcontent-%COMP%]{overflow:auto;border-bottom:1px solid #ddd;border-top:1px solid #ddd}.leaflet-oldie[_ngcontent-%COMP%]   .leaflet-popup-content-wrapper[_ngcontent-%COMP%]{-ms-zoom:1}.leaflet-oldie[_ngcontent-%COMP%]   .leaflet-popup-tip[_ngcontent-%COMP%]{width:24px;margin:0 auto;-ms-filter:"progid:DXImageTransform.Microsoft.Matrix(M11=0.70710678, M12=0.70710678, M21=-0.70710678, M22=0.70710678)";filter:progid:DXImageTransform.Microsoft.Matrix(M11=.70710678,M12=.70710678,M21=-.70710678,M22=.70710678)}.leaflet-oldie[_ngcontent-%COMP%]   .leaflet-popup-tip-container[_ngcontent-%COMP%]{margin-top:-1px}.leaflet-oldie[_ngcontent-%COMP%]   .leaflet-control-zoom[_ngcontent-%COMP%], .leaflet-oldie[_ngcontent-%COMP%]   .leaflet-control-layers[_ngcontent-%COMP%], .leaflet-oldie[_ngcontent-%COMP%]   .leaflet-popup-content-wrapper[_ngcontent-%COMP%], .leaflet-oldie[_ngcontent-%COMP%]   .leaflet-popup-tip[_ngcontent-%COMP%]{border:1px solid #999}.leaflet-div-icon[_ngcontent-%COMP%]{background:#fff;border:1px solid #666}.leaflet-tooltip[_ngcontent-%COMP%]{position:absolute;padding:6px;background-color:#fff;border:1px solid #fff;border-radius:3px;color:#222;white-space:nowrap;-webkit-user-select:none;user-select:none;pointer-events:none;box-shadow:0 1px 3px #0006}.leaflet-tooltip.leaflet-clickable[_ngcontent-%COMP%]{cursor:pointer;pointer-events:auto}.leaflet-tooltip-top[_ngcontent-%COMP%]:before, .leaflet-tooltip-bottom[_ngcontent-%COMP%]:before, .leaflet-tooltip-left[_ngcontent-%COMP%]:before, .leaflet-tooltip-right[_ngcontent-%COMP%]:before{position:absolute;pointer-events:none;border:6px solid transparent;background:transparent;content:""}.leaflet-tooltip-bottom[_ngcontent-%COMP%]{margin-top:6px}.leaflet-tooltip-top[_ngcontent-%COMP%]{margin-top:-6px}.leaflet-tooltip-bottom[_ngcontent-%COMP%]:before, .leaflet-tooltip-top[_ngcontent-%COMP%]:before{left:50%;margin-left:-6px}.leaflet-tooltip-top[_ngcontent-%COMP%]:before{bottom:0;margin-bottom:-12px;border-top-color:#fff}.leaflet-tooltip-bottom[_ngcontent-%COMP%]:before{top:0;margin-top:-12px;margin-left:-6px;border-bottom-color:#fff}.leaflet-tooltip-left[_ngcontent-%COMP%]{margin-left:-6px}.leaflet-tooltip-right[_ngcontent-%COMP%]{margin-left:6px}.leaflet-tooltip-left[_ngcontent-%COMP%]:before, .leaflet-tooltip-right[_ngcontent-%COMP%]:before{top:50%;margin-top:-6px}.leaflet-tooltip-left[_ngcontent-%COMP%]:before{right:0;margin-right:-12px;border-left-color:#fff}.leaflet-tooltip-right[_ngcontent-%COMP%]:before{left:0;margin-left:-12px;border-right-color:#fff}.sidebar[_ngcontent-%COMP%]{height:100%;width:100%;background-color:#008752;border-left:solid 4px #eafadd;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:8%;color:#eafadd;overflow-y:scroll}@media screen and (max-width: 1100px){.sidebar[_ngcontent-%COMP%]{height:auto;border-left:none}}h1[_ngcontent-%COMP%]{margin:0}#lorem[_ngcontent-%COMP%]{font-size:.9em;text-justify:inter-word}.slidecontainer[_ngcontent-%COMP%]{text-align:center;width:100%;background-color:#00693f;padding-bottom:5px}button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:5px;height:15px}#slideButtonsContainer[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:center;flex-direction:row}@media screen and (max-width: 1300px){.slidecontainer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}}.slidecontainer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:Alata,sans-serif;display:flex;align-items:center;height:30px;outline:none;cursor:pointer;border:1px solid transparent;border-radius:2px;line-height:34px;background-color:#eafadd;transition:background-color .2s ease-in-out 0s,opacity .2s ease-in-out 0s;margin:5px}.slidecontainer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#e8eee1}.slider[_ngcontent-%COMP%]{-webkit-appearance:none;width:75%;height:2px;border-radius:5px;background:#d3d3d3;opacity:1;transition:opacity .2s}.slider[_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:23px;height:24px;border:0;background:url(bee-png.557467e20a7942b0.png);cursor:pointer}.slider[_ngcontent-%COMP%]::-moz-range-thumb{width:23px;height:24px;border:0;background:url(bee-png.557467e20a7942b0.png);cursor:pointer}.LayerDescription[_ngcontent-%COMP%]{margin-top:0;color:#cdd3c7}[type=checkbox][_ngcontent-%COMP%]{width:15px;height:15px}#questionnaire[_ngcontent-%COMP%]{font-family:Alata,sans-serif;display:flex;align-items:center;height:30px;outline:none;cursor:pointer;border:1px solid transparent;border-radius:2px;line-height:34px;background-color:#eafadd;transition:background-color .2s ease-in-out 0s,opacity .2s ease-in-out 0s;margin:5px}']}),e})(),ux=(()=>{class e{formDisplay(){document.querySelector(".form").classList.toggle("active")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=bi({type:e,selectors:[["app-root"]],decls:7,vars:0,consts:[[1,"global_container"],[1,"f1"],[1,"f2"],[1,"form","active"],[1,"croix",3,"click"],["src","https://docs.google.com/forms/d/e/1FAIpQLSfxS3vOPykpysWQlfeSxGr6E5Uu-rwuNBZ6EvX7B3pta_v4Wg/viewform?embedded=true","width","100%","height","100%","frameborder","0","marginheight","0","marginwidth","0"]],template:function(n,i){1&n&&(me(0,"div",0),un(1,"app-map",1),un(2,"app-sidebar",2),me(3,"div",3),me(4,"div",4),cn("click",function(){return i.formDisplay()}),_e(),me(5,"iframe",5),Ue(6,"Loading\u2026"),_e(),_e(),_e())},directives:[tx,lx],styles:[".global_container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;width:100%;height:100%}.f1[_ngcontent-%COMP%]{width:75%;height:100%}.f2[_ngcontent-%COMP%]{width:25%;height:100%}@media screen and (max-width: 1100px){.global_container[_ngcontent-%COMP%]{display:block}.f1[_ngcontent-%COMP%], .f2[_ngcontent-%COMP%]{width:100%}}"]}),e})(),cx=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Gt({type:e,bootstrap:[ux]}),e.\u0275inj=Xt({providers:[],imports:[[TT,ex]]}),e})();(function sM(){E_=!1})(),MT().bootstrapModule(cx).catch(e=>console.error(e))},556:()=>{"use strict";L.Layer.include({_originalRemove:L.Layer.prototype.remove,remove:function(){return this.marker&&this.marker.remove(),this._originalRemove()}}),L.Map.include({_originalRemoveLayer:L.Map.prototype.removeLayer,removeLayer:function(B){return B.marker&&B.marker.remove(),this._originalRemoveLayer(B)}}),L.Deflate=L.FeatureGroup.extend({options:{minSize:10,markerOptions:{},markerType:L.marker,greedyCollapse:!0},initialize:function(B){L.Util.setOptions(this,B),this._layers=[],this._needsPrepping=[],this._featureLayer=this._getFeatureLayer(B)},_getFeatureLayer:function(){return this.options.markerLayer?this.options.markerLayer:L.featureGroup(this.options)},_getBounds:function(B){if(B instanceof L.Circle){B.addTo(this._map);const q=B.getBounds();return this._map.removeLayer(B),q}return B.getBounds()},_isCollapsed:function(B,q){const P=B.computedBounds,Q=this._map.project(P.getNorthEast(),q),f=this._map.project(P.getSouthWest(),q),m=Math.abs(Q.x-f.x),w=Math.abs(f.y-Q.y);return this.options.greedyCollapse?w<this.options.minSize||m<this.options.minSize:w<this.options.minSize&&m<this.options.minSize},_getZoomThreshold:function(B){let q,P=this._map.getZoom();if(this._isCollapsed(B,this._map.getZoom()))for(;!q;)P+=1,this._isCollapsed(B,P)||(q=P-1);else for(;!q;)P-=1,this._isCollapsed(B,P)&&(q=P);return q},_bindInfoTools:function(B,q){q._popupHandlersAdded&&B.bindPopup(q._popup._content,q._popup.options),q._tooltipHandlersAdded&&B.bindTooltip(q._tooltip._content,q._tooltip.options)},_bindEvents:function(q,P){const Q=P._events,f=Q?Object.getOwnPropertyNames(Q):[],m=P._eventParents,w=m?Object.getOwnPropertyNames(m):[];this._bindInfoTools(q,P);for(let M=0,O=f.length;M<O;M+=1){const z=Q[f[M]];for(let V=0,Z=z.length;V<Z;V+=1)q.on(f[M],z[V].fn)}if(P._eventParents)for(let M=0,O=w.length;M<O;M+=1)P._eventParents[w[M]]._map||(this._bindEvents(q,P._eventParents[w[M]]),this._bindInfoTools(P,P._eventParents[w[M]]))},_makeMarker:function(B){if(-1===[L.marker,L.circleMarker].indexOf(this.options.markerType))throw new Error("Invalid markerType provided. Allowed markerTypes are: L.marker and L.circleMarker");const P="function"==typeof this.options.markerOptions?this.options.markerOptions(B):this.options.markerOptions,Q=this.options.markerType(B.computedBounds.getCenter(),P),f=B.feature?Q.toGeoJSON():void 0;return this._bindEvents(Q,B),f&&(f.properties=B.feature.properties,Q.feature=f),Q},prepLayer:function(B){B.getBounds&&(B.computedBounds=this._getBounds(B),B.zoomThreshold=this._getZoomThreshold(B),B.marker=this._makeMarker(B),B.zoomState=this._map.getZoom())},_addToMap:function(B){const q=this._map.getZoom()<=B.zoomThreshold?B.marker:B;this._featureLayer.addLayer(q)},addLayer:function(B){const q=B instanceof L.FeatureGroup?Object.getOwnPropertyNames(B._layers):[];if(q.length)for(let P=0,Q=q.length;P<Q;P+=1)this.addLayer(B._layers[q[P]]);else this._map?(this.prepLayer(B),this._addToMap(B)):this._needsPrepping.push(B),this._layers[this.getLayerId(B)]=B},removeLayer:function(B){const q=B instanceof L.FeatureGroup?Object.getOwnPropertyNames(B._layers):[];if(q.length)for(let P=0,Q=q.length;P<Q;P+=1)this.removeLayer(B._layers[q[P]]);else{const P=B in this._layers?B:this.getLayerId(B);this._featureLayer.removeLayer(this._layers[P]),this._layers[P].marker&&this._featureLayer.removeLayer(this._layers[P].marker),delete this._layers[P];const Q=this._needsPrepping.indexOf(this._layers[P]);-1!==Q&&this._needsPrepping.splice(Q,1)}},clearLayers:function(){this._featureLayer.clearLayers(),this._layers=[]},_switchDisplay:function(B,q){q?(this._featureLayer.removeLayer(B),this._featureLayer.addLayer(B.marker)):(this._featureLayer.removeLayer(B.marker),this._featureLayer.addLayer(B))},_deflate:function(){const B=this._map.getBounds(),q=this._map.getZoom();this.eachLayer(function(P){P.marker&&P.zoomState!==q&&P.computedBounds.intersects(B)&&(this._switchDisplay(P,q<=P.zoomThreshold),P.zoomState=q)},this)},onAdd:function(B){this._featureLayer.addTo(B),this._map.on("zoomend",this._deflate,this),this._map.on("moveend",this._deflate,this);for(let q=0,P=this._needsPrepping.length;q<P;q+=1)this.addLayer(this._needsPrepping[q]);this._needsPrepping=[],this._deflate()},onRemove:function(B){B.removeLayer(this._featureLayer),this._map.off("zoomend",this._deflate,this),this._map.off("moveend",this._deflate,this)}}),L.deflate=function(B){return new L.Deflate(B)}},690:()=>{var B,q,f;B=window,q=document,L.drawVersion="1.0.4",L.Draw={},L.drawLocal={draw:{toolbar:{actions:{title:"Cancel drawing",text:"Cancel"},finish:{title:"Finish drawing",text:"Finish"},undo:{title:"Delete last point drawn",text:"Delete last point"},buttons:{polyline:"Draw a polyline",polygon:"Draw a polygon",rectangle:"Draw a rectangle",circle:"Draw a circle",marker:"Draw a marker",circlemarker:"Draw a circlemarker"}},handlers:{circle:{tooltip:{start:"Click and drag to draw circle."},radius:"Radius"},circlemarker:{tooltip:{start:"Click map to place circle marker."}},marker:{tooltip:{start:"Click map to place marker."}},polygon:{tooltip:{start:"Click to start drawing shape.",cont:"Click to continue drawing shape.",end:"Click first point to close this shape."}},polyline:{error:"<strong>Error:</strong> shape edges cannot cross!",tooltip:{start:"Click to start drawing line.",cont:"Click to continue drawing line.",end:"Click last point to finish line."}},rectangle:{tooltip:{start:"Click and drag to draw rectangle."}},simpleshape:{tooltip:{end:"Release mouse to finish drawing."}}}},edit:{toolbar:{actions:{save:{title:"Save changes",text:"Save"},cancel:{title:"Cancel editing, discards all changes",text:"Cancel"},clearAll:{title:"Clear all layers",text:"Clear All"}},buttons:{edit:"Edit layers",editDisabled:"No layers to edit",remove:"Delete layers",removeDisabled:"No layers to delete"}},handlers:{edit:{tooltip:{text:"Drag handles or markers to edit features.",subtext:"Click cancel to undo changes."}},remove:{tooltip:{text:"Click on a feature to remove."}}}}},L.Draw.Event={},L.Draw.Event.CREATED="draw:created",L.Draw.Event.EDITED="draw:edited",L.Draw.Event.DELETED="draw:deleted",L.Draw.Event.DRAWSTART="draw:drawstart",L.Draw.Event.DRAWSTOP="draw:drawstop",L.Draw.Event.DRAWVERTEX="draw:drawvertex",L.Draw.Event.EDITSTART="draw:editstart",L.Draw.Event.EDITMOVE="draw:editmove",L.Draw.Event.EDITRESIZE="draw:editresize",L.Draw.Event.EDITVERTEX="draw:editvertex",L.Draw.Event.EDITSTOP="draw:editstop",L.Draw.Event.DELETESTART="draw:deletestart",L.Draw.Event.DELETESTOP="draw:deletestop",L.Draw.Event.TOOLBAROPENED="draw:toolbaropened",L.Draw.Event.TOOLBARCLOSED="draw:toolbarclosed",L.Draw.Event.MARKERCONTEXT="draw:markercontext",L.Draw=L.Draw||{},L.Draw.Feature=L.Handler.extend({initialize:function(f,m){this._map=f,this._container=f._container,this._overlayPane=f._panes.overlayPane,this._popupPane=f._panes.popupPane,m&&m.shapeOptions&&(m.shapeOptions=L.Util.extend({},this.options.shapeOptions,m.shapeOptions)),L.setOptions(this,m);var w=L.version.split(".");1===parseInt(w[0],10)&&parseInt(w[1],10)>=2?L.Draw.Feature.include(L.Evented.prototype):L.Draw.Feature.include(L.Mixin.Events)},enable:function(){this._enabled||(L.Handler.prototype.enable.call(this),this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DRAWSTART,{layerType:this.type}))},disable:function(){this._enabled&&(L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DRAWSTOP,{layerType:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var f=this._map;f&&(L.DomUtil.disableTextSelection(),f.getContainer().focus(),this._tooltip=new L.Draw.Tooltip(this._map),L.DomEvent.on(this._container,"keyup",this._cancelDrawing,this))},removeHooks:function(){this._map&&(L.DomUtil.enableTextSelection(),this._tooltip.dispose(),this._tooltip=null,L.DomEvent.off(this._container,"keyup",this._cancelDrawing,this))},setOptions:function(f){L.setOptions(this,f)},_fireCreatedEvent:function(f){this._map.fire(L.Draw.Event.CREATED,{layer:f,layerType:this.type})},_cancelDrawing:function(f){27===f.keyCode&&(this._map.fire("draw:canceled",{layerType:this.type}),this.disable())}}),L.Draw.Polyline=L.Draw.Feature.extend({statics:{TYPE:"polyline"},Poly:L.Polyline,options:{allowIntersection:!0,repeatMode:!1,drawError:{color:"#b00b00",timeout:2500},icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),guidelineDistance:20,maxGuideLineLength:4e3,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!1,clickable:!0},metric:!0,feet:!0,nautic:!1,showLength:!0,zIndexOffset:2e3,factor:1,maxPoints:0},initialize:function(f,m){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this.options.drawError.message=L.drawLocal.draw.handlers.polyline.error,m&&m.drawError&&(m.drawError=L.Util.extend({},this.options.drawError,m.drawError)),this.type=L.Draw.Polyline.TYPE,L.Draw.Feature.prototype.initialize.call(this,f,m)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._markers=[],this._markerGroup=new L.LayerGroup,this._map.addLayer(this._markerGroup),this._poly=new L.Polyline([],this.options.shapeOptions),this._tooltip.updateContent(this._getTooltipText()),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("mouseout",this._onMouseOut,this).on("mousemove",this._onMouseMove,this).on("mousedown",this._onMouseDown,this).on("mouseup",this._onMouseUp,this).addTo(this._map),this._map.on("mouseup",this._onMouseUp,this).on("mousemove",this._onMouseMove,this).on("zoomlevelschange",this._onZoomEnd,this).on("touchstart",this._onTouch,this).on("zoomend",this._onZoomEnd,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._clearHideErrorTimeout(),this._cleanUpShape(),this._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers,this._map.removeLayer(this._poly),delete this._poly,this._mouseMarker.off("mousedown",this._onMouseDown,this).off("mouseout",this._onMouseOut,this).off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._clearGuides(),this._map.off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this).off("zoomlevelschange",this._onZoomEnd,this).off("zoomend",this._onZoomEnd,this).off("touchstart",this._onTouch,this).off("click",this._onTouch,this)},deleteLastVertex:function(){if(!(this._markers.length<=1)){var f=this._markers.pop(),m=this._poly,w=m.getLatLngs(),M=w.splice(-1,1)[0];this._poly.setLatLngs(w),this._markerGroup.removeLayer(f),m.getLatLngs().length<2&&this._map.removeLayer(m),this._vertexChanged(M,!1)}},addVertex:function(f){this._markers.length>=2&&!this.options.allowIntersection&&this._poly.newLatLngIntersects(f)?this._showErrorTooltip():(this._errorShown&&this._hideErrorTooltip(),this._markers.push(this._createMarker(f)),this._poly.addLatLng(f),2===this._poly.getLatLngs().length&&this._map.addLayer(this._poly),this._vertexChanged(f,!0))},completeShape:function(){this._markers.length<=1||!this._shapeIsValid()||(this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable())},_finishShape:function(){var f=this._poly._defaultShape?this._poly._defaultShape():this._poly.getLatLngs(),m=this._poly.newLatLngIntersects(f[f.length-1]);!this.options.allowIntersection&&m||!this._shapeIsValid()?this._showErrorTooltip():(this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable())},_shapeIsValid:function(){return!0},_onZoomEnd:function(){null!==this._markers&&this._updateGuide()},_onMouseMove:function(f){var m=this._map.mouseEventToLayerPoint(f.originalEvent),w=this._map.layerPointToLatLng(m);this._currentLatLng=w,this._updateTooltip(w),this._updateGuide(m),this._mouseMarker.setLatLng(w),L.DomEvent.preventDefault(f.originalEvent)},_vertexChanged:function(f,m){this._map.fire(L.Draw.Event.DRAWVERTEX,{layers:this._markerGroup}),this._updateFinishHandler(),this._updateRunningMeasure(f,m),this._clearGuides(),this._updateTooltip()},_onMouseDown:function(f){if(!this._clickHandled&&!this._touchHandled&&!this._disableMarkers){this._onMouseMove(f),this._clickHandled=!0,this._disableNewMarkers();var m=f.originalEvent;this._startPoint.call(this,m.clientX,m.clientY)}},_startPoint:function(f,m){this._mouseDownOrigin=L.point(f,m)},_onMouseUp:function(f){var m=f.originalEvent;this._endPoint.call(this,m.clientX,m.clientY,f),this._clickHandled=null},_endPoint:function(f,m,w){if(this._mouseDownOrigin){var M=L.point(f,m).distanceTo(this._mouseDownOrigin),O=this._calculateFinishDistance(w.latlng);this.options.maxPoints>1&&this.options.maxPoints==this._markers.length+1?(this.addVertex(w.latlng),this._finishShape()):O<10&&L.Browser.touch?this._finishShape():Math.abs(M)<9*(B.devicePixelRatio||1)&&this.addVertex(w.latlng),this._enableNewMarkers()}this._mouseDownOrigin=null},_onTouch:function(f){var m,w,M=f.originalEvent;!M.touches||!M.touches[0]||this._clickHandled||this._touchHandled||this._disableMarkers||(m=M.touches[0].clientX,w=M.touches[0].clientY,this._disableNewMarkers(),this._touchHandled=!0,this._startPoint.call(this,m,w),this._endPoint.call(this,m,w,f),this._touchHandled=null),this._clickHandled=null},_onMouseOut:function(){this._tooltip&&this._tooltip._onMouseOut.call(this._tooltip)},_calculateFinishDistance:function(f){var m;if(this._markers.length>0){var w;if(this.type===L.Draw.Polyline.TYPE)w=this._markers[this._markers.length-1];else{if(this.type!==L.Draw.Polygon.TYPE)return 1/0;w=this._markers[0]}var M=this._map.latLngToContainerPoint(w.getLatLng()),O=new L.Marker(f,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset}),z=this._map.latLngToContainerPoint(O.getLatLng());m=M.distanceTo(z)}else m=1/0;return m},_updateFinishHandler:function(){var f=this._markers.length;f>1&&this._markers[f-1].on("click",this._finishShape,this),f>2&&this._markers[f-2].off("click",this._finishShape,this)},_createMarker:function(f){var m=new L.Marker(f,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset});return this._markerGroup.addLayer(m),m},_updateGuide:function(f){var m=this._markers?this._markers.length:0;m>0&&(f=f||this._map.latLngToLayerPoint(this._currentLatLng),this._clearGuides(),this._drawGuide(this._map.latLngToLayerPoint(this._markers[m-1].getLatLng()),f))},_updateTooltip:function(f){var m=this._getTooltipText();f&&this._tooltip.updatePosition(f),this._errorShown||this._tooltip.updateContent(m)},_drawGuide:function(f,m){var w,M,O,z=Math.floor(Math.sqrt(Math.pow(m.x-f.x,2)+Math.pow(m.y-f.y,2))),Z=this.options.maxGuideLineLength,ve=z>Z?z-Z:this.options.guidelineDistance;for(this._guidesContainer||(this._guidesContainer=L.DomUtil.create("div","leaflet-draw-guides",this._overlayPane));ve<z;ve+=this.options.guidelineDistance)w=ve/z,M={x:Math.floor(f.x*(1-w)+w*m.x),y:Math.floor(f.y*(1-w)+w*m.y)},(O=L.DomUtil.create("div","leaflet-draw-guide-dash",this._guidesContainer)).style.backgroundColor=this._errorShown?this.options.drawError.color:this.options.shapeOptions.color,L.DomUtil.setPosition(O,M)},_updateGuideColor:function(f){if(this._guidesContainer)for(var m=0,w=this._guidesContainer.childNodes.length;m<w;m++)this._guidesContainer.childNodes[m].style.backgroundColor=f},_clearGuides:function(){if(this._guidesContainer)for(;this._guidesContainer.firstChild;)this._guidesContainer.removeChild(this._guidesContainer.firstChild)},_getTooltipText:function(){var f,m;return 0===this._markers.length?f={text:L.drawLocal.draw.handlers.polyline.tooltip.start}:(m=this.options.showLength?this._getMeasurementString():"",f=1===this._markers.length?{text:L.drawLocal.draw.handlers.polyline.tooltip.cont,subtext:m}:{text:L.drawLocal.draw.handlers.polyline.tooltip.end,subtext:m}),f},_updateRunningMeasure:function(f,m){var w,M,O=this._markers.length;1===this._markers.length?this._measurementRunningTotal=0:(w=O-(m?2:1),M=L.GeometryUtil.isVersion07x()?f.distanceTo(this._markers[w].getLatLng())*(this.options.factor||1):this._map.distance(f,this._markers[w].getLatLng())*(this.options.factor||1),this._measurementRunningTotal+=M*(m?1:-1))},_getMeasurementString:function(){var f,m=this._currentLatLng,w=this._markers[this._markers.length-1].getLatLng();return f=L.GeometryUtil.isVersion07x()?w&&m&&m.distanceTo?this._measurementRunningTotal+m.distanceTo(w)*(this.options.factor||1):this._measurementRunningTotal||0:w&&m?this._measurementRunningTotal+this._map.distance(m,w)*(this.options.factor||1):this._measurementRunningTotal||0,L.GeometryUtil.readableDistance(f,this.options.metric,this.options.feet,this.options.nautic,this.options.precision)},_showErrorTooltip:function(){this._errorShown=!0,this._tooltip.showAsError().updateContent({text:this.options.drawError.message}),this._updateGuideColor(this.options.drawError.color),this._poly.setStyle({color:this.options.drawError.color}),this._clearHideErrorTimeout(),this._hideErrorTimeout=setTimeout(L.Util.bind(this._hideErrorTooltip,this),this.options.drawError.timeout)},_hideErrorTooltip:function(){this._errorShown=!1,this._clearHideErrorTimeout(),this._tooltip.removeError().updateContent(this._getTooltipText()),this._updateGuideColor(this.options.shapeOptions.color),this._poly.setStyle({color:this.options.shapeOptions.color})},_clearHideErrorTimeout:function(){this._hideErrorTimeout&&(clearTimeout(this._hideErrorTimeout),this._hideErrorTimeout=null)},_disableNewMarkers:function(){this._disableMarkers=!0},_enableNewMarkers:function(){setTimeout(function(){this._disableMarkers=!1}.bind(this),50)},_cleanUpShape:function(){this._markers.length>1&&this._markers[this._markers.length-1].off("click",this._finishShape,this)},_fireCreatedEvent:function(){var f=new this.Poly(this._poly.getLatLngs(),this.options.shapeOptions);L.Draw.Feature.prototype._fireCreatedEvent.call(this,f)}}),L.Draw.Polygon=L.Draw.Polyline.extend({statics:{TYPE:"polygon"},Poly:L.Polygon,options:{showArea:!1,showLength:!1,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},metric:!0,feet:!0,nautic:!1,precision:{}},initialize:function(f,m){L.Draw.Polyline.prototype.initialize.call(this,f,m),this.type=L.Draw.Polygon.TYPE},_updateFinishHandler:function(){var f=this._markers.length;1===f&&this._markers[0].on("click",this._finishShape,this),f>2&&(this._markers[f-1].on("dblclick",this._finishShape,this),f>3&&this._markers[f-2].off("dblclick",this._finishShape,this))},_getTooltipText:function(){var f,m;return 0===this._markers.length?f=L.drawLocal.draw.handlers.polygon.tooltip.start:this._markers.length<3?(f=L.drawLocal.draw.handlers.polygon.tooltip.cont,m=this._getMeasurementString()):(f=L.drawLocal.draw.handlers.polygon.tooltip.end,m=this._getMeasurementString()),{text:f,subtext:m}},_getMeasurementString:function(){var f=this._area,m="";return f||this.options.showLength?(this.options.showLength&&(m=L.Draw.Polyline.prototype._getMeasurementString.call(this)),f&&(m+="<br>"+L.GeometryUtil.readableArea(f,this.options.metric,this.options.precision)),m):null},_shapeIsValid:function(){return this._markers.length>=3},_vertexChanged:function(f,m){var w;!this.options.allowIntersection&&this.options.showArea&&(w=this._poly.getLatLngs(),this._area=L.GeometryUtil.geodesicArea(w)),L.Draw.Polyline.prototype._vertexChanged.call(this,f,m)},_cleanUpShape:function(){var f=this._markers.length;f>0&&(this._markers[0].off("click",this._finishShape,this),f>2&&this._markers[f-1].off("dblclick",this._finishShape,this))}}),L.SimpleShape={},L.Draw.SimpleShape=L.Draw.Feature.extend({options:{repeatMode:!1},initialize:function(f,m){this._endLabelText=L.drawLocal.draw.handlers.simpleshape.tooltip.end,L.Draw.Feature.prototype.initialize.call(this,f,m)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._mapDraggable=this._map.dragging.enabled(),this._mapDraggable&&this._map.dragging.disable(),this._container.style.cursor="crosshair",this._tooltip.updateContent({text:this._initialLabelText}),this._map.on("mousedown",this._onMouseDown,this).on("mousemove",this._onMouseMove,this).on("touchstart",this._onMouseDown,this).on("touchmove",this._onMouseMove,this),q.addEventListener("touchstart",L.DomEvent.preventDefault,{passive:!1}))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._mapDraggable&&this._map.dragging.enable(),this._container.style.cursor="",this._map.off("mousedown",this._onMouseDown,this).off("mousemove",this._onMouseMove,this).off("touchstart",this._onMouseDown,this).off("touchmove",this._onMouseMove,this),L.DomEvent.off(q,"mouseup",this._onMouseUp,this),L.DomEvent.off(q,"touchend",this._onMouseUp,this),q.removeEventListener("touchstart",L.DomEvent.preventDefault),this._shape&&(this._map.removeLayer(this._shape),delete this._shape)),this._isDrawing=!1},_getTooltipText:function(){return{text:this._endLabelText}},_onMouseDown:function(f){this._isDrawing=!0,this._startLatLng=f.latlng,L.DomEvent.on(q,"mouseup",this._onMouseUp,this).on(q,"touchend",this._onMouseUp,this).preventDefault(f.originalEvent)},_onMouseMove:function(f){var m=f.latlng;this._tooltip.updatePosition(m),this._isDrawing&&(this._tooltip.updateContent(this._getTooltipText()),this._drawShape(m))},_onMouseUp:function(){this._shape&&this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()}}),L.Draw.Rectangle=L.Draw.SimpleShape.extend({statics:{TYPE:"rectangle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showArea:!0,metric:!0},initialize:function(f,m){this.type=L.Draw.Rectangle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.rectangle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,f,m)},disable:function(){this._enabled&&(this._isCurrentlyTwoClickDrawing=!1,L.Draw.SimpleShape.prototype.disable.call(this))},_onMouseUp:function(f){this._shape||this._isCurrentlyTwoClickDrawing?this._isCurrentlyTwoClickDrawing&&!function Q(f,m){for(;(f=f.parentElement)&&!f.classList.contains(m););return f}(f.target,"leaflet-pane")||L.Draw.SimpleShape.prototype._onMouseUp.call(this):this._isCurrentlyTwoClickDrawing=!0},_drawShape:function(f){this._shape?this._shape.setBounds(new L.LatLngBounds(this._startLatLng,f)):(this._shape=new L.Rectangle(new L.LatLngBounds(this._startLatLng,f),this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var f=new L.Rectangle(this._shape.getBounds(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,f)},_getTooltipText:function(){var f,m,w,M=L.Draw.SimpleShape.prototype._getTooltipText.call(this),z=this.options.showArea;return this._shape&&(f=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),m=L.GeometryUtil.geodesicArea(f),w=z?L.GeometryUtil.readableArea(m,this.options.metric):""),{text:M.text,subtext:w}}}),L.Draw.Marker=L.Draw.Feature.extend({statics:{TYPE:"marker"},options:{icon:new L.Icon.Default,repeatMode:!1,zIndexOffset:2e3},initialize:function(f,m){this.type=L.Draw.Marker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.marker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,f,m)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._tooltip.updateContent({text:this._initialLabelText}),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("click",this._onClick,this).addTo(this._map),this._map.on("mousemove",this._onMouseMove,this),this._map.on("click",this._onTouch,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._map.off("click",this._onClick,this).off("click",this._onTouch,this),this._marker&&(this._marker.off("click",this._onClick,this),this._map.removeLayer(this._marker),delete this._marker),this._mouseMarker.off("click",this._onClick,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._map.off("mousemove",this._onMouseMove,this))},_onMouseMove:function(f){var m=f.latlng;this._tooltip.updatePosition(m),this._mouseMarker.setLatLng(m),this._marker?(m=this._mouseMarker.getLatLng(),this._marker.setLatLng(m)):(this._marker=this._createMarker(m),this._marker.on("click",this._onClick,this),this._map.on("click",this._onClick,this).addLayer(this._marker))},_createMarker:function(f){return new L.Marker(f,{icon:this.options.icon,zIndexOffset:this.options.zIndexOffset})},_onClick:function(){this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_onTouch:function(f){this._onMouseMove(f),this._onClick()},_fireCreatedEvent:function(){var f=new L.Marker.Touch(this._marker.getLatLng(),{icon:this.options.icon});L.Draw.Feature.prototype._fireCreatedEvent.call(this,f)}}),L.Draw.CircleMarker=L.Draw.Marker.extend({statics:{TYPE:"circlemarker"},options:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0,zIndexOffset:2e3},initialize:function(f,m){this.type=L.Draw.CircleMarker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circlemarker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,f,m)},_fireCreatedEvent:function(){var f=new L.CircleMarker(this._marker.getLatLng(),this.options);L.Draw.Feature.prototype._fireCreatedEvent.call(this,f)},_createMarker:function(f){return new L.CircleMarker(f,this.options)}}),L.Draw.Circle=L.Draw.SimpleShape.extend({statics:{TYPE:"circle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showRadius:!0,metric:!0,feet:!0,nautic:!1},initialize:function(f,m){this.type=L.Draw.Circle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,f,m)},_drawShape:function(f){if(L.GeometryUtil.isVersion07x())var m=this._startLatLng.distanceTo(f);else m=this._map.distance(this._startLatLng,f);this._shape?this._shape.setRadius(m):(this._shape=new L.Circle(this._startLatLng,m,this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var f=new L.Circle(this._startLatLng,this._shape.getRadius(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,f)},_onMouseMove:function(f){var m,w=f.latlng,M=this.options.showRadius,O=this.options.metric;if(this._tooltip.updatePosition(w),this._isDrawing){this._drawShape(w),m=this._shape.getRadius().toFixed(1);var z="";M&&(z=L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(m,O,this.options.feet,this.options.nautic)),this._tooltip.updateContent({text:this._endLabelText,subtext:z})}}}),L.Edit=L.Edit||{},L.Edit.Marker=L.Handler.extend({initialize:function(f,m){this._marker=f,L.setOptions(this,m)},addHooks:function(){var f=this._marker;f.dragging.enable(),f.on("dragend",this._onDragEnd,f),this._toggleMarkerHighlight()},removeHooks:function(){var f=this._marker;f.dragging.disable(),f.off("dragend",this._onDragEnd,f),this._toggleMarkerHighlight()},_onDragEnd:function(f){var m=f.target;m.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:m})},_toggleMarkerHighlight:function(){var f=this._marker._icon;f&&(f.style.display="none",L.DomUtil.hasClass(f,"leaflet-edit-marker-selected")?(L.DomUtil.removeClass(f,"leaflet-edit-marker-selected"),this._offsetMarker(f,-4)):(L.DomUtil.addClass(f,"leaflet-edit-marker-selected"),this._offsetMarker(f,4)),f.style.display="")},_offsetMarker:function(f,m){var w=parseInt(f.style.marginTop,10)-m,M=parseInt(f.style.marginLeft,10)-m;f.style.marginTop=w+"px",f.style.marginLeft=M+"px"}}),L.Marker.addInitHook(function(){L.Edit.Marker&&(this.editing=new L.Edit.Marker(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.Poly=L.Handler.extend({initialize:function(f){this.latlngs=[f._latlngs],f._holes&&(this.latlngs=this.latlngs.concat(f._holes)),this._poly=f,this._poly.on("revert-edited",this._updateLatLngs,this)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._poly._latlngs)?this._poly._latlngs:this._poly._latlngs[0]:this._poly._latlngs},_eachVertexHandler:function(f){for(var m=0;m<this._verticesHandlers.length;m++)f(this._verticesHandlers[m])},addHooks:function(){this._initHandlers(),this._eachVertexHandler(function(f){f.addHooks()})},removeHooks:function(){this._eachVertexHandler(function(f){f.removeHooks()})},updateMarkers:function(){this._eachVertexHandler(function(f){f.updateMarkers()})},_initHandlers:function(){this._verticesHandlers=[];for(var f=0;f<this.latlngs.length;f++)this._verticesHandlers.push(new L.Edit.PolyVerticesEdit(this._poly,this.latlngs[f],this._poly.options.poly))},_updateLatLngs:function(f){this.latlngs=[f.layer._latlngs],f.layer._holes&&(this.latlngs=this.latlngs.concat(f.layer._holes))}}),L.Edit.PolyVerticesEdit=L.Handler.extend({options:{icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),drawError:{color:"#b00b00",timeout:1e3}},initialize:function(f,m,w){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this._poly=f,w&&w.drawError&&(w.drawError=L.Util.extend({},this.options.drawError,w.drawError)),this._latlngs=m,L.setOptions(this,w)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._latlngs)?this._latlngs:this._latlngs[0]:this._latlngs},addHooks:function(){var f=this._poly,m=f._path;f instanceof L.Polygon||(f.options.fill=!1,f.options.editing&&(f.options.editing.fill=!1)),m&&f.options.editing&&f.options.editing.className&&(f.options.original.className&&f.options.original.className.split(" ").forEach(function(w){L.DomUtil.removeClass(m,w)}),f.options.editing.className.split(" ").forEach(function(w){L.DomUtil.addClass(m,w)})),f.setStyle(f.options.editing),this._poly._map&&(this._map=this._poly._map,this._markerGroup||this._initMarkers(),this._poly._map.addLayer(this._markerGroup))},removeHooks:function(){var f=this._poly,m=f._path;m&&f.options.editing&&f.options.editing.className&&(f.options.editing.className.split(" ").forEach(function(w){L.DomUtil.removeClass(m,w)}),f.options.original.className&&f.options.original.className.split(" ").forEach(function(w){L.DomUtil.addClass(m,w)})),f.setStyle(f.options.original),f._map&&(f._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers)},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._markers=[];var f,m,w,M,z,V,O=this._defaultShape();for(f=0,w=O.length;f<w;f++)(M=this._createMarker(O[f],f)).on("click",this._onMarkerClick,this),M.on("contextmenu",this._onContextMenu,this),this._markers.push(M);for(f=0,m=w-1;f<w;m=f++)(0!==f||L.Polygon&&this._poly instanceof L.Polygon)&&(this._createMiddleMarker(z=this._markers[m],V=this._markers[f]),this._updatePrevNext(z,V))},_createMarker:function(f,m){var w=new L.Marker.Touch(f,{draggable:!0,icon:this.options.icon});return w._origLatLng=f,w._index=m,w.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._fireEdit,this).on("touchmove",this._onTouchMove,this).on("touchend",this._fireEdit,this).on("MSPointerMove",this._onTouchMove,this).on("MSPointerUp",this._fireEdit,this),this._markerGroup.addLayer(w),w},_onMarkerDragStart:function(){this._poly.fire("editstart")},_spliceLatLngs:function(){var f=this._defaultShape(),m=[].splice.apply(f,arguments);return this._poly._convertLatLngs(f,!0),this._poly.redraw(),m},_removeMarker:function(f){var m=f._index;this._markerGroup.removeLayer(f),this._markers.splice(m,1),this._spliceLatLngs(m,1),this._updateIndexes(m,-1),f.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._fireEdit,this).off("touchmove",this._onMarkerDrag,this).off("touchend",this._fireEdit,this).off("click",this._onMarkerClick,this).off("MSPointerMove",this._onTouchMove,this).off("MSPointerUp",this._fireEdit,this)},_fireEdit:function(){this._poly.edited=!0,this._poly.fire("edit"),this._poly._map.fire(L.Draw.Event.EDITVERTEX,{layers:this._markerGroup,poly:this._poly})},_onMarkerDrag:function(f){var m=f.target,w=this._poly,M=L.LatLngUtil.cloneLatLng(m._origLatLng);if(L.extend(m._origLatLng,m._latlng),w.options.poly){var O=w._map._editTooltip;if(!w.options.poly.allowIntersection&&w.intersects()){L.extend(m._origLatLng,M),m.setLatLng(M);var z=w.options.color;w.setStyle({color:this.options.drawError.color}),O&&O.updateContent({text:L.drawLocal.draw.handlers.polyline.error}),setTimeout(function(){w.setStyle({color:z}),O&&O.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext})},1e3)}}m._middleLeft&&m._middleLeft.setLatLng(this._getMiddleLatLng(m._prev,m)),m._middleRight&&m._middleRight.setLatLng(this._getMiddleLatLng(m,m._next)),this._poly._bounds._southWest=L.latLng(1/0,1/0),this._poly._bounds._northEast=L.latLng(-1/0,-1/0);var V=this._poly.getLatLngs();this._poly._convertLatLngs(V,!0),this._poly.redraw(),this._poly.fire("editdrag")},_onMarkerClick:function(f){var m=L.Polygon&&this._poly instanceof L.Polygon?4:3,w=f.target;this._defaultShape().length<m||(this._removeMarker(w),this._updatePrevNext(w._prev,w._next),w._middleLeft&&this._markerGroup.removeLayer(w._middleLeft),w._middleRight&&this._markerGroup.removeLayer(w._middleRight),w._prev&&w._next?this._createMiddleMarker(w._prev,w._next):w._prev?w._next||(w._prev._middleRight=null):w._next._middleLeft=null,this._fireEdit())},_onContextMenu:function(f){this._poly._map.fire(L.Draw.Event.MARKERCONTEXT,{marker:f.target,layers:this._markerGroup,poly:this._poly}),L},_onTouchMove:function(f){var m=this._map.mouseEventToLayerPoint(f.originalEvent.touches[0]),w=this._map.layerPointToLatLng(m),M=f.target;L.extend(M._origLatLng,w),M._middleLeft&&M._middleLeft.setLatLng(this._getMiddleLatLng(M._prev,M)),M._middleRight&&M._middleRight.setLatLng(this._getMiddleLatLng(M,M._next)),this._poly.redraw(),this.updateMarkers()},_updateIndexes:function(f,m){this._markerGroup.eachLayer(function(w){w._index>f&&(w._index+=m)})},_createMiddleMarker:function(f,m){var w,M,O,z=this._getMiddleLatLng(f,m),V=this._createMarker(z);V.setOpacity(.6),f._middleRight=m._middleLeft=V,M=function(){V.off("touchmove",M,this);var Z=m._index;V._index=Z,V.off("click",w,this).on("click",this._onMarkerClick,this),z.lat=V.getLatLng().lat,z.lng=V.getLatLng().lng,this._spliceLatLngs(Z,0,z),this._markers.splice(Z,0,V),V.setOpacity(1),this._updateIndexes(Z,1),m._index++,this._updatePrevNext(f,V),this._updatePrevNext(V,m),this._poly.fire("editstart")},O=function(){V.off("dragstart",M,this),V.off("dragend",O,this),V.off("touchmove",M,this),this._createMiddleMarker(f,V),this._createMiddleMarker(V,m)},V.on("click",w=function(){M.call(this),O.call(this),this._fireEdit()},this).on("dragstart",M,this).on("dragend",O,this).on("touchmove",M,this),this._markerGroup.addLayer(V)},_updatePrevNext:function(f,m){f&&(f._next=m),m&&(m._prev=f)},_getMiddleLatLng:function(f,m){var w=this._poly._map,M=w.project(f.getLatLng()),O=w.project(m.getLatLng());return w.unproject(M._add(O)._divideBy(2))}}),L.Polyline.addInitHook(function(){this.editing||(L.Edit.Poly&&(this.editing=new L.Edit.Poly(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()}))}),L.Edit=L.Edit||{},L.Edit.SimpleShape=L.Handler.extend({options:{moveIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move"}),resizeIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize"}),touchMoveIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move leaflet-touch-icon"}),touchResizeIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize leaflet-touch-icon"})},initialize:function(f,m){L.Browser.touch&&(this.options.moveIcon=this.options.touchMoveIcon,this.options.resizeIcon=this.options.touchResizeIcon),this._shape=f,L.Util.setOptions(this,m)},addHooks:function(){var f=this._shape;this._shape._map&&(this._map=this._shape._map,f.setStyle(f.options.editing),f._map&&(this._map=f._map,this._markerGroup||this._initMarkers(),this._map.addLayer(this._markerGroup)))},removeHooks:function(){var f=this._shape;if(f.setStyle(f.options.original),f._map){this._unbindMarker(this._moveMarker);for(var m=0,w=this._resizeMarkers.length;m<w;m++)this._unbindMarker(this._resizeMarkers[m]);this._resizeMarkers=null,this._map.removeLayer(this._markerGroup),delete this._markerGroup}this._map=null},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._createMoveMarker(),this._createResizeMarker()},_createMoveMarker:function(){},_createResizeMarker:function(){},_createMarker:function(f,m){var w=new L.Marker.Touch(f,{draggable:!0,icon:m,zIndexOffset:10});return this._bindMarker(w),this._markerGroup.addLayer(w),w},_bindMarker:function(f){f.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._onMarkerDragEnd,this).on("touchstart",this._onTouchStart,this).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onTouchEnd,this).on("MSPointerUp",this._onTouchEnd,this)},_unbindMarker:function(f){f.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._onMarkerDragEnd,this).off("touchstart",this._onTouchStart,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onTouchEnd,this).off("MSPointerUp",this._onTouchEnd,this)},_onMarkerDragStart:function(f){f.target.setOpacity(0),this._shape.fire("editstart")},_fireEdit:function(){this._shape.edited=!0,this._shape.fire("edit")},_onMarkerDrag:function(f){var m=f.target,w=m.getLatLng();m===this._moveMarker?this._move(w):this._resize(w),this._shape.redraw(),this._shape.fire("editdrag")},_onMarkerDragEnd:function(f){f.target.setOpacity(1),this._fireEdit()},_onTouchStart:function(f){if(L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,f),"function"==typeof this._getCorners){var m=this._getCorners(),w=f.target,M=w._cornerIndex;w.setOpacity(0),this._oppositeCorner=m[(M+2)%4],this._toggleCornerMarkers(0,M)}this._shape.fire("editstart")},_onTouchMove:function(f){var m=this._map.mouseEventToLayerPoint(f.originalEvent.touches[0]),w=this._map.layerPointToLatLng(m);return f.target===this._moveMarker?this._move(w):this._resize(w),this._shape.redraw(),!1},_onTouchEnd:function(f){f.target.setOpacity(1),this.updateMarkers(),this._fireEdit()},_move:function(){},_resize:function(){}}),L.Edit=L.Edit||{},L.Edit.Rectangle=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var m=this._shape.getBounds().getCenter();this._moveMarker=this._createMarker(m,this.options.moveIcon)},_createResizeMarker:function(){var f=this._getCorners();this._resizeMarkers=[];for(var m=0,w=f.length;m<w;m++)this._resizeMarkers.push(this._createMarker(f[m],this.options.resizeIcon)),this._resizeMarkers[m]._cornerIndex=m},_onMarkerDragStart:function(f){L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,f);var m=this._getCorners(),M=f.target._cornerIndex;this._oppositeCorner=m[(M+2)%4],this._toggleCornerMarkers(0,M)},_onMarkerDragEnd:function(f){var w,M=f.target;M===this._moveMarker&&(w=this._shape.getBounds().getCenter(),M.setLatLng(w)),this._toggleCornerMarkers(1),this._repositionCornerMarkers(),L.Edit.SimpleShape.prototype._onMarkerDragEnd.call(this,f)},_move:function(f){for(var m,w=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),O=this._shape.getBounds().getCenter(),z=[],V=0,Z=w.length;V<Z;V++)z.push([f.lat+(m=[w[V].lat-O.lat,w[V].lng-O.lng])[0],f.lng+m[1]]);this._shape.setLatLngs(z),this._repositionCornerMarkers(),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})},_resize:function(f){var m;this._shape.setBounds(L.latLngBounds(f,this._oppositeCorner)),m=this._shape.getBounds(),this._moveMarker.setLatLng(m.getCenter()),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})},_getCorners:function(){var f=this._shape.getBounds();return[f.getNorthWest(),f.getNorthEast(),f.getSouthEast(),f.getSouthWest()]},_toggleCornerMarkers:function(f){for(var m=0,w=this._resizeMarkers.length;m<w;m++)this._resizeMarkers[m].setOpacity(f)},_repositionCornerMarkers:function(){for(var f=this._getCorners(),m=0,w=this._resizeMarkers.length;m<w;m++)this._resizeMarkers[m].setLatLng(f[m])}}),L.Rectangle.addInitHook(function(){L.Edit.Rectangle&&(this.editing=new L.Edit.Rectangle(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.CircleMarker=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var f=this._shape.getLatLng();this._moveMarker=this._createMarker(f,this.options.moveIcon)},_createResizeMarker:function(){this._resizeMarkers=[]},_move:function(f){if(this._resizeMarkers.length){var m=this._getResizeMarkerPoint(f);this._resizeMarkers[0].setLatLng(m)}this._shape.setLatLng(f),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})}}),L.CircleMarker.addInitHook(function(){L.Edit.CircleMarker&&(this.editing=new L.Edit.CircleMarker(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()})}),L.Edit=L.Edit||{},L.Edit.Circle=L.Edit.CircleMarker.extend({_createResizeMarker:function(){var f=this._shape.getLatLng(),m=this._getResizeMarkerPoint(f);this._resizeMarkers=[],this._resizeMarkers.push(this._createMarker(m,this.options.resizeIcon))},_getResizeMarkerPoint:function(f){var m=this._shape._radius*Math.cos(Math.PI/4),w=this._map.project(f);return this._map.unproject([w.x+m,w.y-m])},_resize:function(f){var m=this._moveMarker.getLatLng();L.GeometryUtil.isVersion07x()?radius=m.distanceTo(f):radius=this._map.distance(m,f),this._shape.setRadius(radius),this._map.editTooltip&&this._map._editTooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.subtext+"<br />"+L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(radius,!0,this.options.feet,this.options.nautic)}),this._shape.setRadius(radius),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})}}),L.Circle.addInitHook(function(){L.Edit.Circle&&(this.editing=new L.Edit.Circle(this),this.options.editable&&this.editing.enable())}),L.Map.mergeOptions({touchExtend:!0}),L.Map.TouchExtend=L.Handler.extend({initialize:function(f){this._map=f,this._container=f._container,this._pane=f._panes.overlayPane},addHooks:function(){L.DomEvent.on(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.on(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.on(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.on(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.on(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.on(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.on(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.on(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.on(this._container,"touchleave",this._onTouchLeave,this))},removeHooks:function(){L.DomEvent.off(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.off(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.off(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.off(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.off(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.off(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.off(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.off(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.off(this._container,"touchleave",this._onTouchLeave,this))},_touchEvent:function(f,m){var w={};if(void 0!==f.touches){if(!f.touches.length)return;w=f.touches[0]}else if("touch"!==f.pointerType||(w=f,!this._filterClick(f)))return;var M=this._map.mouseEventToContainerPoint(w),O=this._map.mouseEventToLayerPoint(w),z=this._map.layerPointToLatLng(O);this._map.fire(m,{latlng:z,layerPoint:O,containerPoint:M,pageX:w.pageX,pageY:w.pageY,originalEvent:f})},_filterClick:function(f){var m=f.timeStamp||f.originalEvent.timeStamp,w=L.DomEvent._lastClick&&m-L.DomEvent._lastClick;return w&&w>100&&w<500||f.target._simulatedClick&&!f._simulated?(L.DomEvent.stop(f),!1):(L.DomEvent._lastClick=m,!0)},_onTouchStart:function(f){this._map._loaded&&this._touchEvent(f,"touchstart")},_onTouchEnd:function(f){this._map._loaded&&this._touchEvent(f,"touchend")},_onTouchCancel:function(f){if(this._map._loaded){var m="touchcancel";this._detectIE()&&(m="pointercancel"),this._touchEvent(f,m)}},_onTouchLeave:function(f){this._map._loaded&&this._touchEvent(f,"touchleave")},_onTouchMove:function(f){this._map._loaded&&this._touchEvent(f,"touchmove")},_detectIE:function(){var f=B.navigator.userAgent,m=f.indexOf("MSIE ");if(m>0)return parseInt(f.substring(m+5,f.indexOf(".",m)),10);if(f.indexOf("Trident/")>0){var w=f.indexOf("rv:");return parseInt(f.substring(w+3,f.indexOf(".",w)),10)}var M=f.indexOf("Edge/");return M>0&&parseInt(f.substring(M+5,f.indexOf(".",M)),10)}}),L.Map.addInitHook("addHandler","touchExtend",L.Map.TouchExtend),L.Marker.Touch=L.Marker.extend({_initInteraction:function(){return this.addInteractiveTarget?L.Marker.prototype._initInteraction.apply(this):this._initInteractionLegacy()},_initInteractionLegacy:function(){if(this.options.clickable){var f=this._icon,m=["dblclick","mousedown","mouseover","mouseout","contextmenu","touchstart","touchend","touchmove"];m.concat(this._detectIE?["MSPointerDown","MSPointerUp","MSPointerMove","MSPointerCancel"]:["touchcancel"]),L.DomUtil.addClass(f,"leaflet-clickable"),L.DomEvent.on(f,"click",this._onMouseClick,this),L.DomEvent.on(f,"keypress",this._onKeyPress,this);for(var w=0;w<m.length;w++)L.DomEvent.on(f,m[w],this._fireMouseEvent,this);L.Handler.MarkerDrag&&(this.dragging=new L.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_detectIE:function(){var f=B.navigator.userAgent,m=f.indexOf("MSIE ");if(m>0)return parseInt(f.substring(m+5,f.indexOf(".",m)),10);if(f.indexOf("Trident/")>0){var w=f.indexOf("rv:");return parseInt(f.substring(w+3,f.indexOf(".",w)),10)}var M=f.indexOf("Edge/");return M>0&&parseInt(f.substring(M+5,f.indexOf(".",M)),10)}}),L.LatLngUtil={cloneLatLngs:function(f){for(var m=[],w=0,M=f.length;w<M;w++)Array.isArray(f[w])?m.push(L.LatLngUtil.cloneLatLngs(f[w])):m.push(this.cloneLatLng(f[w]));return m},cloneLatLng:function(f){return L.latLng(f.lat,f.lng)}},f={km:2,ha:2,m:0,mi:2,ac:2,yd:0,ft:0,nm:2},L.GeometryUtil=L.extend(L.GeometryUtil||{},{geodesicArea:function(m){var w,M,O=m.length,z=0,V=Math.PI/180;if(O>2){for(var Z=0;Z<O;Z++)z+=((M=m[(Z+1)%O]).lng-(w=m[Z]).lng)*V*(2+Math.sin(w.lat*V)+Math.sin(M.lat*V));z=6378137*z*6378137/2}return Math.abs(z)},formattedNumber:function(m,w){var M=parseFloat(m).toFixed(w),O=L.drawLocal.format&&L.drawLocal.format.numeric,z=O&&O.delimiters,V=z&&z.thousands,Z=z&&z.decimal;if(V||Z){var ve=M.split(".");M=V?ve[0].replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+V):ve[0],Z=Z||".",ve.length>1&&(M=M+Z+ve[1])}return M},readableArea:function(m,w,V){var O,z;return V=L.Util.extend({},f,V),w?(z=["ha","m"],type=typeof w,"string"===type?z=[w]:"boolean"!==type&&(z=w),O=m>=1e6&&-1!==z.indexOf("km")?L.GeometryUtil.formattedNumber(1e-6*m,V.km)+" km\xb2":m>=1e4&&-1!==z.indexOf("ha")?L.GeometryUtil.formattedNumber(1e-4*m,V.ha)+" ha":L.GeometryUtil.formattedNumber(m,V.m)+" m\xb2"):O=(m/=.836127)>=3097600?L.GeometryUtil.formattedNumber(m/3097600,V.mi)+" mi\xb2":m>=4840?L.GeometryUtil.formattedNumber(m/4840,V.ac)+" acres":L.GeometryUtil.formattedNumber(m,V.yd)+" yd\xb2",O},readableDistance:function(m,w,M,O,Z){var V;switch(Z=L.Util.extend({},f,Z),w?"string"==typeof w?w:"metric":M?"feet":O?"nauticalMile":"yards"){case"metric":V=m>1e3?L.GeometryUtil.formattedNumber(m/1e3,Z.km)+" km":L.GeometryUtil.formattedNumber(m,Z.m)+" m";break;case"feet":m*=3.28083,V=L.GeometryUtil.formattedNumber(m,Z.ft)+" ft";break;case"nauticalMile":m*=.53996,V=L.GeometryUtil.formattedNumber(m/1e3,Z.nm)+" nm";break;default:V=(m*=1.09361)>1760?L.GeometryUtil.formattedNumber(m/1760,Z.mi)+" miles":L.GeometryUtil.formattedNumber(m,Z.yd)+" yd"}return V},isVersion07x:function(){var m=L.version.split(".");return 0===parseInt(m[0],10)&&7===parseInt(m[1],10)}}),L.Util.extend(L.LineUtil,{segmentsIntersect:function(f,m,w,M){return this._checkCounterclockwise(f,w,M)!==this._checkCounterclockwise(m,w,M)&&this._checkCounterclockwise(f,m,w)!==this._checkCounterclockwise(f,m,M)},_checkCounterclockwise:function(f,m,w){return(w.y-f.y)*(m.x-f.x)>(m.y-f.y)*(w.x-f.x)}}),L.Polyline.include({intersects:function(){var f,M=this._getProjectedPoints(),O=M?M.length:0;if(this._tooFewPointsForIntersection())return!1;for(f=O-1;f>=3;f--)if(this._lineSegmentsIntersectsRange(M[f-1],M[f],f-2))return!0;return!1},newLatLngIntersects:function(f,m){return!!this._map&&this.newPointIntersects(this._map.latLngToLayerPoint(f),m)},newPointIntersects:function(f,m){var w=this._getProjectedPoints(),M=w?w.length:0,O=w?w[M-1]:null,z=M-2;return!this._tooFewPointsForIntersection(1)&&this._lineSegmentsIntersectsRange(O,f,z,m?1:0)},_tooFewPointsForIntersection:function(f){var m=this._getProjectedPoints(),w=m?m.length:0;return!m||(w+=f||0)<=3},_lineSegmentsIntersectsRange:function(f,m,w,M){var V=this._getProjectedPoints();M=M||0;for(var Z=w;Z>M;Z--)if(L.LineUtil.segmentsIntersect(f,m,V[Z-1],V[Z]))return!0;return!1},_getProjectedPoints:function(){if(!this._defaultShape)return this._originalPoints;for(var f=[],m=this._defaultShape(),w=0;w<m.length;w++)f.push(this._map.latLngToLayerPoint(m[w]));return f}}),L.Polygon.include({intersects:function(){var f,O=this._getProjectedPoints();return!this._tooFewPointsForIntersection()&&(!!L.Polyline.prototype.intersects.call(this)||this._lineSegmentsIntersectsRange(O[(f=O.length)-1],O[0],f-2,1))}}),L.Control.Draw=L.Control.extend({options:{position:"topleft",draw:{},edit:!1},initialize:function(f){if(L.version<"0.7")throw new Error("Leaflet.draw 0.2.3+ requires Leaflet 0.7.0+. Download latest from https://github.com/Leaflet/Leaflet/");var m;L.Control.prototype.initialize.call(this,f),this._toolbars={},L.DrawToolbar&&this.options.draw&&(m=new L.DrawToolbar(this.options.draw),this._toolbars[L.DrawToolbar.TYPE]=m,this._toolbars[L.DrawToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.EditToolbar&&this.options.edit&&(m=new L.EditToolbar(this.options.edit),this._toolbars[L.EditToolbar.TYPE]=m,this._toolbars[L.EditToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.toolbar=this},onAdd:function(f){var m,w=L.DomUtil.create("div","leaflet-draw"),M=!1;for(var O in this._toolbars)this._toolbars.hasOwnProperty(O)&&(m=this._toolbars[O].addToolbar(f))&&(M||(L.DomUtil.hasClass(m,"leaflet-draw-toolbar-top")||L.DomUtil.addClass(m.childNodes[0],"leaflet-draw-toolbar-top"),M=!0),w.appendChild(m));return w},onRemove:function(){for(var f in this._toolbars)this._toolbars.hasOwnProperty(f)&&this._toolbars[f].removeToolbar()},setDrawingOptions:function(f){for(var m in this._toolbars)this._toolbars[m]instanceof L.DrawToolbar&&this._toolbars[m].setOptions(f)},_toolbarEnabled:function(f){var m=f.target;for(var w in this._toolbars)this._toolbars[w]!==m&&this._toolbars[w].disable()}}),L.Map.mergeOptions({drawControlTooltips:!0,drawControl:!1}),L.Map.addInitHook(function(){this.options.drawControl&&(this.drawControl=new L.Control.Draw,this.addControl(this.drawControl))}),L.Toolbar=L.Class.extend({initialize:function(f){L.setOptions(this,f),this._modes={},this._actionButtons=[],this._activeMode=null;var m=L.version.split(".");1===parseInt(m[0],10)&&parseInt(m[1],10)>=2?L.Toolbar.include(L.Evented.prototype):L.Toolbar.include(L.Mixin.Events)},enabled:function(){return null!==this._activeMode},disable:function(){this.enabled()&&this._activeMode.handler.disable()},addToolbar:function(f){var m,w=L.DomUtil.create("div","leaflet-draw-section"),M=0,O=this._toolbarClass||"",z=this.getModeHandlers(f);for(this._toolbarContainer=L.DomUtil.create("div","leaflet-draw-toolbar leaflet-bar"),this._map=f,m=0;m<z.length;m++)z[m].enabled&&this._initModeHandler(z[m].handler,this._toolbarContainer,M++,O,z[m].title);if(M)return this._lastButtonIndex=--M,this._actionsContainer=L.DomUtil.create("ul","leaflet-draw-actions"),w.appendChild(this._toolbarContainer),w.appendChild(this._actionsContainer),w},removeToolbar:function(){for(var f in this._modes)this._modes.hasOwnProperty(f)&&(this._disposeButton(this._modes[f].button,this._modes[f].handler.enable,this._modes[f].handler),this._modes[f].handler.disable(),this._modes[f].handler.off("enabled",this._handlerActivated,this).off("disabled",this._handlerDeactivated,this));this._modes={};for(var m=0,w=this._actionButtons.length;m<w;m++)this._disposeButton(this._actionButtons[m].button,this._actionButtons[m].callback,this);this._actionButtons=[],this._actionsContainer=null},_initModeHandler:function(f,m,w,M,O){var z=f.type;this._modes[z]={},this._modes[z].handler=f,this._modes[z].button=this._createButton({type:z,title:O,className:M+"-"+z,container:m,callback:this._modes[z].handler.enable,context:this._modes[z].handler}),this._modes[z].buttonIndex=w,this._modes[z].handler.on("enabled",this._handlerActivated,this).on("disabled",this._handlerDeactivated,this)},_detectIOS:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!B.MSStream},_createButton:function(f){var m=L.DomUtil.create("a",f.className||"",f.container),w=L.DomUtil.create("span","sr-only",f.container);m.href="#",m.appendChild(w),f.title&&(m.title=f.title,w.innerHTML=f.title),f.text&&(m.innerHTML=f.text,w.innerHTML=f.text);var M=this._detectIOS()?"touchstart":"click";return L.DomEvent.on(m,"click",L.DomEvent.stopPropagation).on(m,"mousedown",L.DomEvent.stopPropagation).on(m,"dblclick",L.DomEvent.stopPropagation).on(m,"touchstart",L.DomEvent.stopPropagation).on(m,"click",L.DomEvent.preventDefault).on(m,M,f.callback,f.context),m},_disposeButton:function(f,m){var w=this._detectIOS()?"touchstart":"click";L.DomEvent.off(f,"click",L.DomEvent.stopPropagation).off(f,"mousedown",L.DomEvent.stopPropagation).off(f,"dblclick",L.DomEvent.stopPropagation).off(f,"touchstart",L.DomEvent.stopPropagation).off(f,"click",L.DomEvent.preventDefault).off(f,w,m)},_handlerActivated:function(f){this.disable(),this._activeMode=this._modes[f.handler],L.DomUtil.addClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._showActionsToolbar(),this.fire("enable")},_handlerDeactivated:function(){this._hideActionsToolbar(),L.DomUtil.removeClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._activeMode=null,this.fire("disable")},_createActions:function(f){var m,w,M,O,z=this._actionsContainer,V=this.getActions(f),Z=V.length;for(w=0,M=this._actionButtons.length;w<M;w++)this._disposeButton(this._actionButtons[w].button,this._actionButtons[w].callback);for(this._actionButtons=[];z.firstChild;)z.removeChild(z.firstChild);for(var ve=0;ve<Z;ve++)"enabled"in V[ve]&&!V[ve].enabled||(m=L.DomUtil.create("li","",z),O=this._createButton({title:V[ve].title,text:V[ve].text,container:m,callback:V[ve].callback,context:V[ve].context}),this._actionButtons.push({button:O,callback:V[ve].callback}))},_showActionsToolbar:function(){var f=this._activeMode.buttonIndex,m=this._lastButtonIndex,w=this._activeMode.button.offsetTop-1;this._createActions(this._activeMode.handler),this._actionsContainer.style.top=w+"px",0===f&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-top")),f===m&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-bottom")),this._actionsContainer.style.display="block",this._map.fire(L.Draw.Event.TOOLBAROPENED)},_hideActionsToolbar:function(){this._actionsContainer.style.display="none",L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-top"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-bottom"),this._map.fire(L.Draw.Event.TOOLBARCLOSED)}}),L.Draw=L.Draw||{},L.Draw.Tooltip=L.Class.extend({initialize:function(f){this._map=f,this._popupPane=f._panes.popupPane,this._visible=!1,this._container=f.options.drawControlTooltips?L.DomUtil.create("div","leaflet-draw-tooltip",this._popupPane):null,this._singleLineLabel=!1,this._map.on("mouseout",this._onMouseOut,this)},dispose:function(){this._map.off("mouseout",this._onMouseOut,this),this._container&&(this._popupPane.removeChild(this._container),this._container=null)},updateContent:function(f){return this._container?(f.subtext=f.subtext||"",0!==f.subtext.length||this._singleLineLabel?f.subtext.length>0&&this._singleLineLabel&&(L.DomUtil.removeClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!1):(L.DomUtil.addClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!0),this._container.innerHTML=(f.subtext.length>0?'<span class="leaflet-draw-tooltip-subtext">'+f.subtext+"</span><br />":"")+"<span>"+f.text+"</span>",f.text||f.subtext?(this._visible=!0,this._container.style.visibility="inherit"):(this._visible=!1,this._container.style.visibility="hidden"),this):this},updatePosition:function(f){var m=this._map.latLngToLayerPoint(f),w=this._container;return this._container&&(this._visible&&(w.style.visibility="inherit"),L.DomUtil.setPosition(w,m)),this},showAsError:function(){return this._container&&L.DomUtil.addClass(this._container,"leaflet-error-draw-tooltip"),this},removeError:function(){return this._container&&L.DomUtil.removeClass(this._container,"leaflet-error-draw-tooltip"),this},_onMouseOut:function(){this._container&&(this._container.style.visibility="hidden")}}),L.DrawToolbar=L.Toolbar.extend({statics:{TYPE:"draw"},options:{polyline:{},polygon:{},rectangle:{},circle:{},marker:{},circlemarker:{}},initialize:function(f){for(var m in this.options)this.options.hasOwnProperty(m)&&f[m]&&(f[m]=L.extend({},this.options[m],f[m]));this._toolbarClass="leaflet-draw-draw",L.Toolbar.prototype.initialize.call(this,f)},getModeHandlers:function(f){return[{enabled:this.options.polyline,handler:new L.Draw.Polyline(f,this.options.polyline),title:L.drawLocal.draw.toolbar.buttons.polyline},{enabled:this.options.polygon,handler:new L.Draw.Polygon(f,this.options.polygon),title:L.drawLocal.draw.toolbar.buttons.polygon},{enabled:this.options.rectangle,handler:new L.Draw.Rectangle(f,this.options.rectangle),title:L.drawLocal.draw.toolbar.buttons.rectangle},{enabled:this.options.circle,handler:new L.Draw.Circle(f,this.options.circle),title:L.drawLocal.draw.toolbar.buttons.circle},{enabled:this.options.marker,handler:new L.Draw.Marker(f,this.options.marker),title:L.drawLocal.draw.toolbar.buttons.marker},{enabled:this.options.circlemarker,handler:new L.Draw.CircleMarker(f,this.options.circlemarker),title:L.drawLocal.draw.toolbar.buttons.circlemarker}]},getActions:function(f){return[{enabled:f.completeShape,title:L.drawLocal.draw.toolbar.finish.title,text:L.drawLocal.draw.toolbar.finish.text,callback:f.completeShape,context:f},{enabled:f.deleteLastVertex,title:L.drawLocal.draw.toolbar.undo.title,text:L.drawLocal.draw.toolbar.undo.text,callback:f.deleteLastVertex,context:f},{title:L.drawLocal.draw.toolbar.actions.title,text:L.drawLocal.draw.toolbar.actions.text,callback:this.disable,context:this}]},setOptions:function(f){for(var m in L.setOptions(this,f),this._modes)this._modes.hasOwnProperty(m)&&f.hasOwnProperty(m)&&this._modes[m].handler.setOptions(f[m])}}),L.EditToolbar=L.Toolbar.extend({statics:{TYPE:"edit"},options:{edit:{selectedPathOptions:{dashArray:"10, 10",fill:!0,fillColor:"#fe57a1",fillOpacity:.1,maintainColor:!1}},remove:{},poly:null,featureGroup:null},initialize:function(f){f.edit&&(void 0===f.edit.selectedPathOptions&&(f.edit.selectedPathOptions=this.options.edit.selectedPathOptions),f.edit.selectedPathOptions=L.extend({},this.options.edit.selectedPathOptions,f.edit.selectedPathOptions)),f.remove&&(f.remove=L.extend({},this.options.remove,f.remove)),f.poly&&(f.poly=L.extend({},this.options.poly,f.poly)),this._toolbarClass="leaflet-draw-edit",L.Toolbar.prototype.initialize.call(this,f),this._selectedFeatureCount=0},getModeHandlers:function(f){var m=this.options.featureGroup;return[{enabled:this.options.edit,handler:new L.EditToolbar.Edit(f,{featureGroup:m,selectedPathOptions:this.options.edit.selectedPathOptions,poly:this.options.poly}),title:L.drawLocal.edit.toolbar.buttons.edit},{enabled:this.options.remove,handler:new L.EditToolbar.Delete(f,{featureGroup:m}),title:L.drawLocal.edit.toolbar.buttons.remove}]},getActions:function(f){var m=[{title:L.drawLocal.edit.toolbar.actions.save.title,text:L.drawLocal.edit.toolbar.actions.save.text,callback:this._save,context:this},{title:L.drawLocal.edit.toolbar.actions.cancel.title,text:L.drawLocal.edit.toolbar.actions.cancel.text,callback:this.disable,context:this}];return f.removeAllLayers&&m.push({title:L.drawLocal.edit.toolbar.actions.clearAll.title,text:L.drawLocal.edit.toolbar.actions.clearAll.text,callback:this._clearAllLayers,context:this}),m},addToolbar:function(f){var m=L.Toolbar.prototype.addToolbar.call(this,f);return this._checkDisabled(),this.options.featureGroup.on("layeradd layerremove",this._checkDisabled,this),m},removeToolbar:function(){this.options.featureGroup.off("layeradd layerremove",this._checkDisabled,this),L.Toolbar.prototype.removeToolbar.call(this)},disable:function(){this.enabled()&&(this._activeMode.handler.revertLayers(),L.Toolbar.prototype.disable.call(this))},_save:function(){this._activeMode.handler.save(),this._activeMode&&this._activeMode.handler.disable()},_clearAllLayers:function(){this._activeMode.handler.removeAllLayers(),this._activeMode&&this._activeMode.handler.disable()},_checkDisabled:function(){var f,w=0!==this.options.featureGroup.getLayers().length;this.options.edit&&(f=this._modes[L.EditToolbar.Edit.TYPE].button,w?L.DomUtil.removeClass(f,"leaflet-disabled"):L.DomUtil.addClass(f,"leaflet-disabled"),f.setAttribute("title",w?L.drawLocal.edit.toolbar.buttons.edit:L.drawLocal.edit.toolbar.buttons.editDisabled)),this.options.remove&&(f=this._modes[L.EditToolbar.Delete.TYPE].button,w?L.DomUtil.removeClass(f,"leaflet-disabled"):L.DomUtil.addClass(f,"leaflet-disabled"),f.setAttribute("title",w?L.drawLocal.edit.toolbar.buttons.remove:L.drawLocal.edit.toolbar.buttons.removeDisabled))}}),L.EditToolbar.Edit=L.Handler.extend({statics:{TYPE:"edit"},initialize:function(f,m){if(L.Handler.prototype.initialize.call(this,f),L.setOptions(this,m),this._featureGroup=m.featureGroup,!(this._featureGroup instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this._uneditedLayerProps={},this.type=L.EditToolbar.Edit.TYPE;var w=L.version.split(".");1===parseInt(w[0],10)&&parseInt(w[1],10)>=2?L.EditToolbar.Edit.include(L.Evented.prototype):L.EditToolbar.Edit.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.EDITSTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._featureGroup.on("layeradd",this._enableLayerEdit,this).on("layerremove",this._disableLayerEdit,this))},disable:function(){this._enabled&&(this._featureGroup.off("layeradd",this._enableLayerEdit,this).off("layerremove",this._disableLayerEdit,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.EDITSTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var f=this._map;f&&(f.getContainer().focus(),this._featureGroup.eachLayer(this._enableLayerEdit,this),this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}),f._editTooltip=this._tooltip,this._updateTooltip(),this._map.on("mousemove",this._onMouseMove,this).on("touchmove",this._onMouseMove,this).on("MSPointerMove",this._onMouseMove,this).on(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},removeHooks:function(){this._map&&(this._featureGroup.eachLayer(this._disableLayerEdit,this),this._uneditedLayerProps={},this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this).off("touchmove",this._onMouseMove,this).off("MSPointerMove",this._onMouseMove,this).off(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},revertLayers:function(){this._featureGroup.eachLayer(function(f){this._revertLayer(f)},this)},save:function(){var f=new L.LayerGroup;this._featureGroup.eachLayer(function(m){m.edited&&(f.addLayer(m),m.edited=!1)}),this._map.fire(L.Draw.Event.EDITED,{layers:f})},_backupLayer:function(f){var m=L.Util.stamp(f);this._uneditedLayerProps[m]||(f instanceof L.Polyline||f instanceof L.Polygon||f instanceof L.Rectangle?this._uneditedLayerProps[m]={latlngs:L.LatLngUtil.cloneLatLngs(f.getLatLngs())}:f instanceof L.Circle?this._uneditedLayerProps[m]={latlng:L.LatLngUtil.cloneLatLng(f.getLatLng()),radius:f.getRadius()}:(f instanceof L.Marker||f instanceof L.CircleMarker)&&(this._uneditedLayerProps[m]={latlng:L.LatLngUtil.cloneLatLng(f.getLatLng())}))},_getTooltipText:function(){return{text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}},_updateTooltip:function(){this._tooltip.updateContent(this._getTooltipText())},_revertLayer:function(f){var m=L.Util.stamp(f);f.edited=!1,this._uneditedLayerProps.hasOwnProperty(m)&&(f instanceof L.Polyline||f instanceof L.Polygon||f instanceof L.Rectangle?f.setLatLngs(this._uneditedLayerProps[m].latlngs):f instanceof L.Circle?(f.setLatLng(this._uneditedLayerProps[m].latlng),f.setRadius(this._uneditedLayerProps[m].radius)):(f instanceof L.Marker||f instanceof L.CircleMarker)&&f.setLatLng(this._uneditedLayerProps[m].latlng),f.fire("revert-edited",{layer:f}))},_enableLayerEdit:function(f){var m,w,M=f.layer||f.target||f;this._backupLayer(M),this.options.poly&&(w=L.Util.extend({},this.options.poly),M.options.poly=w),this.options.selectedPathOptions&&((m=L.Util.extend({},this.options.selectedPathOptions)).maintainColor&&(m.color=M.options.color,m.fillColor=M.options.fillColor),M.options.original=L.extend({},M.options),M.options.editing=m),M instanceof L.Marker?(M.editing&&M.editing.enable(),M.dragging.enable(),M.on("dragend",this._onMarkerDragEnd).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onMarkerDragEnd,this).on("MSPointerUp",this._onMarkerDragEnd,this)):M.editing.enable()},_disableLayerEdit:function(f){var m=f.layer||f.target||f;m.edited=!1,m.editing&&m.editing.disable(),delete m.options.editing,delete m.options.original,this._selectedPathOptions&&(m instanceof L.Marker?this._toggleMarkerHighlight(m):(m.setStyle(m.options.previousOptions),delete m.options.previousOptions)),m instanceof L.Marker?(m.dragging.disable(),m.off("dragend",this._onMarkerDragEnd,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onMarkerDragEnd,this).off("MSPointerUp",this._onMarkerDragEnd,this)):m.editing.disable()},_onMouseMove:function(f){this._tooltip.updatePosition(f.latlng)},_onMarkerDragEnd:function(f){var m=f.target;m.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:m})},_onTouchMove:function(f){var w=this._map.mouseEventToLayerPoint(f.originalEvent.changedTouches[0]),M=this._map.layerPointToLatLng(w);f.target.setLatLng(M)},_hasAvailableLayers:function(){return 0!==this._featureGroup.getLayers().length}}),L.EditToolbar.Delete=L.Handler.extend({statics:{TYPE:"remove"},initialize:function(f,m){if(L.Handler.prototype.initialize.call(this,f),L.Util.setOptions(this,m),this._deletableLayers=this.options.featureGroup,!(this._deletableLayers instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this.type=L.EditToolbar.Delete.TYPE;var w=L.version.split(".");1===parseInt(w[0],10)&&parseInt(w[1],10)>=2?L.EditToolbar.Delete.include(L.Evented.prototype):L.EditToolbar.Delete.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DELETESTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._deletableLayers.on("layeradd",this._enableLayerDelete,this).on("layerremove",this._disableLayerDelete,this))},disable:function(){this._enabled&&(this._deletableLayers.off("layeradd",this._enableLayerDelete,this).off("layerremove",this._disableLayerDelete,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DELETESTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var f=this._map;f&&(f.getContainer().focus(),this._deletableLayers.eachLayer(this._enableLayerDelete,this),this._deletedLayers=new L.LayerGroup,this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.remove.tooltip.text}),this._map.on("mousemove",this._onMouseMove,this))},removeHooks:function(){this._map&&(this._deletableLayers.eachLayer(this._disableLayerDelete,this),this._deletedLayers=null,this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this))},revertLayers:function(){this._deletedLayers.eachLayer(function(f){this._deletableLayers.addLayer(f),f.fire("revert-deleted",{layer:f})},this)},save:function(){this._map.fire(L.Draw.Event.DELETED,{layers:this._deletedLayers})},removeAllLayers:function(){this._deletableLayers.eachLayer(function(f){this._removeLayer({layer:f})},this),this.save()},_enableLayerDelete:function(f){(f.layer||f.target||f).on("click",this._removeLayer,this)},_disableLayerDelete:function(f){var m=f.layer||f.target||f;m.off("click",this._removeLayer,this),this._deletedLayers.removeLayer(m)},_removeLayer:function(f){var m=f.layer||f.target||f;this._deletableLayers.removeLayer(m),this._deletedLayers.addLayer(m),m.fire("deleted")},_onMouseMove:function(f){this._tooltip.updatePosition(f.latlng)},_hasAvailableLayers:function(){return 0!==this._deletableLayers.getLayers().length}})},407:function(B,q){!function(P){"use strict";function f(o){var a,u,h,g;for(u=1,h=arguments.length;u<h;u++)for(a in g=arguments[u])o[a]=g[a];return o}var m=Object.create||function(){function o(){}return function(a){return o.prototype=a,new o}}();function w(o,a){var u=Array.prototype.slice;if(o.bind)return o.bind.apply(o,u.call(arguments,1));var h=u.call(arguments,2);return function(){return o.apply(a,h.length?h.concat(u.call(arguments)):arguments)}}var M=0;function O(o){return o._leaflet_id=o._leaflet_id||++M,o._leaflet_id}function z(o,a,u){var h,g,y,C;return C=function(){h=!1,g&&(y.apply(u,g),g=!1)},y=function(){h?g=arguments:(o.apply(u,arguments),setTimeout(C,a),h=!0)},y}function V(o,a,u){var h=a[1],g=a[0],y=h-g;return o===h&&u?o:((o-g)%y+y)%y+g}function Z(){return!1}function ve(o,a){var u=Math.pow(10,void 0===a?6:a);return Math.round(o*u)/u}function co(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function fn(o){return co(o).split(/\s+/)}function Re(o,a){for(var u in Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?m(o.options):{}),a)o.options[u]=a[u];return o.options}function Vs(o,a,u){var h=[];for(var g in o)h.push(encodeURIComponent(u?g.toUpperCase():g)+"="+encodeURIComponent(o[g]));return(a&&-1!==a.indexOf("?")?"&":"?")+h.join("&")}var Vl=/\{ *([\w_-]+) *\}/g;function ho(o,a){return o.replace(Vl,function(u,h){var g=a[h];if(void 0===g)throw new Error("No value provided for variable "+u);return"function"==typeof g&&(g=g(a)),g})}var rt=Array.isArray||function(o){return"[object Array]"===Object.prototype.toString.call(o)};function Ai(o,a){for(var u=0;u<o.length;u++)if(o[u]===a)return u;return-1}var fo="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Ni(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var po=0;function go(o){var a=+new Date,u=Math.max(0,16-(a-po));return po=a+u,window.setTimeout(o,u)}var mo=window.requestAnimationFrame||Ni("RequestAnimationFrame")||go,_o=window.cancelAnimationFrame||Ni("CancelAnimationFrame")||Ni("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function st(o,a,u){if(!u||mo!==go)return mo.call(window,w(o,a));o.call(a)}function at(o){o&&_o.call(window,o)}var zs={extend:f,create:m,bind:w,lastId:M,stamp:O,throttle:z,wrapNum:V,falseFn:Z,formatNum:ve,trim:co,splitWords:fn,setOptions:Re,getParamString:Vs,template:ho,isArray:rt,indexOf:Ai,emptyImageUrl:fo,requestFn:mo,cancelFn:_o,requestAnimFrame:st,cancelAnimFrame:at};function Sn(){}Sn.extend=function(o){var a=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},u=a.__super__=this.prototype,h=m(u);for(var g in h.constructor=a,a.prototype=h,this)Object.prototype.hasOwnProperty.call(this,g)&&"prototype"!==g&&"__super__"!==g&&(a[g]=this[g]);return o.statics&&(f(a,o.statics),delete o.statics),o.includes&&(function js(o){if("undefined"!=typeof L&&L&&L.Mixin){o=rt(o)?o:[o];for(var a=0;a<o.length;a++)o[a]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(o.includes),f.apply(null,[h].concat(o.includes)),delete o.includes),h.options&&(o.options=f(m(h.options),o.options)),f(h,o),h._initHooks=[],h.callInitHooks=function(){if(!this._initHooksCalled){u.callInitHooks&&u.callInitHooks.call(this),this._initHooksCalled=!0;for(var y=0,C=h._initHooks.length;y<C;y++)h._initHooks[y].call(this)}},a},Sn.include=function(o){return f(this.prototype,o),this},Sn.mergeOptions=function(o){return f(this.prototype.options,o),this},Sn.addInitHook=function(o){var a=Array.prototype.slice.call(arguments,1),u="function"==typeof o?o:function(){this[o].apply(this,a)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(u),this};var Pe={on:function(o,a,u){if("object"==typeof o)for(var h in o)this._on(h,o[h],a);else for(var g=0,y=(o=fn(o)).length;g<y;g++)this._on(o[g],a,u);return this},off:function(o,a,u){if(o)if("object"==typeof o)for(var h in o)this._off(h,o[h],a);else for(var g=0,y=(o=fn(o)).length;g<y;g++)this._off(o[g],a,u);else delete this._events;return this},_on:function(o,a,u){this._events=this._events||{};var h=this._events[o];h||(this._events[o]=h=[]),u===this&&(u=void 0);for(var g={fn:a,ctx:u},y=h,C=0,T=y.length;C<T;C++)if(y[C].fn===a&&y[C].ctx===u)return;y.push(g)},_off:function(o,a,u){var h,g,y;if(this._events&&(h=this._events[o])){if(!a){for(g=0,y=h.length;g<y;g++)h[g].fn=Z;return void delete this._events[o]}if(u===this&&(u=void 0),h)for(g=0,y=h.length;g<y;g++){var C=h[g];if(C.ctx===u&&C.fn===a)return C.fn=Z,this._firingCount&&(this._events[o]=h=h.slice()),void h.splice(g,1)}}},fire:function(o,a,u){if(!this.listens(o,u))return this;var h=f({},a,{type:o,target:this,sourceTarget:a&&a.sourceTarget||this});if(this._events){var g=this._events[o];if(g){this._firingCount=this._firingCount+1||1;for(var y=0,C=g.length;y<C;y++){var T=g[y];T.fn.call(T.ctx||this,h)}this._firingCount--}}return u&&this._propagateEvent(h),this},listens:function(o,a){var u=this._events&&this._events[o];if(u&&u.length)return!0;if(a)for(var h in this._eventParents)if(this._eventParents[h].listens(o,a))return!0;return!1},once:function(o,a,u){if("object"==typeof o){for(var h in o)this.once(h,o[h],a);return this}var g=w(function(){this.off(o,a,u).off(o,g,u)},this);return this.on(o,a,u).on(o,g,u)},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[O(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[O(o)],this},_propagateEvent:function(o){for(var a in this._eventParents)this._eventParents[a].fire(o.type,f({layer:o.target,propagatedFrom:o.target},o),!0)}};Pe.addEventListener=Pe.on,Pe.removeEventListener=Pe.clearAllEventListeners=Pe.off,Pe.addOneTimeEventListener=Pe.once,Pe.fireEvent=Pe.fire,Pe.hasEventListeners=Pe.listens;var mi=Sn.extend(Pe);function ee(o,a,u){this.x=u?Math.round(o):o,this.y=u?Math.round(a):a}var Us=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};function ye(o,a,u){return o instanceof ee?o:rt(o)?new ee(o[0],o[1]):null==o?o:"object"==typeof o&&"x"in o&&"y"in o?new ee(o.x,o.y):new ee(o,a,u)}function Se(o,a){if(o)for(var u=a?[o,a]:o,h=0,g=u.length;h<g;h++)this.extend(u[h])}function St(o,a){return!o||o instanceof Se?o:new Se(o,a)}function ht(o,a){if(o)for(var u=a?[o,a]:o,h=0,g=u.length;h<g;h++)this.extend(u[h])}function Oe(o,a){return o instanceof ht?o:new ht(o,a)}function we(o,a,u){if(isNaN(o)||isNaN(a))throw new Error("Invalid LatLng object: ("+o+", "+a+")");this.lat=+o,this.lng=+a,void 0!==u&&(this.alt=+u)}function Ie(o,a,u){return o instanceof we?o:rt(o)&&"object"!=typeof o[0]?3===o.length?new we(o[0],o[1],o[2]):2===o.length?new we(o[0],o[1]):null:null==o?o:"object"==typeof o&&"lat"in o?new we(o.lat,"lng"in o?o.lng:o.lon,o.alt):void 0===a?null:new we(o,a,u)}ee.prototype={clone:function(){return new ee(this.x,this.y)},add:function(o){return this.clone()._add(ye(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract(ye(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new ee(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new ee(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Us(this.x),this.y=Us(this.y),this},distanceTo:function(o){var a=(o=ye(o)).x-this.x,u=o.y-this.y;return Math.sqrt(a*a+u*u)},equals:function(o){return(o=ye(o)).x===this.x&&o.y===this.y},contains:function(o){return o=ye(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+ve(this.x)+", "+ve(this.y)+")"}},Se.prototype={extend:function(o){return o=ye(o),this.min||this.max?(this.min.x=Math.min(o.x,this.min.x),this.max.x=Math.max(o.x,this.max.x),this.min.y=Math.min(o.y,this.min.y),this.max.y=Math.max(o.y,this.max.y)):(this.min=o.clone(),this.max=o.clone()),this},getCenter:function(o){return new ee((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return new ee(this.min.x,this.max.y)},getTopRight:function(){return new ee(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var a,u;return(o="number"==typeof o[0]||o instanceof ee?ye(o):St(o))instanceof Se?(a=o.min,u=o.max):a=u=o,a.x>=this.min.x&&u.x<=this.max.x&&a.y>=this.min.y&&u.y<=this.max.y},intersects:function(o){o=St(o);var a=this.min,u=this.max,h=o.min,g=o.max;return g.x>=a.x&&h.x<=u.x&&g.y>=a.y&&h.y<=u.y},overlaps:function(o){o=St(o);var a=this.min,u=this.max,h=o.min,g=o.max;return g.x>a.x&&h.x<u.x&&g.y>a.y&&h.y<u.y},isValid:function(){return!(!this.min||!this.max)}},ht.prototype={extend:function(o){var h,g,a=this._southWest,u=this._northEast;if(o instanceof we)h=o,g=o;else{if(!(o instanceof ht))return o?this.extend(Ie(o)||Oe(o)):this;if(g=o._northEast,!(h=o._southWest)||!g)return this}return a||u?(a.lat=Math.min(h.lat,a.lat),a.lng=Math.min(h.lng,a.lng),u.lat=Math.max(g.lat,u.lat),u.lng=Math.max(g.lng,u.lng)):(this._southWest=new we(h.lat,h.lng),this._northEast=new we(g.lat,g.lng)),this},pad:function(o){var a=this._southWest,u=this._northEast,h=Math.abs(a.lat-u.lat)*o,g=Math.abs(a.lng-u.lng)*o;return new ht(new we(a.lat-h,a.lng-g),new we(u.lat+h,u.lng+g))},getCenter:function(){return new we((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new we(this.getNorth(),this.getWest())},getSouthEast:function(){return new we(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){o="number"==typeof o[0]||o instanceof we||"lat"in o?Ie(o):Oe(o);var h,g,a=this._southWest,u=this._northEast;return o instanceof ht?(h=o.getSouthWest(),g=o.getNorthEast()):h=g=o,h.lat>=a.lat&&g.lat<=u.lat&&h.lng>=a.lng&&g.lng<=u.lng},intersects:function(o){o=Oe(o);var a=this._southWest,u=this._northEast,h=o.getSouthWest(),g=o.getNorthEast();return g.lat>=a.lat&&h.lat<=u.lat&&g.lng>=a.lng&&h.lng<=u.lng},overlaps:function(o){o=Oe(o);var a=this._southWest,u=this._northEast,h=o.getSouthWest(),g=o.getNorthEast();return g.lat>a.lat&&h.lat<u.lat&&g.lng>a.lng&&h.lng<u.lng},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,a){return!!o&&(o=Oe(o),this._southWest.equals(o.getSouthWest(),a)&&this._northEast.equals(o.getNorthEast(),a))},isValid:function(){return!(!this._southWest||!this._northEast)}},we.prototype={equals:function(o,a){return!!o&&(o=Ie(o),Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng))<=(void 0===a?1e-9:a))},toString:function(o){return"LatLng("+ve(this.lat,o)+", "+ve(this.lng,o)+")"},distanceTo:function(o){return Kn.distance(this,Ie(o))},wrap:function(){return Kn.wrapLatLng(this)},toBounds:function(o){var a=180*o/40075017,u=a/Math.cos(Math.PI/180*this.lat);return Oe([this.lat-a,this.lng-u],[this.lat+a,this.lng+u])},clone:function(){return new we(this.lat,this.lng,this.alt)}};var o,Vt={latLngToPoint:function(o,a){var u=this.projection.project(o),h=this.scale(a);return this.transformation._transform(u,h)},pointToLatLng:function(o,a){var u=this.scale(a),h=this.transformation.untransform(o,u);return this.projection.unproject(h)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var a=this.projection.bounds,u=this.scale(o);return new Se(this.transformation.transform(a.min,u),this.transformation.transform(a.max,u))},infinite:!1,wrapLatLng:function(o){var a=this.wrapLng?V(o.lng,this.wrapLng,!0):o.lng;return new we(this.wrapLat?V(o.lat,this.wrapLat,!0):o.lat,a,o.alt)},wrapLatLngBounds:function(o){var a=o.getCenter(),u=this.wrapLatLng(a),h=a.lat-u.lat,g=a.lng-u.lng;if(0===h&&0===g)return o;var y=o.getSouthWest(),C=o.getNorthEast();return new ht(new we(y.lat-h,y.lng-g),new we(C.lat-h,C.lng-g))}},Kn=f({},Vt,{wrapLng:[-180,180],R:6371e3,distance:function(o,a){var u=Math.PI/180,h=o.lat*u,g=a.lat*u,y=Math.sin((a.lat-o.lat)*u/2),C=Math.sin((a.lng-o.lng)*u/2),T=y*y+Math.cos(h)*Math.cos(g)*C*C,x=2*Math.atan2(Math.sqrt(T),Math.sqrt(1-T));return this.R*x}}),Zs={R:6378137,MAX_LATITUDE:85.0511287798,project:function(o){var a=Math.PI/180,u=this.MAX_LATITUDE,h=Math.max(Math.min(u,o.lat),-u),g=Math.sin(h*a);return new ee(this.R*o.lng*a,this.R*Math.log((1+g)/(1-g))/2)},unproject:function(o){var a=180/Math.PI;return new we((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*a,o.x*a/this.R)},bounds:(o=6378137*Math.PI,new Se([-o,-o],[o,o]))};function Gs(o,a,u,h){if(rt(o))return this._a=o[0],this._b=o[1],this._c=o[2],void(this._d=o[3]);this._a=o,this._b=a,this._c=u,this._d=h}function yo(o,a,u,h){return new Gs(o,a,u,h)}Gs.prototype={transform:function(o,a){return this._transform(o.clone(),a)},_transform:function(o,a){return o.x=(a=a||1)*(this._a*o.x+this._b),o.y=a*(this._c*o.y+this._d),o},untransform:function(o,a){return new ee((o.x/(a=a||1)-this._b)/this._a,(o.y/a-this._d)/this._c)}};var $s=f({},Kn,{code:"EPSG:3857",projection:Zs,transformation:function(){var o=.5/(Math.PI*Zs.R);return yo(o,.5,-o,.5)}()}),zl=f({},$s,{code:"EPSG:900913"});function jl(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function Tr(o,a){var h,g,y,C,T,x,u="";for(h=0,y=o.length;h<y;h++){for(g=0,C=(T=o[h]).length;g<C;g++)u+=(g?"L":"M")+(x=T[g]).x+" "+x.y;u+=a?Fi?"z":"x":""}return u||"M0 0"}var Ws=document.documentElement.style,Ri="ActiveXObject"in window,_i=Ri&&!document.addEventListener,xr="msLaunchUri"in navigator&&!("documentMode"in document),qs=Qt("webkit"),vo=Qt("android"),zt=Qt("android 2")||Qt("android 3"),Ul=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Zl=vo&&Qt("Google")&&Ul<537&&!("AudioNode"in window),Pr=!!window.opera,Ys=!xr&&Qt("chrome"),Ir=Qt("gecko")&&!qs&&!Pr&&!Ri,Sr=!Ys&&Qt("safari"),Gl=Qt("phantom"),$l="OTransition"in Ws,Wl=0===navigator.platform.indexOf("Win"),wo=Ri&&"transition"in Ws,Do="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!zt,kr="MozPerspective"in Ws,bt=!window.L_DISABLE_3D&&(wo||Do||kr)&&!$l&&!Gl,Jn="undefined"!=typeof orientation||Qt("mobile"),ql=Jn&&qs,Ks=Jn&&Do,pn=!window.PointerEvent&&window.MSPointerEvent,jt=!(!window.PointerEvent&&!pn),Ut=!window.L_NO_TOUCH&&(jt||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),Qn=Jn&&Pr,Yl=Jn&&Ir,kn=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,yi=function(){var o=!1;try{var a=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",Z,a),window.removeEventListener("testPassiveEventSupport",Z,a)}catch(u){}return o}(),Js=!!document.createElement("canvas").getContext,Fi=!(!document.createElementNS||!jl("svg").createSVGRect),bo=!Fi&&function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var a=o.firstChild;return a.style.behavior="url(#default#VML)",a&&"object"==typeof a.adj}catch(u){return!1}}();function Qt(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var On={ie:Ri,ielt9:_i,edge:xr,webkit:qs,android:vo,android23:zt,androidStock:Zl,opera:Pr,chrome:Ys,gecko:Ir,safari:Sr,phantom:Gl,opera12:$l,win:Wl,ie3d:wo,webkit3d:Do,gecko3d:kr,any3d:bt,mobile:Jn,mobileWebkit:ql,mobileWebkit3d:Ks,msPointer:pn,pointer:jt,touch:Ut,mobileOpera:Qn,mobileGecko:Yl,retina:kn,passiveEvents:yi,canvas:Js,svg:Fi,vml:bo},Or=pn?"MSPointerDown":"pointerdown",vi=pn?"MSPointerMove":"pointermove",Ar=pn?"MSPointerUp":"pointerup",Bi=pn?"MSPointerCancel":"pointercancel",Hi={},Qs=!1;function Kl(o,a,u,h){return"touchstart"===a?function rh(o,a,u){var h=w(function(g){g.MSPOINTER_TYPE_TOUCH&&g.pointerType===g.MSPOINTER_TYPE_TOUCH&&Ct(g),Co(g,a)});o["_leaflet_touchstart"+u]=h,o.addEventListener(Or,h,!1),Qs||(document.addEventListener(Or,Xs,!0),document.addEventListener(vi,Jl,!0),document.addEventListener(Ar,Rr,!0),document.addEventListener(Bi,Rr,!0),Qs=!0)}(o,u,h):"touchmove"===a?function Ql(o,a,u){var h=function(g){g.pointerType===(g.MSPOINTER_TYPE_MOUSE||"mouse")&&0===g.buttons||Co(g,a)};o["_leaflet_touchmove"+u]=h,o.addEventListener(vi,h,!1)}(o,u,h):"touchend"===a&&function Xl(o,a,u){var h=function(g){Co(g,a)};o["_leaflet_touchend"+u]=h,o.addEventListener(Ar,h,!1),o.addEventListener(Bi,h,!1)}(o,u,h),this}function Xs(o){Hi[o.pointerId]=o}function Jl(o){Hi[o.pointerId]&&(Hi[o.pointerId]=o)}function Rr(o){delete Hi[o.pointerId]}function Co(o,a){for(var u in o.touches=[],Hi)o.touches.push(Hi[u]);o.changedTouches=[o],a(o)}var Eo=pn?"MSPointerDown":jt?"pointerdown":"touchstart",Mo=pn?"MSPointerUp":jt?"pointerup":"touchend",Xn="_leaflet_";var Nn,et,ia,Fr,ra,Vi=qe(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),zi=qe(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ea="webkitTransition"===zi||"OTransition"===zi?zi+"End":"transitionend";function ta(o){return"string"==typeof o?document.getElementById(o):o}function ei(o,a){var u=o.style[a]||o.currentStyle&&o.currentStyle[a];if((!u||"auto"===u)&&document.defaultView){var h=document.defaultView.getComputedStyle(o,null);u=h?h[a]:null}return"auto"===u?null:u}function G(o,a,u){var h=document.createElement(o);return h.className=a||"",u&&u.appendChild(h),h}function ke(o){var a=o.parentNode;a&&a.removeChild(o)}function De(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function An(o){var a=o.parentNode;a&&a.lastChild!==o&&a.appendChild(o)}function wi(o){var a=o.parentNode;a&&a.firstChild!==o&&a.insertBefore(o,a.firstChild)}function ji(o,a){if(void 0!==o.classList)return o.classList.contains(a);var u=pe(o);return u.length>0&&new RegExp("(^|\\s)"+a+"(\\s|$)").test(u)}function F(o,a){if(void 0!==o.classList)for(var u=fn(a),h=0,g=u.length;h<g;h++)o.classList.add(u[h]);else if(!ji(o,a)){var y=pe(o);na(o,(y?y+" ":"")+a)}}function Fe(o,a){void 0!==o.classList?o.classList.remove(a):na(o,co((" "+pe(o)+" ").replace(" "+a+" "," ")))}function na(o,a){void 0===o.className.baseVal?o.className=a:o.className.baseVal=a}function pe(o){return o.correspondingElement&&(o=o.correspondingElement),void 0===o.className.baseVal?o.className:o.className.baseVal}function ft(o,a){"opacity"in o.style?o.style.opacity=a:"filter"in o.style&&function te(o,a){var u=!1,h="DXImageTransform.Microsoft.Alpha";try{u=o.filters.item(h)}catch(g){if(1===a)return}a=Math.round(100*a),u?(u.Enabled=100!==a,u.Opacity=a):o.style.filter+=" progid:"+h+"(opacity="+a+")"}(o,a)}function qe(o){for(var a=document.documentElement.style,u=0;u<o.length;u++)if(o[u]in a)return o[u];return!1}function ti(o,a,u){var h=a||new ee(0,0);o.style[Vi]=(wo?"translate("+h.x+"px,"+h.y+"px)":"translate3d("+h.x+"px,"+h.y+"px,0)")+(u?" scale("+u+")":"")}function Ge(o,a){o._leaflet_pos=a,bt?ti(o,a):(o.style.left=a.x+"px",o.style.top=a.y+"px")}function ni(o){return o._leaflet_pos||new ee(0,0)}if("onselectstart"in document)Nn=function(){he(window,"selectstart",Ct)},et=function(){X(window,"selectstart",Ct)};else{var Ui=qe(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Nn=function(){if(Ui){var o=document.documentElement.style;ia=o[Ui],o[Ui]="none"}},et=function(){Ui&&(document.documentElement.style[Ui]=ia,ia=void 0)}}function oa(){he(window,"dragstart",Ct)}function Zt(){X(window,"dragstart",Ct)}function sa(o){for(;-1===o.tabIndex;)o=o.parentNode;!o.style||(Br(),Fr=o,ra=o.style.outline,o.style.outline="none",he(window,"keydown",Br))}function Br(){!Fr||(Fr.style.outline=ra,Fr=void 0,ra=void 0,X(window,"keydown",Br))}function aa(o){do{o=o.parentNode}while(!(o.offsetWidth&&o.offsetHeight||o===document.body));return o}function la(o){var a=o.getBoundingClientRect();return{x:a.width/o.offsetWidth||1,y:a.height/o.offsetHeight||1,boundingClientRect:a}}var nu={TRANSFORM:Vi,TRANSITION:zi,TRANSITION_END:ea,get:ta,getStyle:ei,create:G,remove:ke,empty:De,toFront:An,toBack:wi,hasClass:ji,addClass:F,removeClass:Fe,setClass:na,getClass:pe,setOpacity:ft,testProp:qe,setTransform:ti,setPosition:Ge,getPosition:ni,disableTextSelection:Nn,enableTextSelection:et,disableImageDrag:oa,enableImageDrag:Zt,preventOutline:sa,restoreOutline:Br,getSizedParentNode:aa,getScale:la};function he(o,a,u,h){if("object"==typeof a)for(var g in a)Hr(o,g,a[g],u);else for(var y=0,C=(a=fn(a)).length;y<C;y++)Hr(o,a[y],u,h);return this}var Be="_leaflet_events";function X(o,a,u,h){if("object"==typeof a)for(var g in a)Ce(o,g,a[g],u);else if(a)for(var y=0,C=(a=fn(a)).length;y<C;y++)Ce(o,a[y],u,h);else{for(var T in o[Be])Ce(o,T,o[Be][T]);delete o[Be]}return this}function iu(){if(jt)return!(xr||Sr)}var ua={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Hr(o,a,u,h){var g=a+O(u)+(h?"_"+O(h):"");if(o[Be]&&o[Be][g])return this;var y=function(T){return u.call(h||o,T||window.event)},C=y;jt&&0===a.indexOf("touch")?Kl(o,a,y,g):Ut&&"dblclick"===a&&!iu()?function eu(o,a,u){var h,g,y=!1;function T(k){if(jt){if(!k.isPrimary||"mouse"===k.pointerType)return}else if(k.touches.length>1)return;var j=Date.now(),$=j-(h||j);g=k.touches?k.touches[0]:k,y=$>0&&$<=250,h=j}function x(k){if(y&&!g.cancelBubble){if(jt){if("mouse"===k.pointerType)return;var $,ie,j={};for(ie in g)j[ie]=($=g[ie])&&$.bind?$.bind(g):$;g=j}g.type="dblclick",g.button=0,a(g),h=null}}return o[Xn+Eo+u]=T,o[Xn+Mo+u]=x,o[Xn+"dblclick"+u]=a,o.addEventListener(Eo,T,!!yi&&{passive:!1}),o.addEventListener(Mo,x,!!yi&&{passive:!1}),o.addEventListener("dblclick",a,!1),this}(o,y,g):"addEventListener"in o?"touchstart"===a||"touchmove"===a||"wheel"===a||"mousewheel"===a?o.addEventListener(ua[a]||a,y,!!yi&&{passive:!1}):"mouseenter"===a||"mouseleave"===a?o.addEventListener(ua[a],y=function(T){T=T||window.event,ne(o,T)&&C(T)},!1):o.addEventListener(a,C,!1):"attachEvent"in o&&o.attachEvent("on"+a,y),o[Be]=o[Be]||{},o[Be][g]=y}function Ce(o,a,u,h){var g=a+O(u)+(h?"_"+O(h):""),y=o[Be]&&o[Be][g];if(!y)return this;jt&&0===a.indexOf("touch")?function Nr(o,a,u){var h=o["_leaflet_"+a+u];return"touchstart"===a?o.removeEventListener(Or,h,!1):"touchmove"===a?o.removeEventListener(vi,h,!1):"touchend"===a&&(o.removeEventListener(Ar,h,!1),o.removeEventListener(Bi,h,!1)),this}(o,a,g):Ut&&"dblclick"===a&&!iu()?function tu(o,a){var h=o[Xn+Mo+a],g=o[Xn+"dblclick"+a];return o.removeEventListener(Eo,o[Xn+Eo+a],!!yi&&{passive:!1}),o.removeEventListener(Mo,h,!!yi&&{passive:!1}),o.removeEventListener("dblclick",g,!1),this}(o,g):"removeEventListener"in o?o.removeEventListener(ua[a]||a,y,!1):"detachEvent"in o&&o.detachEvent("on"+a,y),o[Be][g]=null}function Di(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,Vr(o),this}function Xt(o){return Hr(o,"wheel",Di),this}function ii(o){return he(o,"mousedown touchstart dblclick",Di),Hr(o,"click",Lo),this}function Ct(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function gn(o){return Ct(o),Di(o),this}function ca(o,a){if(!a)return new ee(o.clientX,o.clientY);var u=la(a),h=u.boundingClientRect;return new ee((o.clientX-h.left)/u.x-a.clientLeft,(o.clientY-h.top)/u.y-a.clientTop)}var da=Wl&&Ys?2*window.devicePixelRatio:Ir?window.devicePixelRatio:1;function Zi(o){return xr?o.wheelDeltaY/2:o.deltaY&&0===o.deltaMode?-o.deltaY/da:o.deltaY&&1===o.deltaMode?20*-o.deltaY:o.deltaY&&2===o.deltaMode?60*-o.deltaY:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?20*-o.detail:o.detail?o.detail/-32765*60:0}var Gi={};function Lo(o){Gi[o.type]=!0}function Vr(o){var a=Gi[o.type];return Gi[o.type]=!1,a}function ne(o,a){var u=a.relatedTarget;if(!u)return!0;try{for(;u&&u!==o;)u=u.parentNode}catch(h){return!1}return u!==o}var zr={on:he,off:X,stopPropagation:Di,disableScrollPropagation:Xt,disableClickPropagation:ii,preventDefault:Ct,stop:gn,getMousePosition:ca,getWheelDelta:Zi,fakeStop:Lo,skipped:Vr,isExternalTarget:ne,addListener:he,removeListener:X},ha=mi.extend({run:function(o,a,u,h){this.stop(),this._el=o,this._inProgress=!0,this._duration=u||.25,this._easeOutPower=1/Math.max(h||.5,.2),this._startPos=ni(o),this._offset=a.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){!this._inProgress||(this._step(!0),this._complete())},_animate:function(){this._animId=st(this._animate,this),this._step()},_step:function(o){var a=+new Date-this._startTime,u=1e3*this._duration;a<u?this._runFrame(this._easeOut(a/u),o):(this._runFrame(1),this._complete())},_runFrame:function(o,a){var u=this._startPos.add(this._offset.multiplyBy(o));a&&u._round(),Ge(this._el,u),this.fire("step")},_complete:function(){at(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),ae=mi.extend({options:{crs:$s,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,a){a=Re(this,a),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=w(this._onResize,this),this._initEvents(),a.maxBounds&&this.setMaxBounds(a.maxBounds),void 0!==a.zoom&&(this._zoom=this._limitZoom(a.zoom)),a.center&&void 0!==a.zoom&&this.setView(Ie(a.center),a.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=zi&&bt&&!Qn&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),he(this._proxy,ea,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,a,u){return a=void 0===a?this._zoom:this._limitZoom(a),o=this._limitCenter(Ie(o),a,this.options.maxBounds),u=u||{},this._stop(),this._loaded&&!u.reset&&!0!==u&&(void 0!==u.animate&&(u.zoom=f({animate:u.animate},u.zoom),u.pan=f({animate:u.animate,duration:u.duration},u.pan)),this._zoom!==a?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,a,u.zoom):this._tryAnimatedPan(o,u.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(o,a),this)},setZoom:function(o,a){return this._loaded?this.setView(this.getCenter(),o,{zoom:a}):(this._zoom=o,this)},zoomIn:function(o,a){return this.setZoom(this._zoom+(o=o||(bt?this.options.zoomDelta:1)),a)},zoomOut:function(o,a){return this.setZoom(this._zoom-(o=o||(bt?this.options.zoomDelta:1)),a)},setZoomAround:function(o,a,u){var h=this.getZoomScale(a),g=this.getSize().divideBy(2),C=(o instanceof ee?o:this.latLngToContainerPoint(o)).subtract(g).multiplyBy(1-1/h),T=this.containerPointToLatLng(g.add(C));return this.setView(T,a,{zoom:u})},_getBoundsCenterZoom:function(o,a){a=a||{},o=o.getBounds?o.getBounds():Oe(o);var u=ye(a.paddingTopLeft||a.padding||[0,0]),h=ye(a.paddingBottomRight||a.padding||[0,0]),g=this.getBoundsZoom(o,!1,u.add(h));if((g="number"==typeof a.maxZoom?Math.min(a.maxZoom,g):g)===1/0)return{center:o.getCenter(),zoom:g};var y=h.subtract(u).divideBy(2),C=this.project(o.getSouthWest(),g),T=this.project(o.getNorthEast(),g);return{center:this.unproject(C.add(T).divideBy(2).add(y),g),zoom:g}},fitBounds:function(o,a){if(!(o=Oe(o)).isValid())throw new Error("Bounds are not valid.");var u=this._getBoundsCenterZoom(o,a);return this.setView(u.center,u.zoom,a)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,a){return this.setView(o,this._zoom,{pan:a})},panBy:function(o,a){if(a=a||{},!(o=ye(o).round()).x&&!o.y)return this.fire("moveend");if(!0!==a.animate&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new ha,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),a.noMoveStart||this.fire("movestart"),!1!==a.animate){F(this._mapPane,"leaflet-pan-anim");var u=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,u,a.duration||.25,a.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,a,u){if(!1===(u=u||{}).animate||!bt)return this.setView(o,a,u);this._stop();var h=this.project(this.getCenter()),g=this.project(o),y=this.getSize(),C=this._zoom;o=Ie(o),a=void 0===a?C:a;var T=Math.max(y.x,y.y),x=T*this.getZoomScale(C,a),k=g.distanceTo(h)||1,j=1.42,$=j*j;function ie($e){var Jr=(x*x-T*T+($e?-1:1)*$*$*k*k)/(2*($e?x:T)*$*k),Ma=Math.sqrt(Jr*Jr+1)-Jr;return Ma<1e-9?-18:Math.log(Ma)}function vn($e){return(Math.exp($e)-Math.exp(-$e))/2}function wn($e){return(Math.exp($e)+Math.exp(-$e))/2}var ze=ie(0);function qr($e){return T*(wn(ze)*function Dn($e){return vn($e)/wn($e)}(ze+j*$e)-vn(ze))/$}var Vn=Date.now(),Yr=(ie(1)-ze)/j,Kr=u.duration?1e3*u.duration:1e3*Yr*.8;return this._moveStart(!0,u.noMoveStart),function K(){var $e=(Date.now()-Vn)/Kr,Bo=function gu($e){return 1-Math.pow(1-$e,1.5)}($e)*Yr;$e<=1?(this._flyToFrame=st(K,this),this._move(this.unproject(h.add(g.subtract(h).multiplyBy(qr(Bo)/k)),C),this.getScaleZoom(T/function Fo($e){return T*(wn(ze)/wn(ze+j*$e))}(Bo),C),{flyTo:!0})):this._move(o,a)._moveEnd(!0)}.call(this),this},flyToBounds:function(o,a){var u=this._getBoundsCenterZoom(o,a);return this.flyTo(u.center,u.zoom,a)},setMaxBounds:function(o){return(o=Oe(o)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(o){var a=this.options.minZoom;return this.options.minZoom=o,this._loaded&&a!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var a=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&a!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,a){this._enforcingBounds=!0;var u=this.getCenter(),h=this._limitCenter(u,this._zoom,Oe(o));return u.equals(h)||this.panTo(h,a),this._enforcingBounds=!1,this},panInside:function(o,a){var u=ye((a=a||{}).paddingTopLeft||a.padding||[0,0]),h=ye(a.paddingBottomRight||a.padding||[0,0]),g=this.getCenter(),y=this.project(g),C=this.project(o),T=this.getPixelBounds(),x=T.getSize().divideBy(2),k=St([T.min.add(u),T.max.subtract(h)]);if(!k.contains(C)){this._enforcingBounds=!0;var j=y.subtract(C),$=ye(C.x+j.x,C.y+j.y);(C.x<k.min.x||C.x>k.max.x)&&($.x=y.x-j.x,j.x>0?$.x+=x.x-u.x:$.x-=x.x-h.x),(C.y<k.min.y||C.y>k.max.y)&&($.y=y.y-j.y,j.y>0?$.y+=x.y-u.y:$.y-=x.y-h.y),this.panTo(this.unproject($),a),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=f({animate:!1,pan:!0},!0===o?{animate:!0}:o);var a=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var u=this.getSize(),h=a.divideBy(2).round(),g=u.divideBy(2).round(),y=h.subtract(g);return y.x||y.y?(o.animate&&o.pan?this.panBy(y):(o.pan&&this._rawPanBy(y),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(w(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:a,newSize:u})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=f({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var a=w(this._handleGeolocationResponse,this),u=w(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(a,u,o):navigator.geolocation.getCurrentPosition(a,u,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){var a=o.code,u=o.message||(1===a?"permission denied":2===a?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:a,message:"Geolocation error: "+u+"."})},_handleGeolocationResponse:function(o){var h=new we(o.coords.latitude,o.coords.longitude),g=h.toBounds(2*o.coords.accuracy),y=this._locateOptions;if(y.setView){var C=this.getBoundsZoom(g);this.setView(h,y.maxZoom?Math.min(C,y.maxZoom):C)}var T={latlng:h,bounds:g,timestamp:o.timestamp};for(var x in o.coords)"number"==typeof o.coords[x]&&(T[x]=o.coords[x]);this.fire("locationfound",T)},addHandler:function(o,a){if(!a)return this;var u=this[o]=new a(this);return this._handlers.push(u),this.options[o]&&u.enable(),this},remove:function(){if(this._initEvents(!0),this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(a){this._container._leaflet_id=void 0,this._containerId=void 0}var o;for(o in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),ke(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(at(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[o].remove();for(o in this._panes)ke(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,a){var h=G("div","leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),a||this._mapPane);return o&&(this._panes[o]=h),h},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds();return new ht(this.unproject(o.getBottomLeft()),this.unproject(o.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,a,u){o=Oe(o),u=ye(u||[0,0]);var h=this.getZoom()||0,g=this.getMinZoom(),y=this.getMaxZoom(),C=o.getNorthWest(),T=o.getSouthEast(),x=this.getSize().subtract(u),k=St(this.project(T,h),this.project(C,h)).getSize(),j=bt?this.options.zoomSnap:1,$=x.x/k.x,ie=x.y/k.y,vn=a?Math.max($,ie):Math.min($,ie);return h=this.getScaleZoom(vn,h),j&&(h=Math.round(h/(j/100))*(j/100),h=a?Math.ceil(h/j)*j:Math.floor(h/j)*j),Math.max(g,Math.min(y,h))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ee(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,a){var u=this._getTopLeftPoint(o,a);return new Se(u,u.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(void 0===o?this.getZoom():o)},getPane:function(o){return"string"==typeof o?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,a){var u=this.options.crs;return a=void 0===a?this._zoom:a,u.scale(o)/u.scale(a)},getScaleZoom:function(o,a){var u=this.options.crs,h=u.zoom(o*u.scale(a=void 0===a?this._zoom:a));return isNaN(h)?1/0:h},project:function(o,a){return a=void 0===a?this._zoom:a,this.options.crs.latLngToPoint(Ie(o),a)},unproject:function(o,a){return a=void 0===a?this._zoom:a,this.options.crs.pointToLatLng(ye(o),a)},layerPointToLatLng:function(o){var a=ye(o).add(this.getPixelOrigin());return this.unproject(a)},latLngToLayerPoint:function(o){return this.project(Ie(o))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(Ie(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(Oe(o))},distance:function(o,a){return this.options.crs.distance(Ie(o),Ie(a))},containerPointToLayerPoint:function(o){return ye(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return ye(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var a=this.containerPointToLayerPoint(ye(o));return this.layerPointToLatLng(a)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Ie(o)))},mouseEventToContainerPoint:function(o){return ca(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var a=this._container=ta(o);if(!a)throw new Error("Map container not found.");if(a._leaflet_id)throw new Error("Map container is already initialized.");he(a,"scroll",this._onScroll,this),this._containerId=O(a)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&bt,F(o,"leaflet-container"+(Ut?" leaflet-touch":"")+(kn?" leaflet-retina":"")+(_i?" leaflet-oldie":"")+(Sr?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var a=ei(o,"position");"absolute"!==a&&"relative"!==a&&"fixed"!==a&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ge(this._mapPane,new ee(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(F(o.markerPane,"leaflet-zoom-hide"),F(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,a){Ge(this._mapPane,new ee(0,0));var u=!this._loaded;this._loaded=!0,a=this._limitZoom(a),this.fire("viewprereset");var h=this._zoom!==a;this._moveStart(h,!1)._move(o,a)._moveEnd(h),this.fire("viewreset"),u&&this.fire("load")},_moveStart:function(o,a){return o&&this.fire("zoomstart"),a||this.fire("movestart"),this},_move:function(o,a,u){void 0===a&&(a=this._zoom);var h=this._zoom!==a;return this._zoom=a,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),(h||u&&u.pinch)&&this.fire("zoom",u),this.fire("move",u)},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return at(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){Ge(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[O(this._container)]=this;var a=o?X:he;a(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&a(window,"resize",this._onResize,this),bt&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){at(this._resizeRequest),this._resizeRequest=st(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,a){for(var h,u=[],g="mouseout"===a||"mouseover"===a,y=o.target||o.srcElement,C=!1;y;){if((h=this._targets[O(y)])&&("click"===a||"preclick"===a)&&!o._simulated&&this._draggableMoved(h)){C=!0;break}if(h&&h.listens(a,!0)&&(g&&!ne(y,o)||(u.push(h),g))||y===this._container)break;y=y.parentNode}return!u.length&&!C&&!g&&ne(y,o)&&(u=[this]),u},_handleDOMEvent:function(o){if(this._loaded&&!Vr(o)){var a=o.type;("mousedown"===a||"keypress"===a||"keyup"===a||"keydown"===a)&&sa(o.target||o.srcElement),this._fireDOMEvent(o,a)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,a,u){if("click"===o.type){var h=f({},o);h.type="preclick",this._fireDOMEvent(h,h.type,u)}if(!o._stopped&&(u=(u||[]).concat(this._findEventTargets(o,a))).length){var g=u[0];"contextmenu"===a&&g.listens(a,!0)&&Ct(o);var y={originalEvent:o};if("keypress"!==o.type&&"keydown"!==o.type&&"keyup"!==o.type){var C=g.getLatLng&&(!g._radius||g._radius<=10);y.containerPoint=C?this.latLngToContainerPoint(g.getLatLng()):this.mouseEventToContainerPoint(o),y.layerPoint=this.containerPointToLayerPoint(y.containerPoint),y.latlng=C?g.getLatLng():this.layerPointToLatLng(y.layerPoint)}for(var T=0;T<u.length;T++)if(u[T].fire(a,y,!0),y.originalEvent._stopped||!1===u[T].options.bubblingMouseEvents&&-1!==Ai(this._mouseEvents,a))return}},_draggableMoved:function(o){return(o=o.dragging&&o.dragging.enabled()?o:this).dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,a=this._handlers.length;o<a;o++)this._handlers[o].disable()},whenReady:function(o,a){return this._loaded?o.call(a||this,{target:this}):this.on("load",o,a),this},_getMapPanePos:function(){return ni(this._mapPane)||new ee(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,a){return(o&&void 0!==a?this._getNewPixelOrigin(o,a):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,a){var u=this.getSize()._divideBy(2);return this.project(o,a)._subtract(u)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,a,u){var h=this._getNewPixelOrigin(u,a);return this.project(o,a)._subtract(h)},_latLngBoundsToNewLayerBounds:function(o,a,u){var h=this._getNewPixelOrigin(u,a);return St([this.project(o.getSouthWest(),a)._subtract(h),this.project(o.getNorthWest(),a)._subtract(h),this.project(o.getSouthEast(),a)._subtract(h),this.project(o.getNorthEast(),a)._subtract(h)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,a,u){if(!u)return o;var h=this.project(o,a),g=this.getSize().divideBy(2),y=new Se(h.subtract(g),h.add(g)),C=this._getBoundsOffset(y,u,a);return C.round().equals([0,0])?o:this.unproject(h.add(C),a)},_limitOffset:function(o,a){if(!a)return o;var u=this.getPixelBounds(),h=new Se(u.min.add(o),u.max.add(o));return o.add(this._getBoundsOffset(h,a))},_getBoundsOffset:function(o,a,u){var h=St(this.project(a.getNorthEast(),u),this.project(a.getSouthWest(),u)),g=h.min.subtract(o.min),y=h.max.subtract(o.max);return new ee(this._rebound(g.x,-y.x),this._rebound(g.y,-y.y))},_rebound:function(o,a){return o+a>0?Math.round(o-a)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(a))},_limitZoom:function(o){var a=this.getMinZoom(),u=this.getMaxZoom(),h=bt?this.options.zoomSnap:1;return h&&(o=Math.round(o/h)*h),Math.max(a,Math.min(u,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Fe(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,a){var u=this._getCenterOffset(o)._trunc();return!(!0!==(a&&a.animate)&&!this.getSize().contains(u)||(this.panBy(u,a),0))},_createAnimProxy:function(){var o=this._proxy=G("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(a){var u=Vi,h=this._proxy.style[u];ti(this._proxy,this.project(a.center,a.zoom),this.getZoomScale(a.zoom,1)),h===this._proxy.style[u]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ke(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),a=this.getZoom();ti(this._proxy,this.project(o,a),this.getZoomScale(a,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,a,u){if(this._animatingZoom)return!0;if(u=u||{},!this._zoomAnimated||!1===u.animate||this._nothingToAnimate()||Math.abs(a-this._zoom)>this.options.zoomAnimationThreshold)return!1;var h=this.getZoomScale(a),g=this._getCenterOffset(o)._divideBy(1-1/h);return!(!0!==u.animate&&!this.getSize().contains(g)||(st(function(){this._moveStart(!0,!1)._animateZoom(o,a,!0)},this),0))},_animateZoom:function(o,a,u,h){!this._mapPane||(u&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=a,F(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:a,noUpdate:h}),setTimeout(w(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){!this._animatingZoom||(this._mapPane&&Fe(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),st(function(){this._moveEnd(!0)},this))}});var en=Sn.extend({options:{position:"topright"},initialize:function(o){Re(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var a=this._map;return a&&a.removeControl(this),this.options.position=o,a&&a.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var a=this._container=this.onAdd(o),u=this.getPosition(),h=o._controlCorners[u];return F(a,"leaflet-control"),-1!==u.indexOf("bottom")?h.insertBefore(a,h.firstChild):h.appendChild(a),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ke(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),kt=function(o){return new en(o)};ae.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},a="leaflet-",u=this._controlContainer=G("div",a+"control-container",this._container);function h(g,y){o[g+y]=G("div",a+g+" "+a+y,u)}h("top","left"),h("top","right"),h("bottom","left"),h("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)ke(this._controlCorners[o]);ke(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ot=en.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,a,u,h){return u<h?-1:h<u?1:0}},initialize:function(o,a,u){for(var h in Re(this,u),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,o)this._addLayer(o[h],h);for(h in a)this._addLayer(a[h],h,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return en.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,a){return this._addLayer(o,a),this._map?this._update():this},addOverlay:function(o,a){return this._addLayer(o,a,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var a=this._getLayer(O(o));return a&&this._layers.splice(this._layers.indexOf(a),1),this._map?this._update():this},expand:function(){F(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(F(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):Fe(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Fe(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",a=this._container=G("div",o),u=this.options.collapsed;a.setAttribute("aria-haspopup",!0),ii(a),Xt(a);var h=this._section=G("section",o+"-list");u&&(this._map.on("click",this.collapse,this),vo||he(a,{mouseenter:this.expand,mouseleave:this.collapse},this));var g=this._layersLink=G("a",o+"-toggle",a);g.href="#",g.title="Layers",Ut?(he(g,"click",gn),he(g,"click",this.expand,this)):he(g,"focus",this.expand,this),u||this.expand(),this._baseLayersList=G("div",o+"-base",h),this._separator=G("div",o+"-separator",h),this._overlaysList=G("div",o+"-overlays",h),a.appendChild(h)},_getLayer:function(o){for(var a=0;a<this._layers.length;a++)if(this._layers[a]&&O(this._layers[a].layer)===o)return this._layers[a]},_addLayer:function(o,a,u){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:a,overlay:u}),this.options.sortLayers&&this._layers.sort(w(function(h,g){return this.options.sortFunction(h.layer,g.layer,h.name,g.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;De(this._baseLayersList),De(this._overlaysList),this._layerControlInputs=[];var o,a,u,h,g=0;for(u=0;u<this._layers.length;u++)this._addItem(h=this._layers[u]),a=a||h.overlay,o=o||!h.overlay,g+=h.overlay?0:1;return this.options.hideSingleBase&&(this._baseLayersList.style.display=(o=o&&g>1)?"":"none"),this._separator.style.display=a&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var a=this._getLayer(O(o.target)),u=a.overlay?"add"===o.type?"overlayadd":"overlayremove":"add"===o.type?"baselayerchange":null;u&&this._map.fire(u,a)},_createRadioElement:function(o,a){var u='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(a?' checked="checked"':"")+"/>",h=document.createElement("div");return h.innerHTML=u,h.firstChild},_addItem:function(o){var h,a=document.createElement("label"),u=this._map.hasLayer(o.layer);o.overlay?((h=document.createElement("input")).type="checkbox",h.className="leaflet-control-layers-selector",h.defaultChecked=u):h=this._createRadioElement("leaflet-base-layers_"+O(this),u),this._layerControlInputs.push(h),h.layerId=O(o.layer),he(h,"click",this._onInputClick,this);var g=document.createElement("span");g.innerHTML=" "+o.name;var y=document.createElement("div");return a.appendChild(y),y.appendChild(h),y.appendChild(g),(o.overlay?this._overlaysList:this._baseLayersList).appendChild(a),this._checkDisabledLayers(),a},_onInputClick:function(){var a,u,o=this._layerControlInputs,h=[],g=[];this._handlingClick=!0;for(var y=o.length-1;y>=0;y--)u=this._getLayer((a=o[y]).layerId).layer,a.checked?h.push(u):a.checked||g.push(u);for(y=0;y<g.length;y++)this._map.hasLayer(g[y])&&this._map.removeLayer(g[y]);for(y=0;y<h.length;y++)this._map.hasLayer(h[y])||this._map.addLayer(h[y]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var a,u,o=this._layerControlInputs,h=this._map.getZoom(),g=o.length-1;g>=0;g--)u=this._getLayer((a=o[g]).layerId).layer,a.disabled=void 0!==u.options.minZoom&&h<u.options.minZoom||void 0!==u.options.maxZoom&&h>u.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),pa=en.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(o){var a="leaflet-control-zoom",u=G("div",a+" leaflet-bar"),h=this.options;return this._zoomInButton=this._createButton(h.zoomInText,h.zoomInTitle,a+"-in",u,this._zoomIn),this._zoomOutButton=this._createButton(h.zoomOutText,h.zoomOutTitle,a+"-out",u,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),u},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,a,u,h,g){var y=G("a",u,h);return y.innerHTML=o,y.href="#",y.title=a,y.setAttribute("role","button"),y.setAttribute("aria-label",a),ii(y),he(y,"click",gn),he(y,"click",g,this),he(y,"click",this._refocusOnMap,this),y},_updateDisabled:function(){var o=this._map,a="leaflet-disabled";Fe(this._zoomInButton,a),Fe(this._zoomOutButton,a),(this._disabled||o._zoom===o.getMinZoom())&&F(this._zoomOutButton,a),(this._disabled||o._zoom===o.getMaxZoom())&&F(this._zoomInButton,a)}});ae.mergeOptions({zoomControl:!0}),ae.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new pa,this.addControl(this.zoomControl))});var ga=en.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var a="leaflet-control-scale",u=G("div",a),h=this.options;return this._addScales(h,a+"-line",u),o.on(h.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),u},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,a,u){o.metric&&(this._mScale=G("div",a,u)),o.imperial&&(this._iScale=G("div",a,u))},_update:function(){var o=this._map,a=o.getSize().y/2,u=o.distance(o.containerPointToLatLng([0,a]),o.containerPointToLatLng([this.options.maxWidth,a]));this._updateScales(u)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var a=this._getRoundNum(o);this._updateScale(this._mScale,a<1e3?a+" m":a/1e3+" km",a/o)},_updateImperial:function(o){var u,h,g,a=3.2808399*o;a>5280?(h=this._getRoundNum(u=a/5280),this._updateScale(this._iScale,h+" mi",h/u)):(g=this._getRoundNum(a),this._updateScale(this._iScale,g+" ft",g/a))},_updateScale:function(o,a,u){o.style.width=Math.round(this.options.maxWidth*u)+"px",o.innerHTML=a},_getRoundNum:function(o){var a=Math.pow(10,(Math.floor(o)+"").length-1),u=o/a;return a*(u>=10?10:u>=5?5:u>=3?3:u>=2?2:1)}}),jr=en.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(o){Re(this,o),this._attributions={}},onAdd:function(o){for(var a in o.attributionControl=this,this._container=G("div","leaflet-control-attribution"),ii(this._container),o._layers)o._layers[a].getAttribution&&this.addAttribution(o._layers[a].getAttribution());return this._update(),this._container},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var a in this._attributions)this._attributions[a]&&o.push(a);var u=[];this.options.prefix&&u.push(this.options.prefix),o.length&&u.push(o.join(", ")),this._container.innerHTML=u.join(" | ")}}});ae.mergeOptions({attributionControl:!0}),ae.addInitHook(function(){this.options.attributionControl&&(new jr).addTo(this)});en.Layers=Ot,en.Zoom=pa,en.Scale=ga,en.Attribution=jr,kt.layers=function(o,a,u){return new Ot(o,a,u)},kt.zoom=function(o){return new pa(o)},kt.scale=function(o){return new ga(o)},kt.attribution=function(o){return new jr(o)};var ce=Sn.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ce.addTo=function(o,a){return o.addHandler(a,this),this};var bi,lh={Events:Pe},ru=Ut?"touchstart mousedown":"mousedown",oi={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},Le={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},nn=mi.extend({options:{clickTolerance:3},initialize:function(o,a,u,h){Re(this,h),this._element=o,this._dragStartTarget=a||o,this._preventOutline=u},enable:function(){this._enabled||(he(this._dragStartTarget,ru,this._onDown,this),this._enabled=!0)},disable:function(){!this._enabled||(nn._dragging===this&&this.finishDrag(),X(this._dragStartTarget,ru,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(!o._simulated&&this._enabled&&(this._moved=!1,!ji(this._element,"leaflet-zoom-anim")&&!(nn._dragging||o.shiftKey||1!==o.which&&1!==o.button&&!o.touches)&&(nn._dragging=this,this._preventOutline&&sa(this._element),oa(),Nn(),!this._moving))){this.fire("down");var a=o.touches?o.touches[0]:o,u=aa(this._element);this._startPoint=new ee(a.clientX,a.clientY),this._parentScale=la(u),he(document,Le[o.type],this._onMove,this),he(document,oi[o.type],this._onUp,this)}},_onMove:function(o){if(!o._simulated&&this._enabled){if(o.touches&&o.touches.length>1)return void(this._moved=!0);var a=o.touches&&1===o.touches.length?o.touches[0]:o,u=new ee(a.clientX,a.clientY)._subtract(this._startPoint);!u.x&&!u.y||Math.abs(u.x)+Math.abs(u.y)<this.options.clickTolerance||(u.x/=this._parentScale.x,u.y/=this._parentScale.y,Ct(o),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=ni(this._element).subtract(u),F(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),F(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(u),this._moving=!0,at(this._animRequest),this._lastEvent=o,this._animRequest=st(this._updatePosition,this,!0))}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),Ge(this._element,this._newPos),this.fire("drag",o)},_onUp:function(o){o._simulated||!this._enabled||this.finishDrag()},finishDrag:function(){for(var o in Fe(document.body,"leaflet-dragging"),this._lastTarget&&(Fe(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Le)X(document,Le[o],this._onMove,this),X(document,oi[o],this._onUp,this);Zt(),et(),this._moved&&this._moving&&(at(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,nn._dragging=!1}});function To(o,a){if(!a||!o.length)return o.slice();var u=a*a;return function mn(o,a){var u=o.length,g=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(u);g[0]=g[u-1]=1,ri(o,g,a,0,u-1);var y,C=[];for(y=0;y<u;y++)g[y]&&C.push(o[y]);return C}(o=function su(o,a){for(var u=[o[0]],h=1,g=0,y=o.length;h<y;h++)ya(o[h],o[g])>a&&(u.push(o[h]),g=h);return g<y-1&&u.push(o[y-1]),u}(o,u),u)}function xo(o,a,u){return Math.sqrt(Gt(o,a,u,!0))}function ri(o,a,u,h,g){var C,T,x,y=0;for(T=h+1;T<=g-1;T++)(x=Gt(o[T],o[h],o[g],!0))>y&&(C=T,y=x);y>u&&(a[C]=1,ri(o,a,u,h,C),ri(o,a,u,C,g))}function _a(o,a,u,h,g){var T,x,k,y=h?bi:Rn(o,u),C=Rn(a,u);for(bi=C;;){if(!(y|C))return[o,a];if(y&C)return!1;k=Rn(x=$i(o,a,T=y||C,u,g),u),T===y?(o=x,y=k):(a=x,C=k)}}function $i(o,a,u,h,g){var k,j,y=a.x-o.x,C=a.y-o.y,T=h.min,x=h.max;return 8&u?(k=o.x+y*(x.y-o.y)/C,j=x.y):4&u?(k=o.x+y*(T.y-o.y)/C,j=T.y):2&u?(k=x.x,j=o.y+C*(x.x-o.x)/y):1&u&&(k=T.x,j=o.y+C*(T.x-o.x)/y),new ee(k,j,g)}function Rn(o,a){var u=0;return o.x<a.min.x?u|=1:o.x>a.max.x&&(u|=2),o.y<a.min.y?u|=4:o.y>a.max.y&&(u|=8),u}function ya(o,a){var u=a.x-o.x,h=a.y-o.y;return u*u+h*h}function Gt(o,a,u,h){var k,g=a.x,y=a.y,C=u.x-g,T=u.y-y,x=C*C+T*T;return x>0&&((k=((o.x-g)*C+(o.y-y)*T)/x)>1?(g=u.x,y=u.y):k>0&&(g+=C*k,y+=T*k)),C=o.x-g,T=o.y-y,h?C*C+T*T:new ee(g,y)}function _n(o){return!rt(o[0])||"object"!=typeof o[0][0]&&void 0!==o[0][0]}function Ur(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),_n(o)}var At={simplify:To,pointToSegmentDistance:xo,closestPointOnSegment:function ma(o,a,u){return Gt(o,a,u)},clipSegment:_a,_getEdgeIntersection:$i,_getBitCode:Rn,_sqClosestPointOnSegment:Gt,isFlat:_n,_flat:Ur};function ct(o,a,u){var h,y,C,T,x,k,j,$,ie,g=[1,4,2,8];for(y=0,j=o.length;y<j;y++)o[y]._code=Rn(o[y],a);for(T=0;T<4;T++){for($=g[T],h=[],y=0,C=(j=o.length)-1;y<j;C=y++)k=o[C],(x=o[y])._code&$?k._code&$||((ie=$i(k,x,$,a,u))._code=Rn(ie,a),h.push(ie)):(k._code&$&&((ie=$i(k,x,$,a,u))._code=Rn(ie,a),h.push(ie)),h.push(x));o=h}return o}var lt={clipPolygon:ct},on={project:function(o){return new ee(o.lng,o.lat)},unproject:function(o){return new we(o.y,o.x)},bounds:new Se([-180,-90],[180,90])},yn={R:6378137,R_MINOR:6356752.314245179,bounds:new Se([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(o){var a=Math.PI/180,u=this.R,h=o.lat*a,g=this.R_MINOR/u,y=Math.sqrt(1-g*g),C=y*Math.sin(h),T=Math.tan(Math.PI/4-h/2)/Math.pow((1-C)/(1+C),y/2);return h=-u*Math.log(Math.max(T,1e-10)),new ee(o.lng*a*u,h)},unproject:function(o){for(var k,a=180/Math.PI,u=this.R,h=this.R_MINOR/u,g=Math.sqrt(1-h*h),y=Math.exp(-o.y/u),C=Math.PI/2-2*Math.atan(y),T=0,x=.1;T<15&&Math.abs(x)>1e-7;T++)k=g*Math.sin(C),k=Math.pow((1-k)/(1+k),g/2),C+=x=Math.PI/2-2*Math.atan(y*k)-C;return new we(C*a,o.x*a/u)}},Nt={LonLat:on,Mercator:yn,SphericalMercator:Zs},Po=f({},Kn,{code:"EPSG:3395",projection:yn,transformation:function(){var o=.5/(Math.PI*yn.R);return yo(o,.5,-o,.5)}()}),Io=f({},Kn,{code:"EPSG:4326",projection:on,transformation:yo(1/180,1,-1/180,.5)}),Wi=f({},Vt,{projection:on,transformation:yo(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,a){var u=a.lng-o.lng,h=a.lat-o.lat;return Math.sqrt(u*u+h*h)},infinite:!0});Vt.Earth=Kn,Vt.EPSG3395=Po,Vt.EPSG3857=$s,Vt.EPSG900913=zl,Vt.EPSG4326=Io,Vt.Simple=Wi;var pt=mi.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[O(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[O(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var a=o.target;if(a.hasLayer(this)){if(this._map=a,this._zoomAnimated=a._zoomAnimated,this.getEvents){var u=this.getEvents();a.on(u,this),this.once("remove",function(){a.off(u,this)},this)}this.onAdd(a),this.getAttribution&&a.attributionControl&&a.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),a.fire("layeradd",{layer:this})}}});ae.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var a=O(o);return this._layers[a]||(this._layers[a]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o)),this},removeLayer:function(o){var a=O(o);return this._layers[a]?(this._loaded&&o.onRemove(this),o.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(o.getAttribution()),delete this._layers[a],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return!!o&&O(o)in this._layers},eachLayer:function(o,a){for(var u in this._layers)o.call(a,this._layers[u]);return this},_addLayers:function(o){for(var a=0,u=(o=o?rt(o)?o:[o]:[]).length;a<u;a++)this.addLayer(o[a])},_addZoomLimit:function(o){(isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[O(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var a=O(o);this._zoomBoundLayers[a]&&(delete this._zoomBoundLayers[a],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,a=-1/0,u=this._getZoomSpan();for(var h in this._zoomBoundLayers){var g=this._zoomBoundLayers[h].options;o=void 0===g.minZoom?o:Math.min(o,g.minZoom),a=void 0===g.maxZoom?a:Math.max(a,g.maxZoom)}this._layersMaxZoom=a===-1/0?void 0:a,this._layersMinZoom=o===1/0?void 0:o,u!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Rt=pt.extend({initialize:function(o,a){var u,h;if(Re(this,a),this._layers={},o)for(u=0,h=o.length;u<h;u++)this.addLayer(o[u])},addLayer:function(o){var a=this.getLayerId(o);return this._layers[a]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var a=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[a]&&this._map.removeLayer(this._layers[a]),delete this._layers[a],this},hasLayer:function(o){return!!o&&("number"==typeof o?o:this.getLayerId(o))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var u,h,a=Array.prototype.slice.call(arguments,1);for(u in this._layers)(h=this._layers[u])[o]&&h[o].apply(h,a);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,a){for(var u in this._layers)o.call(a,this._layers[u]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return O(o)}}),Ci=Rt.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),Rt.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),Rt.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new ht;for(var a in this._layers){var u=this._layers[a];o.extend(u.getBounds?u.getBounds():u.getLatLng())}return o}}),H=Sn.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(o){Re(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,a){var u=this._getIconUrl(o);if(!u){if("icon"===o)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var h=this._createImg(u,a&&"IMG"===a.tagName?a:null);return this._setIconStyles(h,o),h},_setIconStyles:function(o,a){var u=this.options,h=u[a+"Size"];"number"==typeof h&&(h=[h,h]);var g=ye(h),y=ye("shadow"===a&&u.shadowAnchor||u.iconAnchor||g&&g.divideBy(2,!0));o.className="leaflet-marker-"+a+" "+(u.className||""),y&&(o.style.marginLeft=-y.x+"px",o.style.marginTop=-y.y+"px"),g&&(o.style.width=g.x+"px",o.style.height=g.y+"px")},_createImg:function(o,a){return(a=a||document.createElement("img")).src=o,a},_getIconUrl:function(o){return kn&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});var xe=H.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return xe.imagePath||(xe.imagePath=this._detectIconPath()),(this.options.imagePath||xe.imagePath)+H.prototype._getIconUrl.call(this,o)},_detectIconPath:function(){var o=G("div","leaflet-default-icon-path",document.body),a=ei(o,"background-image")||ei(o,"backgroundImage");return document.body.removeChild(o),null===a||0!==a.indexOf("url")?"":a.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,"")}}),gt=ce.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new nn(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),F(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Fe(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var a=this._marker,u=a._map,h=this._marker.options.autoPanSpeed,g=this._marker.options.autoPanPadding,y=ni(a._icon),C=u.getPixelBounds(),T=u.getPixelOrigin(),x=St(C.min._subtract(T).add(g),C.max._subtract(T).subtract(g));if(!x.contains(y)){var k=ye((Math.max(x.max.x,y.x)-x.max.x)/(C.max.x-x.max.x)-(Math.min(x.min.x,y.x)-x.min.x)/(C.min.x-x.min.x),(Math.max(x.max.y,y.y)-x.max.y)/(C.max.y-x.max.y)-(Math.min(x.min.y,y.y)-x.min.y)/(C.min.y-x.min.y)).multiplyBy(h);u.panBy(k,{animate:!1}),this._draggable._newPos._add(k),this._draggable._startPos._add(k),Ge(a._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=st(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&(at(this._panRequest),this._panRequest=st(this._adjustPan.bind(this,o)))},_onDrag:function(o){var a=this._marker,u=a._shadow,h=ni(a._icon),g=a._map.layerPointToLatLng(h);u&&Ge(u,h),a._latlng=g,o.latlng=g,o.oldLatLng=this._oldLatLng,a.fire("move",o).fire("drag",o)},_onDragEnd:function(o){at(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),rn=pt.extend({options:{icon:new xe,interactive:!0,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,a){Re(this,a),this._latlng=Ie(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var a=this._latlng;return this._latlng=Ie(o),this.update(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,a="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),u=o.icon.createIcon(this._icon),h=!1;u!==this._icon&&(this._icon&&this._removeIcon(),h=!0,o.title&&(u.title=o.title),"IMG"===u.tagName&&(u.alt=o.alt||"")),F(u,a),o.keyboard&&(u.tabIndex="0"),this._icon=u,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var g=o.icon.createShadow(this._shadow),y=!1;g!==this._shadow&&(this._removeShadow(),y=!0),g&&(F(g,a),g.alt=""),this._shadow=g,o.opacity<1&&this._updateOpacity(),h&&this.getPane().appendChild(this._icon),this._initInteraction(),g&&y&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),ke(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ke(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&Ge(this._icon,o),this._shadow&&Ge(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var a=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(a)},_initInteraction:function(){if(this.options.interactive&&(F(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),gt)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new gt(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&ft(this._icon,o),this._shadow&&ft(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});var mt=pt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return Re(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),Ae=mt.extend({options:{fill:!0,radius:10},initialize:function(o,a){Re(this,a),this._latlng=Ie(o),this._radius=this.options.radius},setLatLng:function(o){var a=this._latlng;return this._latlng=Ie(o),this.redraw(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var a=o&&o.radius||this._radius;return mt.prototype.setStyle.call(this,o),this.setRadius(a),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,a=this._radiusY||o,u=this._clickTolerance(),h=[o+u,a+u];this._pxBounds=new Se(this._point.subtract(h),this._point.add(h))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});var Fn=Ae.extend({initialize:function(o,a,u){if("number"==typeof a&&(a=f({},u,{radius:a})),Re(this,a),this._latlng=Ie(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new ht(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:mt.prototype.setStyle,_project:function(){var o=this._latlng.lng,a=this._latlng.lat,u=this._map,h=u.options.crs;if(h.distance===Kn.distance){var g=Math.PI/180,y=this._mRadius/Kn.R/g,C=u.project([a+y,o]),T=u.project([a-y,o]),x=C.add(T).divideBy(2),k=u.unproject(x).lat,j=Math.acos((Math.cos(y*g)-Math.sin(a*g)*Math.sin(k*g))/(Math.cos(a*g)*Math.cos(k*g)))/g;(isNaN(j)||0===j)&&(j=y/Math.cos(Math.PI/180*a)),this._point=x.subtract(u.getPixelOrigin()),this._radius=isNaN(j)?0:x.x-u.project([k,o-j]).x,this._radiusY=x.y-C.y}else{var $=h.unproject(h.project(this._latlng).subtract([this._mRadius,0]));this._point=u.latLngToLayerPoint(this._latlng),this._radius=this._point.x-u.latLngToLayerPoint($).x}this._updateBounds()}});var Bt=mt.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,a){Re(this,a),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var g,y,a=1/0,u=null,h=Gt,C=0,T=this._parts.length;C<T;C++)for(var x=this._parts[C],k=1,j=x.length;k<j;k++){var $=h(o,g=x[k-1],y=x[k],!0);$<a&&(a=$,u=h(o,g,y))}return u&&(u.distance=Math.sqrt(a)),u},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var o,a,u,h,g,y,C,T=this._rings[0],x=T.length;if(!x)return null;for(o=0,a=0;o<x-1;o++)a+=T[o].distanceTo(T[o+1])/2;if(0===a)return this._map.layerPointToLatLng(T[0]);for(o=0,h=0;o<x-1;o++)if((h+=u=(g=T[o]).distanceTo(y=T[o+1]))>a)return this._map.layerPointToLatLng([y.x-(C=(h-a)/u)*(y.x-g.x),y.y-C*(y.y-g.y)])},getBounds:function(){return this._bounds},addLatLng:function(o,a){return a=a||this._defaultShape(),o=Ie(o),a.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new ht,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return _n(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var a=[],u=_n(o),h=0,g=o.length;h<g;h++)u?(a[h]=Ie(o[h]),this._bounds.extend(a[h])):a[h]=this._convertLatLngs(o[h]);return a},_project:function(){var o=new Se;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),a=new ee(o,o);this._pxBounds=new Se([this._rawPxBounds.min.subtract(a),this._rawPxBounds.max.add(a)])},_projectLatlngs:function(o,a,u){var y,C,g=o.length;if(o[0]instanceof we){for(C=[],y=0;y<g;y++)C[y]=this._map.latLngToLayerPoint(o[y]),u.extend(C[y]);a.push(C)}else for(y=0;y<g;y++)this._projectLatlngs(o[y],a,u)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(o)){if(this.options.noClip)return void(this._parts=this._rings);var u,h,g,y,C,T,x,a=this._parts;for(u=0,g=0,y=this._rings.length;u<y;u++)for(h=0,C=(x=this._rings[u]).length;h<C-1;h++)(T=_a(x[h],x[h+1],o,h,!0))&&(a[g]=a[g]||[],a[g].push(T[0]),(T[1]!==x[h+1]||h===C-2)&&(a[g].push(T[1]),g++))}},_simplifyPoints:function(){for(var o=this._parts,a=this.options.smoothFactor,u=0,h=o.length;u<h;u++)o[u]=To(o[u],a)},_update:function(){!this._map||(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,a){var u,h,g,y,C,T,x=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(u=0,y=this._parts.length;u<y;u++)for(h=0,g=(C=(T=this._parts[u]).length)-1;h<C;g=h++)if((a||0!==h)&&xo(o,T[g],T[h])<=x)return!0;return!1}});Bt._flat=Ur;var Bn=Bt.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var o,a,u,h,g,y,C,T,k=this._rings[0],j=k.length;if(!j)return null;for(y=C=T=0,o=0,a=j-1;o<j;a=o++)C+=((u=k[o]).x+(h=k[a]).x)*(g=u.y*h.x-h.y*u.x),T+=(u.y+h.y)*g,y+=3*g;return this._map.layerPointToLatLng(0===y?k[0]:[C/y,T/y])},_convertLatLngs:function(o){var a=Bt.prototype._convertLatLngs.call(this,o),u=a.length;return u>=2&&a[0]instanceof we&&a[0].equals(a[u-1])&&a.pop(),a},_setLatLngs:function(o){Bt.prototype._setLatLngs.call(this,o),_n(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return _n(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,a=this.options.weight,u=new ee(a,a);if(o=new Se(o.min.subtract(u),o.max.add(u)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(o)){if(this.options.noClip)return void(this._parts=this._rings);for(var y,h=0,g=this._rings.length;h<g;h++)(y=ct(this._rings[h],o,!0)).length&&this._parts.push(y)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var u,h,g,y,C,T,x,k,a=!1;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(y=0,x=this._parts.length;y<x;y++)for(C=0,T=(k=(u=this._parts[y]).length)-1;C<k;T=C++)(h=u[C]).y>o.y!=(g=u[T]).y>o.y&&o.x<(g.x-h.x)*(o.y-h.y)/(g.y-h.y)+h.x&&(a=!a);return a||Bt.prototype._containsPoint.call(this,o,!0)}});var He=Ci.extend({initialize:function(o,a){Re(this,a),this._layers={},o&&this.addData(o)},addData:function(o){var u,h,g,a=rt(o)?o:o.features;if(a){for(u=0,h=a.length;u<h;u++)((g=a[u]).geometries||g.geometry||g.features||g.coordinates)&&this.addData(g);return this}var y=this.options;if(y.filter&&!y.filter(o))return this;var C=si(o,y);return C?(C.feature=_t(o),C.defaultOptions=C.options,this.resetStyle(C),y.onEachFeature&&y.onEachFeature(o,C),this.addLayer(C)):this},resetStyle:function(o){return void 0===o?this.eachLayer(this.resetStyle,this):(o.options=f({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(a){this._setLayerStyle(a,o)},this)},_setLayerStyle:function(o,a){o.setStyle&&("function"==typeof a&&(a=a(o.feature)),o.setStyle(a))}});function si(o,a){var T,x,k,j,u="Feature"===o.type?o.geometry:o,h=u?u.coordinates:null,g=[],y=a&&a.pointToLayer,C=a&&a.coordsToLatLng||Et;if(!h&&!u)return null;switch(u.type){case"Point":return ai(y,o,T=C(h),a);case"MultiPoint":for(k=0,j=h.length;k<j;k++)T=C(h[k]),g.push(ai(y,o,T,a));return new Ci(g);case"LineString":case"MultiLineString":return x=Te(h,"LineString"===u.type?0:1,C),new Bt(x,a);case"Polygon":case"MultiPolygon":return x=Te(h,"Polygon"===u.type?1:2,C),new Bn(x,a);case"GeometryCollection":for(k=0,j=u.geometries.length;k<j;k++){var $=si({geometry:u.geometries[k],type:"Feature",properties:o.properties},a);$&&g.push($)}return new Ci(g);default:throw new Error("Invalid GeoJSON object.")}}function ai(o,a,u,h){return o?o(a,u):new rn(u,h&&h.markersInheritOptions&&h)}function Et(o){return new we(o[1],o[0],o[2])}function Te(o,a,u){for(var C,h=[],g=0,y=o.length;g<y;g++)C=a?Te(o[g],a-1,u):(u||Et)(o[g]),h.push(C);return h}function Zr(o,a){return a="number"==typeof a?a:6,void 0!==o.alt?[ve(o.lng,a),ve(o.lat,a),ve(o.alt,a)]:[ve(o.lng,a),ve(o.lat,a)]}function So(o,a,u,h){for(var g=[],y=0,C=o.length;y<C;y++)g.push(a?So(o[y],a-1,u,h):Zr(o[y],h));return!a&&u&&g.push(g[0]),g}function dt(o,a){return o.feature?f({},o.feature,{geometry:a}):_t(a)}function _t(o){return"Feature"===o.type||"FeatureCollection"===o.type?o:{type:"Feature",properties:{},geometry:o}}var Yi={toGeoJSON:function(o){return dt(this,{type:"Point",coordinates:Zr(this.getLatLng(),o)})}};function Ki(o,a){return new He(o,a)}rn.include(Yi),Fn.include(Yi),Ae.include(Yi),Bt.include({toGeoJSON:function(o){var a=!_n(this._latlngs);return dt(this,{type:(a?"Multi":"")+"LineString",coordinates:So(this._latlngs,a?1:0,!1,o)})}}),Bn.include({toGeoJSON:function(o){var a=!_n(this._latlngs),u=a&&!_n(this._latlngs[0]),h=So(this._latlngs,u?2:a?1:0,!0,o);return a||(h=[h]),dt(this,{type:(u?"Multi":"")+"Polygon",coordinates:h})}}),Rt.include({toMultiPoint:function(o){var a=[];return this.eachLayer(function(u){a.push(u.toGeoJSON(o).geometry.coordinates)}),dt(this,{type:"MultiPoint",coordinates:a})},toGeoJSON:function(o){var a=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===a)return this.toMultiPoint(o);var u="GeometryCollection"===a,h=[];return this.eachLayer(function(g){if(g.toGeoJSON){var y=g.toGeoJSON(o);if(u)h.push(y.geometry);else{var C=_t(y);"FeatureCollection"===C.type?h.push.apply(h,C.features):h.push(C)}}}),u?dt(this,{geometries:h,type:"GeometryCollection"}):{type:"FeatureCollection",features:h}}});var ko=Ki,yt=pt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,a,u){this._url=o,this._bounds=Oe(a),Re(this,u)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(F(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ke(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&An(this._image),this},bringToBack:function(){return this._map&&wi(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=Oe(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o="IMG"===this._url.tagName,a=this._image=o?this._url:G("img");F(a,"leaflet-image-layer"),this._zoomAnimated&&F(a,"leaflet-zoom-animated"),this.options.className&&F(a,this.options.className),a.onselectstart=Z,a.onmousemove=Z,a.onload=w(this.fire,this,"load"),a.onerror=w(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(a.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o?this._url=a.src:(a.src=this._url,a.alt=this.options.alt)},_animateZoom:function(o){var a=this._map.getZoomScale(o.zoom),u=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;ti(this._image,u,a)},_reset:function(){var o=this._image,a=new Se(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),u=a.getSize();Ge(o,a.min),o.style.width=u.x+"px",o.style.height=u.y+"px"},_updateOpacity:function(){ft(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&null!=this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)}}),lu=yt.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1},_initImage:function(){var o="VIDEO"===this._url.tagName,a=this._image=o?this._url:G("video");if(F(a,"leaflet-image-layer"),this._zoomAnimated&&F(a,"leaflet-zoom-animated"),this.options.className&&F(a,this.options.className),a.onselectstart=Z,a.onmousemove=Z,a.onloadeddata=w(this.fire,this,"load"),o){for(var u=a.getElementsByTagName("source"),h=[],g=0;g<u.length;g++)h.push(u[g].src);this._url=u.length>0?h:[a.src]}else{rt(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(a.style,"objectFit")&&(a.style.objectFit="fill"),a.autoplay=!!this.options.autoplay,a.loop=!!this.options.loop,a.muted=!!this.options.muted;for(var y=0;y<this._url.length;y++){var C=G("source");C.src=this._url[y],a.appendChild(C)}}}});var va=yt.extend({_initImage:function(){var o=this._image=this._url;F(o,"leaflet-image-layer"),this._zoomAnimated&&F(o,"leaflet-zoom-animated"),this.options.className&&F(o,this.options.className),o.onselectstart=Z,o.onmousemove=Z}});var Hn=pt.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(o,a){Re(this,o),this._source=a},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&ft(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&ft(this._container,1),this.bringToFront()},onRemove:function(o){o._fadeAnimated?(ft(this._container,0),this._removeTimeout=setTimeout(w(ke,void 0,this._container),200)):ke(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=Ie(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){!this._map||(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&An(this._container),this},bringToBack:function(){return this._map&&wi(this._container),this},_prepareOpen:function(o,a,u){if(a instanceof pt||(u=a,a=o),a instanceof Ci)for(var h in o._layers){a=o._layers[h];break}if(!u)if(a.getCenter)u=a.getCenter();else{if(!a.getLatLng)throw new Error("Unable to get source layer LatLng.");u=a.getLatLng()}return this._source=a,this.update(),u},_updateContent:function(){if(this._content){var o=this._contentNode,a="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof a)o.innerHTML=a;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(a)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),a=ye(this.options.offset),u=this._getAnchor();this._zoomAnimated?Ge(this._container,o.add(u)):a=a.add(o).add(u);var h=this._containerBottom=-a.y,g=this._containerLeft=-Math.round(this._containerWidth/2)+a.x;this._container.style.bottom=h+"px",this._container.style.left=g+"px"}},_getAnchor:function(){return[0,0]}}),Ji=Hn.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return o.openPopup(this),this},onAdd:function(o){Hn.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof mt||this._source.on("preclick",Di))},onRemove:function(o){Hn.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof mt||this._source.off("preclick",Di))},getEvents:function(){var o=Hn.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this._close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var o="leaflet-popup",a=this._container=G("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),u=this._wrapper=G("div",o+"-content-wrapper",a);if(this._contentNode=G("div",o+"-content",u),ii(a),Xt(this._contentNode),he(a,"contextmenu",Di),this._tipContainer=G("div",o+"-tip-container",a),this._tip=G("div",o+"-tip",this._tipContainer),this.options.closeButton){var h=this._closeButton=G("a",o+"-close-button",a);h.href="#close",h.innerHTML="&#215;",he(h,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var o=this._contentNode,a=o.style;a.width="",a.whiteSpace="nowrap";var u=o.offsetWidth;u=Math.min(u,this.options.maxWidth),u=Math.max(u,this.options.minWidth),a.width=u+1+"px",a.whiteSpace="",a.height="";var g=this.options.maxHeight,y="leaflet-popup-scrolled";g&&o.offsetHeight>g?(a.height=g+"px",F(o,y)):Fe(o,y),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var a=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),u=this._getAnchor();Ge(this._container,a.add(u))},_adjustPan:function(){if(this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var o=this._map,a=parseInt(ei(this._container,"marginBottom"),10)||0,u=this._container.offsetHeight+a,h=this._containerWidth,g=new ee(this._containerLeft,-u-this._containerBottom);g._add(ni(this._container));var y=o.layerPointToContainerPoint(g),C=ye(this.options.autoPanPadding),T=ye(this.options.autoPanPaddingTopLeft||C),x=ye(this.options.autoPanPaddingBottomRight||C),k=o.getSize(),j=0,$=0;y.x+h+x.x>k.x&&(j=y.x+h-k.x+x.x),y.x-j-T.x<0&&(j=y.x-T.x),y.y+u+x.y>k.y&&($=y.y+u-k.y+x.y),y.y-$-T.y<0&&($=y.y-T.y),(j||$)&&o.fire("autopanstart").panBy([j,$])}},_onCloseButtonClick:function(o){this._close(),gn(o)},_getAnchor:function(){return ye(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});ae.mergeOptions({closePopupOnClick:!0}),ae.include({openPopup:function(o,a,u){return o instanceof Ji||(o=new Ji(u).setContent(o)),a&&o.setLatLng(a),this.hasLayer(o)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=o,this.addLayer(o))},closePopup:function(o){return(!o||o===this._popup)&&(o=this._popup,this._popup=null),o&&this.removeLayer(o),this}}),pt.include({bindPopup:function(o,a){return o instanceof Ji?(Re(o,a),this._popup=o,o._source=this):((!this._popup||a)&&(this._popup=new Ji(a,this)),this._popup.setContent(o)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o,a){return this._popup&&this._map&&(a=this._popup._prepareOpen(this,o,a),this._map.openPopup(this._popup,a)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(o){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(o)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){var a=o.layer||o.target;if(this._popup&&this._map){if(gn(o),a instanceof mt)return void this.openPopup(o.layer||o.target,o.latlng);this._map.hasLayer(this._popup)&&this._popup._source===a?this.closePopup():this.openPopup(a,o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){13===o.originalEvent.keyCode&&this._openPopup(o)}});var Qi=Hn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(o){Hn.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(o){Hn.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var o=Hn.prototype.getEvents.call(this);return Ut&&!this.options.permanent&&(o.preclick=this._close),o},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){this._contentNode=this._container=G("div","leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var a,u,h=this._map,g=this._container,y=h.latLngToContainerPoint(h.getCenter()),C=h.layerPointToContainerPoint(o),T=this.options.direction,x=g.offsetWidth,k=g.offsetHeight,j=ye(this.options.offset),$=this._getAnchor();"top"===T?(a=x/2,u=k):"bottom"===T?(a=x/2,u=0):"center"===T?(a=x/2,u=k/2):"right"===T?(a=0,u=k/2):"left"===T?(a=x,u=k/2):C.x<y.x?(T="right",a=0,u=k/2):(T="left",a=x+2*(j.x+$.x),u=k/2),o=o.subtract(ye(a,u,!0)).add(j).add($),Fe(g,"leaflet-tooltip-right"),Fe(g,"leaflet-tooltip-left"),Fe(g,"leaflet-tooltip-top"),Fe(g,"leaflet-tooltip-bottom"),F(g,"leaflet-tooltip-"+T),Ge(g,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&ft(this._container,o)},_animateZoom:function(o){var a=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(a)},_getAnchor:function(){return ye(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});ae.include({openTooltip:function(o,a,u){return o instanceof Qi||(o=new Qi(u).setContent(o)),a&&o.setLatLng(a),this.hasLayer(o)?this:this.addLayer(o)},closeTooltip:function(o){return o&&this.removeLayer(o),this}}),pt.include({bindTooltip:function(o,a){return o instanceof Qi?(Re(o,a),this._tooltip=o,o._source=this):((!this._tooltip||a)&&(this._tooltip=new Qi(a,this)),this._tooltip.setContent(o)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(o||!this._tooltipHandlersAdded){var a=o?"off":"on",u={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?u.add=this._openTooltip:(u.mouseover=this._openTooltip,u.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(u.mousemove=this._moveTooltip),Ut&&(u.click=this._openTooltip)),this[a](u),this._tooltipHandlersAdded=!o}},openTooltip:function(o,a){return this._tooltip&&this._map&&(a=this._tooltip._prepareOpen(this,o,a),this._map.openTooltip(this._tooltip,a),this._tooltip.options.interactive&&this._tooltip._container&&(F(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(Fe(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(o){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(o)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_openTooltip:function(o){!this._tooltip||!this._map||this.openTooltip(o.layer||o.target,this._tooltip.options.sticky?o.latlng:void 0)},_moveTooltip:function(o){var u,h,a=o.latlng;this._tooltip.options.sticky&&o.originalEvent&&(u=this._map.mouseEventToContainerPoint(o.originalEvent),h=this._map.containerPointToLayerPoint(u),a=this._map.layerPointToLatLng(h)),this._tooltip.setLatLng(a)}});var cu=H.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var a=o&&"DIV"===o.tagName?o:document.createElement("div"),u=this.options;if(u.html instanceof Element?(De(a),a.appendChild(u.html)):a.innerHTML=!1!==u.html?u.html:"",u.bgPos){var h=ye(u.bgPos);a.style.backgroundPosition=-h.x+"px "+-h.y+"px"}return this._setIconStyles(a,"icon"),a},createShadow:function(){return null}});H.Default=xe;var Oo=pt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Jn,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){Re(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),ke(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(An(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(wi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=z(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof ee?o:new ee(o,o)},_updateZIndex:function(){this._container&&null!=this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var y,a=this.getPane().children,u=-o(-1/0,1/0),h=0,g=a.length;h<g;h++)y=a[h].style.zIndex,a[h]!==this._container&&y&&(u=o(u,+y));isFinite(u)&&(this.options.zIndex=u+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!_i){ft(this._container,this.options.opacity);var o=+new Date,a=!1,u=!1;for(var h in this._tiles){var g=this._tiles[h];if(g.current&&g.loaded){var y=Math.min(1,(o-g.loaded)/200);ft(g.el,y),y<1?a=!0:(g.active?u=!0:this._onOpaqueTile(g),g.active=!0)}}u&&!this._noPrune&&this._pruneTiles(),a&&(at(this._fadeFrame),this._fadeFrame=st(this._updateOpacity,this))}},_onOpaqueTile:Z,_initContainer:function(){this._container||(this._container=G("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,a=this.options.maxZoom;if(void 0!==o){for(var u in this._levels)u=Number(u),this._levels[u].el.children.length||u===o?(this._levels[u].el.style.zIndex=a-Math.abs(o-u),this._onUpdateLevel(u)):(ke(this._levels[u].el),this._removeTilesAtZoom(u),this._onRemoveLevel(u),delete this._levels[u]);var h=this._levels[o],g=this._map;return h||((h=this._levels[o]={}).el=G("div","leaflet-tile-container leaflet-zoom-animated",this._container),h.el.style.zIndex=a,h.origin=g.project(g.unproject(g.getPixelOrigin()),o).round(),h.zoom=o,this._setZoomTransform(h,g.getCenter(),g.getZoom()),this._onCreateLevel(h)),this._level=h,h}},_onUpdateLevel:Z,_onRemoveLevel:Z,_onCreateLevel:Z,_pruneTiles:function(){if(this._map){var o,a,u=this._map.getZoom();if(u>this.options.maxZoom||u<this.options.minZoom)return void this._removeAllTiles();for(o in this._tiles)(a=this._tiles[o]).retain=a.current;for(o in this._tiles)if((a=this._tiles[o]).current&&!a.active){var h=a.coords;this._retainParent(h.x,h.y,h.z,h.z-5)||this._retainChildren(h.x,h.y,h.z,h.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var a in this._tiles)this._tiles[a].coords.z===o&&this._removeTile(a)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)ke(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,a,u,h){var g=Math.floor(o/2),y=Math.floor(a/2),C=u-1,T=new ee(+g,+y);T.z=+C;var x=this._tileCoordsToKey(T),k=this._tiles[x];return k&&k.active?(k.retain=!0,!0):(k&&k.loaded&&(k.retain=!0),C>h&&this._retainParent(g,y,C,h))},_retainChildren:function(o,a,u,h){for(var g=2*o;g<2*o+2;g++)for(var y=2*a;y<2*a+2;y++){var C=new ee(g,y);C.z=u+1;var T=this._tileCoordsToKey(C),x=this._tiles[T];x&&x.active?x.retain=!0:(x&&x.loaded&&(x.retain=!0),u+1<h&&this._retainChildren(g,y,u+1,h))}},_resetView:function(o){var a=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),a,a)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var a=this.options;return void 0!==a.minNativeZoom&&o<a.minNativeZoom?a.minNativeZoom:void 0!==a.maxNativeZoom&&a.maxNativeZoom<o?a.maxNativeZoom:o},_setView:function(o,a,u,h){var g=Math.round(a);g=void 0!==this.options.maxZoom&&g>this.options.maxZoom||void 0!==this.options.minZoom&&g<this.options.minZoom?void 0:this._clampZoom(g),(!h||this.options.updateWhenZooming&&g!==this._tileZoom)&&(this._tileZoom=g,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==g&&this._update(o),u||this._pruneTiles(),this._noPrune=!!u),this._setZoomTransforms(o,a)},_setZoomTransforms:function(o,a){for(var u in this._levels)this._setZoomTransform(this._levels[u],o,a)},_setZoomTransform:function(o,a,u){var h=this._map.getZoomScale(u,o.zoom),g=o.origin.multiplyBy(h).subtract(this._map._getNewPixelOrigin(a,u)).round();bt?ti(o.el,g,h):Ge(o.el,g)},_resetGrid:function(){var o=this._map,a=o.options.crs,u=this._tileSize=this.getTileSize(),h=this._tileZoom,g=this._map.getPixelWorldBounds(this._tileZoom);g&&(this._globalTileRange=this._pxBoundsToTileRange(g)),this._wrapX=a.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,a.wrapLng[0]],h).x/u.x),Math.ceil(o.project([0,a.wrapLng[1]],h).x/u.y)],this._wrapY=a.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([a.wrapLat[0],0],h).y/u.x),Math.ceil(o.project([a.wrapLat[1],0],h).y/u.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var a=this._map,u=a._animatingZoom?Math.max(a._animateToZoom,a.getZoom()):a.getZoom(),h=a.getZoomScale(u,this._tileZoom),g=a.project(o,this._tileZoom).floor(),y=a.getSize().divideBy(2*h);return new Se(g.subtract(y),g.add(y))},_update:function(o){var a=this._map;if(a){var u=this._clampZoom(a.getZoom());if(void 0===o&&(o=a.getCenter()),void 0!==this._tileZoom){var h=this._getTiledPixelBounds(o),g=this._pxBoundsToTileRange(h),y=g.getCenter(),C=[],T=this.options.keepBuffer,x=new Se(g.getBottomLeft().subtract([T,-T]),g.getTopRight().add([T,-T]));if(!(isFinite(g.min.x)&&isFinite(g.min.y)&&isFinite(g.max.x)&&isFinite(g.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var k in this._tiles){var j=this._tiles[k].coords;(j.z!==this._tileZoom||!x.contains(new ee(j.x,j.y)))&&(this._tiles[k].current=!1)}if(Math.abs(u-this._tileZoom)>1)return void this._setView(o,u);for(var $=g.min.y;$<=g.max.y;$++)for(var ie=g.min.x;ie<=g.max.x;ie++){var vn=new ee(ie,$);if(vn.z=this._tileZoom,this._isValidTile(vn)){var wn=this._tiles[this._tileCoordsToKey(vn)];wn?wn.current=!0:C.push(vn)}}if(C.sort(function(ze,Fo){return ze.distanceTo(y)-Fo.distanceTo(y)}),0!==C.length){this._loading||(this._loading=!0,this.fire("loading"));var Dn=document.createDocumentFragment();for(ie=0;ie<C.length;ie++)this._addTile(C[ie],Dn);this._level.el.appendChild(Dn)}}}},_isValidTile:function(o){var a=this._map.options.crs;if(!a.infinite){var u=this._globalTileRange;if(!a.wrapLng&&(o.x<u.min.x||o.x>u.max.x)||!a.wrapLat&&(o.y<u.min.y||o.y>u.max.y))return!1}if(!this.options.bounds)return!0;var h=this._tileCoordsToBounds(o);return Oe(this.options.bounds).overlaps(h)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var a=this._map,u=this.getTileSize(),h=o.scaleBy(u),g=h.add(u);return[a.unproject(h,o.z),a.unproject(g,o.z)]},_tileCoordsToBounds:function(o){var a=this._tileCoordsToNwSe(o),u=new ht(a[0],a[1]);return this.options.noWrap||(u=this._map.wrapLatLngBounds(u)),u},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var a=o.split(":"),u=new ee(+a[0],+a[1]);return u.z=+a[2],u},_removeTile:function(o){var a=this._tiles[o];!a||(ke(a.el),delete this._tiles[o],this.fire("tileunload",{tile:a.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){F(o,"leaflet-tile");var a=this.getTileSize();o.style.width=a.x+"px",o.style.height=a.y+"px",o.onselectstart=Z,o.onmousemove=Z,_i&&this.options.opacity<1&&ft(o,this.options.opacity),vo&&!zt&&(o.style.WebkitBackfaceVisibility="hidden")},_addTile:function(o,a){var u=this._getTilePos(o),h=this._tileCoordsToKey(o),g=this.createTile(this._wrapCoords(o),w(this._tileReady,this,o));this._initTile(g),this.createTile.length<2&&st(w(this._tileReady,this,o,null,g)),Ge(g,u),this._tiles[h]={el:g,coords:o,current:!0},a.appendChild(g),this.fire("tileloadstart",{tile:g,coords:o})},_tileReady:function(o,a,u){a&&this.fire("tileerror",{error:a,tile:u,coords:o});var h=this._tileCoordsToKey(o);(u=this._tiles[h])&&(u.loaded=+new Date,this._map._fadeAnimated?(ft(u.el,0),at(this._fadeFrame),this._fadeFrame=st(this._updateOpacity,this)):(u.active=!0,this._pruneTiles()),a||(F(u.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:u.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),_i||!this._map._fadeAnimated?st(this._pruneTiles,this):setTimeout(w(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var a=new ee(this._wrapX?V(o.x,this._wrapX):o.x,this._wrapY?V(o.y,this._wrapY):o.y);return a.z=o.z,a},_pxBoundsToTileRange:function(o){var a=this.getTileSize();return new Se(o.min.unscaleBy(a).floor(),o.max.unscaleBy(a).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});var Xi=Oo.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(o,a){this._url=o,(a=Re(this,a)).detectRetina&&kn&&a.maxZoom>0&&(a.tileSize=Math.floor(a.tileSize/2),a.zoomReverse?(a.zoomOffset--,a.minZoom++):(a.zoomOffset++,a.maxZoom--),a.minZoom=Math.max(0,a.minZoom)),"string"==typeof a.subdomains&&(a.subdomains=a.subdomains.split("")),vo||this.on("tileunload",this._onTileRemove)},setUrl:function(o,a){return this._url===o&&void 0===a&&(a=!0),this._url=o,a||this.redraw(),this},createTile:function(o,a){var u=document.createElement("img");return he(u,"load",w(this._tileOnLoad,this,a,u)),he(u,"error",w(this._tileOnError,this,a,u)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(u.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),u.alt="",u.setAttribute("role","presentation"),u.src=this.getTileUrl(o),u},getTileUrl:function(o){var a={r:kn?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var u=this._globalTileRange.max.y-o.y;this.options.tms&&(a.y=u),a["-y"]=u}return ho(this._url,f(a,this.options))},_tileOnLoad:function(o,a){_i?setTimeout(w(o,this,null,a),0):o(null,a)},_tileOnError:function(o,a,u){var h=this.options.errorTileUrl;h&&a.getAttribute("src")!==h&&(a.src=h),o(u,a)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom;return this.options.zoomReverse&&(o=this.options.maxZoom-o),o+this.options.zoomOffset},_getSubdomain:function(o){var a=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[a]},_abortLoading:function(){var o,a;for(o in this._tiles)this._tiles[o].coords.z!==this._tileZoom&&((a=this._tiles[o].el).onload=Z,a.onerror=Z,a.complete||(a.src=fo,ke(a),delete this._tiles[o]))},_removeTile:function(o){var a=this._tiles[o];if(a)return Zl||a.el.setAttribute("src",fo),Oo.prototype._removeTile.call(this,o)},_tileReady:function(o,a,u){if(this._map&&(!u||u.getAttribute("src")!==fo))return Oo.prototype._tileReady.call(this,o,a,u)}});function du(o,a){return new Xi(o,a)}var hu=Xi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,a){this._url=o;var u=f({},this.defaultWmsParams);for(var h in a)h in this.options||(u[h]=a[h]);var g=(a=Re(this,a)).detectRetina&&kn?2:1,y=this.getTileSize();u.width=y.x*g,u.height=y.y*g,this.wmsParams=u},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version),this.wmsParams[this._wmsVersion>=1.3?"crs":"srs"]=this._crs.code,Xi.prototype.onAdd.call(this,o)},getTileUrl:function(o){var a=this._tileCoordsToNwSe(o),u=this._crs,h=St(u.project(a[0]),u.project(a[1])),g=h.min,y=h.max,C=(this._wmsVersion>=1.3&&this._crs===Io?[g.y,g.x,y.y,y.x]:[g.x,g.y,y.x,y.y]).join(","),T=Xi.prototype.getTileUrl.call(this,o);return T+Vs(this.wmsParams,T,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+C},setParams:function(o,a){return f(this.wmsParams,o),a||this.redraw(),this}});Xi.WMS=hu,du.wms=function ph(o,a){return new hu(o,a)};var $t=pt.extend({options:{padding:.1,tolerance:0},initialize:function(o){Re(this,o),O(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&F(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,a){var u=this._map.getZoomScale(a,this._zoom),h=ni(this._container),g=this._map.getSize().multiplyBy(.5+this.options.padding),y=this._map.project(this._center,a),T=this._map.project(o,a).subtract(y),x=g.multiplyBy(-u).add(h).add(g).subtract(T);bt?ti(this._container,x,u):Ge(this._container,x)},_reset:function(){for(var o in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,a=this._map.getSize(),u=this._map.containerPointToLayerPoint(a.multiplyBy(-o)).round();this._bounds=new Se(u,u.add(a.multiplyBy(1+2*o)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Ao=$t.extend({getEvents:function(){var o=$t.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){$t.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");he(o,"mousemove",this._onMouseMove,this),he(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),he(o,"mouseout",this._handleMouseOut,this),this._ctx=o.getContext("2d")},_destroyContainer:function(){at(this._redrawRequest),delete this._ctx,ke(this._container),X(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var a in this._redrawBounds=null,this._layers)this._layers[a]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){$t.prototype._update.call(this);var o=this._bounds,a=this._container,u=o.getSize(),h=kn?2:1;Ge(a,o.min),a.width=h*u.x,a.height=h*u.y,a.style.width=u.x+"px",a.style.height=u.y+"px",kn&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){$t.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[O(o)]=o;var a=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=a),this._drawLast=a,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var a=o._order,u=a.next,h=a.prev;u?u.prev=h:this._drawLast=h,h?h.next=u:this._drawFirst=u,delete o._order,delete this._layers[O(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if("string"==typeof o.options.dashArray){var h,g,a=o.options.dashArray.split(/[, ]+/),u=[];for(g=0;g<a.length;g++){if(h=Number(a[g]),isNaN(h))return;u.push(h)}o.options._dashArray=u}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){!this._map||(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||st(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var a=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Se,this._redrawBounds.extend(o._pxBounds.min.subtract([a,a])),this._redrawBounds.extend(o._pxBounds.max.add([a,a]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var a=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,a.x,a.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,a=this._redrawBounds;if(this._ctx.save(),a){var u=a.getSize();this._ctx.beginPath(),this._ctx.rect(a.min.x,a.min.y,u.x,u.y),this._ctx.clip()}this._drawing=!0;for(var h=this._drawFirst;h;h=h.next)o=h.layer,(!a||o._pxBounds&&o._pxBounds.intersects(a))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,a){if(this._drawing){var u,h,g,y,C=o._parts,T=C.length,x=this._ctx;if(T){for(x.beginPath(),u=0;u<T;u++){for(h=0,g=C[u].length;h<g;h++)x[h?"lineTo":"moveTo"]((y=C[u][h]).x,y.y);a&&x.closePath()}this._fillStroke(x,o)}}},_updateCircle:function(o){if(this._drawing&&!o._empty()){var a=o._point,u=this._ctx,h=Math.max(Math.round(o._radius),1),g=(Math.max(Math.round(o._radiusY),1)||h)/h;1!==g&&(u.save(),u.scale(1,g)),u.beginPath(),u.arc(a.x,a.y/g,h,0,2*Math.PI,!1),1!==g&&u.restore(),this._fillStroke(u,o)}},_fillStroke:function(o,a){var u=a.options;u.fill&&(o.globalAlpha=u.fillOpacity,o.fillStyle=u.fillColor||u.color,o.fill(u.fillRule||"evenodd")),u.stroke&&0!==u.weight&&(o.setLineDash&&o.setLineDash(a.options&&a.options._dashArray||[]),o.globalAlpha=u.opacity,o.lineWidth=u.weight,o.strokeStyle=u.color,o.lineCap=u.lineCap,o.lineJoin=u.lineJoin,o.stroke())},_onClick:function(o){for(var u,h,a=this._map.mouseEventToLayerPoint(o),g=this._drawFirst;g;g=g.next)(u=g.layer).options.interactive&&u._containsPoint(a)&&("click"!==o.type&&"preclick"===o.type||!this._map._draggableMoved(u))&&(h=u);h&&(Lo(o),this._fireEvent([h],o))},_onMouseMove:function(o){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var a=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,a)}},_handleMouseOut:function(o){var a=this._hoveredLayer;a&&(Fe(this._container,"leaflet-interactive"),this._fireEvent([a],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,a){if(!this._mouseHoverThrottled){for(var u,h,g=this._drawFirst;g;g=g.next)(u=g.layer).options.interactive&&u._containsPoint(a)&&(h=u);h!==this._hoveredLayer&&(this._handleMouseOut(o),h&&(F(this._container,"leaflet-interactive"),this._fireEvent([h],o,"mouseover"),this._hoveredLayer=h)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],o),this._mouseHoverThrottled=!0,setTimeout(w(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,a,u){this._map._fireDOMEvent(a,u||a.type,o)},_bringToFront:function(o){var a=o._order;if(a){var u=a.next,h=a.prev;if(!u)return;u.prev=h,h?h.next=u:u&&(this._drawFirst=u),a.prev=this._drawLast,this._drawLast.next=a,a.next=null,this._drawLast=a,this._requestRedraw(o)}},_bringToBack:function(o){var a=o._order;if(a){var u=a.next,h=a.prev;if(!h)return;h.next=u,u?u.prev=h:h&&(this._drawLast=h),a.prev=null,a.next=this._drawFirst,this._drawFirst.prev=a,this._drawFirst=a,this._requestRedraw(o)}}});function fu(o){return Js?new Ao(o):null}var No=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch(o){return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),gh={_initContainer:function(){this._container=G("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||($t.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var a=o._container=No("shape");F(a,"leaflet-vml-shape "+(this.options.className||"")),a.coordsize="1 1",o._path=No("path"),a.appendChild(o._path),this._updateStyle(o),this._layers[O(o)]=o},_addPath:function(o){var a=o._container;this._container.appendChild(a),o.options.interactive&&o.addInteractiveTarget(a)},_removePath:function(o){var a=o._container;ke(a),o.removeInteractiveTarget(a),delete this._layers[O(o)]},_updateStyle:function(o){var a=o._stroke,u=o._fill,h=o.options,g=o._container;g.stroked=!!h.stroke,g.filled=!!h.fill,h.stroke?(a||(a=o._stroke=No("stroke")),g.appendChild(a),a.weight=h.weight+"px",a.color=h.color,a.opacity=h.opacity,a.dashStyle=h.dashArray?rt(h.dashArray)?h.dashArray.join(" "):h.dashArray.replace(/( *, *)/g," "):"",a.endcap=h.lineCap.replace("butt","flat"),a.joinstyle=h.lineJoin):a&&(g.removeChild(a),o._stroke=null),h.fill?(u||(u=o._fill=No("fill")),g.appendChild(u),u.color=h.fillColor||h.color,u.opacity=h.fillOpacity):u&&(g.removeChild(u),o._fill=null)},_updateCircle:function(o){var a=o._point.round(),u=Math.round(o._radius),h=Math.round(o._radiusY||u);this._setPath(o,o._empty()?"M0 0":"AL "+a.x+","+a.y+" "+u+","+h+" 0,23592600")},_setPath:function(o,a){o._path.v=a},_bringToFront:function(o){An(o._container)},_bringToBack:function(o){wi(o._container)}},sn=bo?No:jl,eo=$t.extend({getEvents:function(){var o=$t.prototype.getEvents.call(this);return o.zoomstart=this._onZoomStart,o},_initContainer:function(){this._container=sn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=sn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ke(this._container),X(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){$t.prototype._update.call(this);var o=this._bounds,a=o.getSize(),u=this._container;(!this._svgSize||!this._svgSize.equals(a))&&(this._svgSize=a,u.setAttribute("width",a.x),u.setAttribute("height",a.y)),Ge(u,o.min),u.setAttribute("viewBox",[o.min.x,o.min.y,a.x,a.y].join(" ")),this.fire("update")}},_initPath:function(o){var a=o._path=sn("path");o.options.className&&F(a,o.options.className),o.options.interactive&&F(a,"leaflet-interactive"),this._updateStyle(o),this._layers[O(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){ke(o._path),o.removeInteractiveTarget(o._path),delete this._layers[O(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var a=o._path,u=o.options;!a||(u.stroke?(a.setAttribute("stroke",u.color),a.setAttribute("stroke-opacity",u.opacity),a.setAttribute("stroke-width",u.weight),a.setAttribute("stroke-linecap",u.lineCap),a.setAttribute("stroke-linejoin",u.lineJoin),u.dashArray?a.setAttribute("stroke-dasharray",u.dashArray):a.removeAttribute("stroke-dasharray"),u.dashOffset?a.setAttribute("stroke-dashoffset",u.dashOffset):a.removeAttribute("stroke-dashoffset")):a.setAttribute("stroke","none"),u.fill?(a.setAttribute("fill",u.fillColor||u.color),a.setAttribute("fill-opacity",u.fillOpacity),a.setAttribute("fill-rule",u.fillRule||"evenodd")):a.setAttribute("fill","none"))},_updatePoly:function(o,a){this._setPath(o,Tr(o._parts,a))},_updateCircle:function(o){var a=o._point,u=Math.max(Math.round(o._radius),1),g="a"+u+","+(Math.max(Math.round(o._radiusY),1)||u)+" 0 1,0 ",y=o._empty()?"M0 0":"M"+(a.x-u)+","+a.y+g+2*u+",0 "+g+2*-u+",0 ";this._setPath(o,y)},_setPath:function(o,a){o._path.setAttribute("d",a)},_bringToFront:function(o){An(o._path)},_bringToBack:function(o){wi(o._path)}});function to(o){return Fi||bo?new eo(o):null}bo&&eo.include(gh),ae.include({getRenderer:function(o){var a=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return a||(a=this._renderer=this._createRenderer()),this.hasLayer(a)||this.addLayer(a),a},_getPaneRenderer:function(o){if("overlayPane"===o||void 0===o)return!1;var a=this._paneRenderers[o];return void 0===a&&(a=this._createRenderer({pane:o}),this._paneRenderers[o]=a),a},_createRenderer:function(o){return this.options.preferCanvas&&fu(o)||to(o)}});var Gr=Bn.extend({initialize:function(o,a){Bn.prototype.initialize.call(this,this._boundsToLatLngs(o),a)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return[(o=Oe(o)).getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});eo.create=sn,eo.pointsToPath=Tr,He.geometryToLayer=si,He.coordsToLatLng=Et,He.coordsToLatLngs=Te,He.latLngToCoords=Zr,He.latLngsToCoords=So,He.getFeature=dt,He.asFeature=_t,ae.mergeOptions({boxZoom:!0});var wa=ce.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){he(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){X(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ke(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||1!==o.which&&1!==o.button)return!1;this._clearDeferredResetState(),this._resetState(),Nn(),oa(),this._startPoint=this._map.mouseEventToContainerPoint(o),he(document,{contextmenu:gn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=G("div","leaflet-zoom-box",this._container),F(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var a=new Se(this._point,this._startPoint),u=a.getSize();Ge(this._box,a.min),this._box.style.width=u.x+"px",this._box.style.height=u.y+"px"},_finish:function(){this._moved&&(ke(this._box),Fe(this._container,"leaflet-crosshair")),et(),Zt(),X(document,{contextmenu:gn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if((1===o.which||1===o.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(w(this._resetState,this),0);var a=new ht(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(a).fire("boxzoomend",{boxZoomBounds:a})}},_onKeyDown:function(o){27===o.keyCode&&this._finish()}});ae.addInitHook("addHandler","boxZoom",wa),ae.mergeOptions({doubleClickZoom:!0});var $r=ce.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var a=this._map,u=a.getZoom(),h=a.options.zoomDelta,g=o.originalEvent.shiftKey?u-h:u+h;"center"===a.options.doubleClickZoom?a.setZoom(g):a.setZoomAround(o.containerPoint,g)}});ae.addInitHook("addHandler","doubleClickZoom",$r),ae.mergeOptions({dragging:!0,inertia:!zt,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Wr=ce.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new nn(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}F(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Fe(this._map._container,"leaflet-grab"),Fe(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var a=Oe(this._map.options.maxBounds);this._offsetLimit=St(this._map.latLngToContainerPoint(a.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(a.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var a=this._lastTime=+new Date,u=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(u),this._times.push(a),this._prunePositions(a)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),a=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=a.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,a){return o-(o-a)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var o=this._draggable._newPos.subtract(this._draggable._startPos),a=this._offsetLimit;o.x<a.min.x&&(o.x=this._viscousLimit(o.x,a.min.x)),o.y<a.min.y&&(o.y=this._viscousLimit(o.y,a.min.y)),o.x>a.max.x&&(o.x=this._viscousLimit(o.x,a.max.x)),o.y>a.max.y&&(o.y=this._viscousLimit(o.y,a.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,a=Math.round(o/2),u=this._initialWorldOffset,h=this._draggable._newPos.x,g=(h-a+u)%o+a-u,y=(h+a+u)%o-a-u,C=Math.abs(g+u)<Math.abs(y+u)?g:y;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=C},_onDragEnd:function(o){var a=this._map,u=a.options,h=!u.inertia||this._times.length<2;if(a.fire("dragend",o),h)a.fire("moveend");else{this._prunePositions(+new Date);var g=this._lastPos.subtract(this._positions[0]),C=u.easeLinearity,T=g.multiplyBy(C/((this._lastTime-this._times[0])/1e3)),x=T.distanceTo([0,0]),k=Math.min(u.inertiaMaxSpeed,x),j=T.multiplyBy(k/x),$=k/(u.inertiaDeceleration*C),ie=j.multiplyBy(-$/2).round();ie.x||ie.y?(ie=a._limitOffset(ie,a.options.maxBounds),st(function(){a.panBy(ie,{duration:$,easeLinearity:C,noMoveStart:!0,animate:!0})})):a.fire("moveend")}}});ae.addInitHook("addHandler","dragging",Wr),ae.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Da=ce.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),he(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),X(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,a=document.documentElement,u=o.scrollTop||a.scrollTop,h=o.scrollLeft||a.scrollLeft;this._map._container.focus(),window.scrollTo(h,u)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var h,g,a=this._panKeys={},u=this.keyCodes;for(h=0,g=u.left.length;h<g;h++)a[u.left[h]]=[-1*o,0];for(h=0,g=u.right.length;h<g;h++)a[u.right[h]]=[o,0];for(h=0,g=u.down.length;h<g;h++)a[u.down[h]]=[0,o];for(h=0,g=u.up.length;h<g;h++)a[u.up[h]]=[0,-1*o]},_setZoomDelta:function(o){var h,g,a=this._zoomKeys={},u=this.keyCodes;for(h=0,g=u.zoomIn.length;h<g;h++)a[u.zoomIn[h]]=o;for(h=0,g=u.zoomOut.length;h<g;h++)a[u.zoomOut[h]]=-o},_addHooks:function(){he(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){X(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var h,a=o.keyCode,u=this._map;if(a in this._panKeys)(!u._panAnim||!u._panAnim._inProgress)&&(h=this._panKeys[a],o.shiftKey&&(h=ye(h).multiplyBy(3)),u.panBy(h),u.options.maxBounds&&u.panInsideBounds(u.options.maxBounds));else if(a in this._zoomKeys)u.setZoom(u.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[a]);else{if(27!==a||!u._popup||!u._popup.options.closeOnEscapeKey)return;u.closePopup()}gn(o)}}});ae.addInitHook("addHandler","keyboard",Da),ae.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ro=ce.extend({addHooks:function(){he(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){X(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var a=Zi(o),u=this._map.options.wheelDebounceTime;this._delta+=a,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var h=Math.max(u-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(w(this._performZoom,this),h),gn(o)},_performZoom:function(){var o=this._map,a=o.getZoom(),u=this._map.options.zoomSnap||0;o._stop();var g=4*Math.log(2/(1+Math.exp(-Math.abs(this._delta/(4*this._map.options.wheelPxPerZoomLevel)))))/Math.LN2,y=u?Math.ceil(g/u)*u:g,C=o._limitZoom(a+(this._delta>0?y:-y))-a;this._delta=0,this._startTime=null,C&&("center"===o.options.scrollWheelZoom?o.setZoom(a+C):o.setZoomAround(this._lastMousePos,a+C))}});ae.addInitHook("addHandler","scrollWheelZoom",Ro),ae.mergeOptions({tap:!0,tapTolerance:15});var ba=ce.extend({addHooks:function(){he(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){X(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(o.touches){if(Ct(o),this._fireClick=!0,o.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var a=o.touches[0],u=a.target;this._startPos=this._newPos=new ee(a.clientX,a.clientY),u.tagName&&"a"===u.tagName.toLowerCase()&&F(u,"leaflet-active"),this._holdTimeout=setTimeout(w(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",a))},this),1e3),this._simulateEvent("mousedown",a),he(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(o){if(clearTimeout(this._holdTimeout),X(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&o&&o.changedTouches){var a=o.changedTouches[0],u=a.target;u&&u.tagName&&"a"===u.tagName.toLowerCase()&&Fe(u,"leaflet-active"),this._simulateEvent("mouseup",a),this._isTapValid()&&this._simulateEvent("click",a)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(o){var a=o.touches[0];this._newPos=new ee(a.clientX,a.clientY),this._simulateEvent("mousemove",a)},_simulateEvent:function(o,a){var u=document.createEvent("MouseEvents");u._simulated=!0,a.target._simulatedClick=!0,u.initMouseEvent(o,!0,!0,window,1,a.screenX,a.screenY,a.clientX,a.clientY,!1,!1,!1,!1,0,null),a.target.dispatchEvent(u)}});Ut&&(!jt||Sr)&&ae.addInitHook("addHandler","tap",ba),ae.mergeOptions({touchZoom:Ut&&!zt,bounceAtZoomLimits:!0});var Mt=ce.extend({addHooks:function(){F(this._map._container,"leaflet-touch-zoom"),he(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Fe(this._map._container,"leaflet-touch-zoom"),X(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var a=this._map;if(o.touches&&2===o.touches.length&&!a._animatingZoom&&!this._zooming){var u=a.mouseEventToContainerPoint(o.touches[0]),h=a.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=a.getSize()._divideBy(2),this._startLatLng=a.containerPointToLatLng(this._centerPoint),"center"!==a.options.touchZoom&&(this._pinchStartLatLng=a.containerPointToLatLng(u.add(h)._divideBy(2))),this._startDist=u.distanceTo(h),this._startZoom=a.getZoom(),this._moved=!1,this._zooming=!0,a._stop(),he(document,"touchmove",this._onTouchMove,this),he(document,"touchend",this._onTouchEnd,this),Ct(o)}},_onTouchMove:function(o){if(o.touches&&2===o.touches.length&&this._zooming){var a=this._map,u=a.mouseEventToContainerPoint(o.touches[0]),h=a.mouseEventToContainerPoint(o.touches[1]),g=u.distanceTo(h)/this._startDist;if(this._zoom=a.getScaleZoom(g,this._startZoom),!a.options.bounceAtZoomLimits&&(this._zoom<a.getMinZoom()&&g<1||this._zoom>a.getMaxZoom()&&g>1)&&(this._zoom=a._limitZoom(this._zoom)),"center"===a.options.touchZoom){if(this._center=this._startLatLng,1===g)return}else{var y=u._add(h)._divideBy(2)._subtract(this._centerPoint);if(1===g&&0===y.x&&0===y.y)return;this._center=a.unproject(a.project(this._pinchStartLatLng,this._zoom).subtract(y),this._zoom)}this._moved||(a._moveStart(!0,!1),this._moved=!0),at(this._animRequest);var C=w(a._move,a,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=st(C,this,!0),Ct(o)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,at(this._animRequest),X(document,"touchmove",this._onTouchMove,this),X(document,"touchend",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});ae.addInitHook("addHandler","touchZoom",Mt),ae.BoxZoom=wa,ae.DoubleClickZoom=$r,ae.Drag=Wr,ae.Keyboard=Da,ae.ScrollWheelZoom=Ro,ae.Tap=ba,ae.TouchZoom=Mt,P.version="1.7.1",P.Control=en,P.control=kt,P.Browser=On,P.Evented=mi,P.Mixin=lh,P.Util=zs,P.Class=Sn,P.Handler=ce,P.extend=f,P.bind=w,P.stamp=O,P.setOptions=Re,P.DomEvent=zr,P.DomUtil=nu,P.PosAnimation=ha,P.Draggable=nn,P.LineUtil=At,P.PolyUtil=lt,P.Point=ee,P.point=ye,P.Bounds=Se,P.bounds=St,P.Transformation=Gs,P.transformation=yo,P.Projection=Nt,P.LatLng=we,P.latLng=Ie,P.LatLngBounds=ht,P.latLngBounds=Oe,P.CRS=Vt,P.GeoJSON=He,P.geoJSON=Ki,P.geoJson=ko,P.Layer=pt,P.LayerGroup=Rt,P.layerGroup=function(o,a){return new Rt(o,a)},P.FeatureGroup=Ci,P.featureGroup=function(o,a){return new Ci(o,a)},P.ImageOverlay=yt,P.imageOverlay=function(o,a,u){return new yt(o,a,u)},P.VideoOverlay=lu,P.videoOverlay=function uu(o,a,u){return new lu(o,a,u)},P.SVGOverlay=va,P.svgOverlay=function uh(o,a,u){return new va(o,a,u)},P.DivOverlay=Hn,P.Popup=Ji,P.popup=function(o,a){return new Ji(o,a)},P.Tooltip=Qi,P.tooltip=function(o,a){return new Qi(o,a)},P.Icon=H,P.icon=function ue(o){return new H(o)},P.DivIcon=cu,P.divIcon=function hh(o){return new cu(o)},P.Marker=rn,P.marker=function Ye(o,a){return new rn(o,a)},P.TileLayer=Xi,P.tileLayer=du,P.GridLayer=Oo,P.gridLayer=function fh(o){return new Oo(o)},P.SVG=eo,P.svg=to,P.Renderer=$t,P.Canvas=Ao,P.canvas=fu,P.Path=mt,P.CircleMarker=Ae,P.circleMarker=function qi(o,a){return new Ae(o,a)},P.Circle=Fn,P.circle=function re(o,a,u){return new Fn(o,a,u)},P.Polyline=Bt,P.polyline=function Ei(o,a){return new Bt(o,a)},P.Polygon=Bn,P.polygon=function Mi(o,a){return new Bn(o,a)},P.Rectangle=Gr,P.rectangle=function pu(o,a){return new Gr(o,a)},P.Map=ae,P.map=function fa(o,a){return new ae(o,a)};var Ca=window.L;P.noConflict=function(){return window.L=Ca,this},window.L=P}(q)}},B=>{B(B.s=907)}]);